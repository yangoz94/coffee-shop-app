/*! For license information please see main.5379cfb3.js.LICENSE.txt */
!function(){var e={601:function(e,t,n){"use strict";n.d(t,{dP:function(){return i},wF:function(){return o},rO:function(){return a}});var r=n(639);n(336);function i(e){window.innerWidth>1024&&r.Store.addNotification({title:"Added to cart",message:"WOOHHOO, ".concat(e," has been added to your cart!"),type:"info",insert:"top",container:"top-right",animationIn:["animate__animated animate__bounceIn"],animationOut:["animate__animated animate__zoomOut"],dismiss:{duration:1500,onScreen:!0}})}function a(e){window.innerWidth>1024&&r.Store.addNotification({title:"Removed from cart",message:"NOOOOOOOOOO, ".concat(e," has been removed from your cart"),type:"danger",insert:"top",container:"top-left",animationIn:["animate__animated animate__bounceIn"],animationOut:["animate__animated animate__zoomOut"],dismiss:{duration:1500,onScreen:!0}})}function o(){window.innerWidth>1024&&r.Store.addNotification({title:"Cart cleared",message:"Your cart has been cleared",type:"danger",insert:"top",container:"top-center",animationIn:["animate__animated animate__bounceIn"],animationOut:["animate__animated animate__zoomOut"],dismiss:{duration:2e3,onScreen:!0}})}},660:function(e,t,n){"use strict";n.r(t);var r=n(982),i=n(885),a=n(810),o=n(791),u=n(650),s=n(601),c=n(184);t.default=function(e){var t=(0,o.useContext)(u.J),l=t.shoppingCartItems,f=t.setShoppingCartItems,h=(0,o.useState)(parseInt(localStorage.getItem(e.name))||0),d=(0,i.Z)(h,2),p=d[0],v=d[1];return(0,c.jsxs)("div",{className:a.default.CoffeeItem,children:[(0,c.jsx)("div",{className:a.default.CoffeeItem__img,children:(0,c.jsx)("img",{src:n(9)("./"+e.image),alt:e.alt})}),(0,c.jsxs)("div",{className:a.default.CoffeeItem__info,children:[(0,c.jsx)("h3",{className:a.default.CoffeeItem__name,children:e.name}),(0,c.jsx)("p",{className:a.default.CoffeeItem__desc,children:e.description}),(0,c.jsx)("p",{className:a.default.CoffeeItem__price,children:e.price}),(0,c.jsxs)("div",{className:a.default.QuantityUpdateWidget,children:[(0,c.jsx)("button",{onClick:function(){if(p>0&&(v((function(e){return e-1})),localStorage.setItem(e.name,p-1)),"0"===localStorage.getItem(e.name)?localStorage.removeItem(e.name):v(0),l.filter((function(t){return t.name===e.name})).length>0){var t=l.findIndex((function(t){return t.name===e.name}));f(l.filter((function(e,n){return n!==t}))),localStorage.setItem("shoppingCartItems",JSON.stringify(l.filter((function(e,n){return n!==t})))),(0,s.rO)(e.name)}"[]"===localStorage.getItem("shoppingCartItems")&&localStorage.removeItem("shoppingCartItems")},className:a.default.QuantityUpdateWidget__button,children:"-"}),(0,c.jsx)("div",{className:a.default.QuantityUpdateWidget__quantity,children:localStorage.getItem(e.name)||p}),(0,c.jsx)("button",{onClick:function(){v((function(e){return e+1})),localStorage.setItem(e.name,p+1),f([].concat((0,r.Z)(l),[{name:e.name,key:e.id,image:e.image,price:e.price}])),localStorage.setItem("shoppingCartItems",JSON.stringify([].concat((0,r.Z)(l),[{name:e.name,key:e.id,image:e.image,price:e.price}]))),(0,s.dP)(e.name)},className:a.default.QuantityUpdateWidget__button,children:"+"})]}),(0,c.jsx)("p",{className:a.default.CoffeeItem_reference,children:"Source: https://www.freshroastedcoffee.com/products/"})]})]})}},650:function(e,t,n){"use strict";n.d(t,{J:function(){return o},p:function(){return u}});var r=n(885),i=n(791),a=n(184),o=(0,i.createContext)(),u=function(e){var t=(0,i.useState)(localStorage.getItem("shoppingCartItems")?JSON.parse(localStorage.getItem("shoppingCartItems")):[]),n=(0,r.Z)(t,2),u=n[0],s=n[1];return(0,a.jsx)(o.Provider,{value:{shoppingCartItems:u,setShoppingCartItems:s},children:e.children})}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var F,M=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ae=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){Se?Ae?Ae.push(e):Ae=[e]:Se=e}function _e(){if(Se){var e=Se,t=Ae;if(Ae=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Ne=!1;function De(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ae)&&(Te(),_e())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Le=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Le=!1}function Re(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Me=null,Be=!1,Ve=null,je={onError:function(e){Fe=!0,Me=e}};function Ue(e,t,n,r,i,a,o,u,s){Fe=!1,Me=null,Re.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,At,Et,It=!1,_t=[],Ct=null,Tt=null,Nt=null,Dt=new Map,Ot=new Map,Lt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Bt(e)&&n.delete(t)}function jt(){It=!1,null!==Ct&&Bt(Ct)&&(Ct=null),null!==Tt&&Bt(Tt)&&(Tt=null),null!==Nt&&Bt(Nt)&&(Nt=null),Dt.forEach(Vt),Ot.forEach(Vt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Ut(t,e)}if(0<_t.length){Ut(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ut(Ct,e),null!==Tt&&Ut(Tt,e),null!==Nt&&Ut(Nt,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Lt.shift()}var qt=k.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Qt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Wt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Ft(Tt,e,t,n,r,i),!0;case"mouseover":return Nt=Ft(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Ft(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return An}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=an(In),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Ln=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Fn=l&&"TextEvent"in window&&!Rn,Mn=l&&(!Pn||Rn&&8<Rn&&11>=Rn),Bn=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Hn=null;function Wn(e){Br(e,0)}function Yn(e){if(H(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(l){var Jn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Hn=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,we(e)),De(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Qr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Ar={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return Sr[e]=n[t];return e}l&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),_r=Er("animationiteration"),Cr=Er("animationstart"),Tr=Er("transitionend"),Nr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),s(t,[e])}for(var Lr=0;Lr<Dr.length;Lr++){var Pr=Dr[Lr];Or(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Or(Ir,"onAnimationEnd"),Or(_r,"onAnimationIteration"),Or(Cr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Me;Fe=!1,Me=null,Be||(Be=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(Be)throw e=Ve,Be=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Qt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=_n;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Ir:case _r:case Cr:s=yn;break;case Tr:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Gn(u))if(Zn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(g=en()):(Jt="value"in(Zt=i)?Zt.value:Zt.textContent,zn=!0)),0<(y=Qr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Un(n))&&(b.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Vn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&jn(e,t)?(e=en(),$t=Jt=Zt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Br(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function Ai(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ii(e,t){Si++,xi[Si]=e.current,e.current=t}var _i={},Ci=Ai(_i),Ti=Ai(!1),Ni=_i;function Di(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ei(Ti),Ei(Ci)}function Pi(e,t,n){if(Ci.current!==_i)throw Error(a(168));Ii(Ci,t),Ii(Ti,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ni=Ci.current,Ii(Ci,e),Ii(Ti,Ti.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Ci),Ii(Ci,e)):Ei(Ti),Ii(Ti,n)}var Bi=null,Vi=!1,ji=!1;function Ui(e){null===Bi?Bi=[e]:Bi.push(e)}function zi(){if(!ji&&null!==Bi){ji=!0;var e=0,t=bt;try{var n=Bi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,Vi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),He($e,zi),i}finally{bt=t,ji=!1}}return null}var qi=[],Gi=0,Ki=null,Qi=0,Hi=[],Wi=0,Yi=null,Xi=1,Zi="";function Ji(e,t){qi[Gi++]=Qi,qi[Gi++]=Ki,Ki=e,Qi=t}function $i(e,t,n){Hi[Wi++]=Xi,Hi[Wi++]=Zi,Hi[Wi++]=Yi,Yi=e;var r=Xi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Zi=a+e}else Xi=1<<a|n<<i|r,Zi=e}function ea(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Qi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Hi[--Wi],Hi[Wi]=null,Zi=Hi[--Wi],Hi[Wi]=null,Xi=Hi[--Wi],Hi[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ai(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Aa(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function _a(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,_a(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,_a(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=La(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=La(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),Ra(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=_i,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):_i),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Ci.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Qa(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case x:return(t=Bc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=R(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Rc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Qa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Bc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(R(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=Ya(!0),Za=Ya(!1),Ja={},$a=Ai(Ja),eo=Ai(Ja),to=Ai(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii($a,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($a),Ii($a,t)}function io(){Ei($a),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no($a.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii($a,n))}function oo(e){eo.current===e&&(Ei($a),Ei(eo))}var uo=Ai(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Ao(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function _o(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function To(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=vo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Go(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ts)throw Error(a(349));0!==(30&po)||Lo(n,t,i)}return i}function Lo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Mo(e)}function Ro(e,t,n){return n((function(){Fo(t)&&Mo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Ta(e,1);null!==t&&nc(t,e,1,-1)}function Bo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return _o().memoizedState}function Uo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Uo(8390656,8,e,t)}function Go(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Qo(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return _o().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,_a(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Bo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=$o.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ts)throw Error(a(349));0!==(30&po)||Lo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ts.identifierPrefix;if(ia){var n=Zi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Go,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:Zo,useReducer:To,useRef:jo,useState:function(){return To(Co)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(_o(),mo.memoizedState,e)},useTransition:function(){return[To(Co)[0],_o().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Go,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:Zo,useReducer:No,useRef:jo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=_o();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],_o().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?Za(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Aa(t,i),r=Ao(e,t,n,r,a,i),n=Eo(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Au(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Lc(a,r)).ref=t.ref,e.return=t,t.child=e}function Au(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return _u(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ls,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ls,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ls,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ls,Os),Os|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _u(e,t,n,r,i){var a=Oi(n)?Ni:Ci.current;return a=Di(t,a),Aa(t,i),n=Ao(e,t,n,r,a,i),r=Eo(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Oi(n)){var a=!0;Fi(t)}else a=!1;if(Aa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Di(t,c=Oi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ga(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ti.current||Na?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Di(t,s=Oi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ga(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ti.current||Na?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Gu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Lu,Pu,Ru={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Rc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Ru,e):Bu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Ru,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=Ts)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Wi++]=Xi,Hi[Wi++]=Zi,Hi[Wi++]=Yi,Xi=e.id,Zi=e.overflow,Yi=t),(t=Bu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Lc(r,u):(u=Rc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Ru,i}return e=(u=e.child).sibling,i=Lc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Bu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Uu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uu(t,!0,n,null,a);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qu(t),null;case 1:case 17:return Oi(t.type)&&Li(),Qu(t),null;case 3:return r=t.stateNode,io(),Ei(Ti),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Qu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Lu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Qu(t),null}if(e=no($a.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":Q(r),$(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":Q(e),$(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Qu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Qu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Qu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Qu(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Qu(t),null;case 10:return xa(t.type._context),Qu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Qu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>zs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Qu(t),null}else 2*Ze()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Qu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Qu(t),6&t.subtreeFlags&&(t.flags|=8192)):Qu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Wu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ti),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yu=!1,Xu=!1,Zu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||$u(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Xu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ac(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,hs(e,t,n),Xu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ac(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ac(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Z(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ac(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ac(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Us=Ze())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,vs(t,e),Xu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:$u(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ac(r,n,m)}}break;case 5:$u(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ac(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ac(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Yu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Yu;var c=Xu;if(Yu=o,(Xu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Yu=u,Xu=c}ks(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ks(e)}}function ks(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ba(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ba(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&is(t)}catch(d){Ac(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ac(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ac(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ac(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ac(t,o,s)}}}catch(s){Ac(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Ss,As=Math.ceil,Es=k.ReactCurrentDispatcher,Is=k.ReactCurrentOwner,_s=k.ReactCurrentBatchConfig,Cs=0,Ts=null,Ns=null,Ds=0,Os=0,Ls=Ai(0),Ps=0,Rs=null,Fs=0,Ms=0,Bs=0,Vs=null,js=null,Us=0,zs=1/0,qs=null,Gs=!1,Ks=null,Qs=null,Hs=!1,Ws=null,Ys=0,Xs=0,Zs=null,Js=-1,$s=0;function ec(){return 0!==(6&Cs)?Ze():-1!==Js?Js:Js=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===$s&&($s=vt()),$s):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xs)throw Xs=0,Zs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===Ts||(e===Ts&&(0===(2&Cs)&&(Ms|=n),4===Ps&&uc(e,Ds)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Ze()+500,Vi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ts?Ds:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Vi=!0,Ui(e)}(sc.bind(null,e)):Ui(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,$s=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ts?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(Ts===e&&Ds===t||(qs=null,zs=Ze()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Es.current=o,Cs=i,null!==Ns?t=0:(Ts=null,Ds=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Rs,hc(e,0),uc(e,r),rc(e,Ze()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Rs,hc(e,0),uc(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Us+500-Ze())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*As(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Bs,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Rs,hc(e,0),uc(e,t),rc(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Ze()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Ze()+500,Vi&&zi())}}function lc(e){null!==Ws&&0===Ws.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=_s.transition,r=bt;try{if(_s.transition=null,bt=1,e)return e()}finally{bt=r,_s.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Os=Ls.current,Ei(Ls)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:io(),Ei(Ti),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ts=e,Ns=e=Lc(e.current,null),Ds=Os=t,Ps=0,Rs=null,Bs=Ms=Fs=0,js=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,bo=!1,ko=0,Is.current=null,null===n||null===n.return){Ps=1,Rs=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qs||!Qs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}kc(n)}catch(k){t=k,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Ts||0===(268435455&Fs)&&0===(268435455&Ms)||uc(Ts,Ds)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(Ts===e&&Ds===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Es.current=r,null!==Ns)throw Error(a(261));return Ts=null,Ds=0,Ps}function yc(){for(;null!==Ns;)bc(Ns)}function gc(){for(;null!==Ns&&!Ye();)bc(Ns)}function bc(e){var t=Ss(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?kc(e):Ns=t,Is.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Os)))return void(Ns=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ps=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=bt,i=_s.transition;try{_s.transition=null,bt=1,function(e,t,n,r){do{xc()}while(null!==Ws);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ts&&(Ns=Ts=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Tc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_s.transition,_s.transition=null;var u=bt;bt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Xe(),Cs=s,bt=u,_s.transition=o}else e.current=n;if(Hs&&(Hs=!1,Ws=e,Ys=i),0===(o=e.pendingLanes)&&(Qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Ks,Ks=null,e;0!==(1&Ys)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Zs?Xs++:(Xs=0,Zs=e):Xs=0,zi()}(e,t,n,r)}finally{_s.transition=i,bt=r}return null}function xc(){if(null!==Ws){var e=kt(Ys),t=_s.transition,n=bt;try{if(_s.transition=null,bt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Ys=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var k=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Ju=k;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){Ac(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,_s.transition=t}}return!1}function Sc(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ac(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ts===e&&(Ds&n)===n&&(4===Ps||3===Ps&&(130023424&Ds)===Ds&&500>Ze()-Us?hc(e,0):Bs|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ta(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Tc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Rc(n.children,i,o,t);case A:u=8,i|=8;break;case E:return(e=Dc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case T:return(e=Dc(13,n,t,i)).elementType=T,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case L:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case _:u=9;break e;case C:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Rc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=La(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),Ra(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Gu(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&$i(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Di(t,Ci.current);Aa(t,n),i=Ao(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=_u(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Za(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ti.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=La(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Aa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return Au(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Oi(r)?(e=!0,Fi(t)):e=!1,Aa(t,n),qa(t,r,i),Ka(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Gc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Gc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ze()),0===(6&Cs)&&(zs=Ze()+500,zi()))}break;case 13:lc((function(){var t=Ta(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ta(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},At=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,_e,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(a(200));return Uc(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},639:function(e,t,n){var r;e.exports=(r=n(791),function(){"use strict";var e={359:function(e){e.exports=r}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){n.r(i),n.d(i,{ReactNotifications:function(){return U},Store:function(){return O}});var e,t,r,a,o=n(359),u=n.n(o),s=!0,c=768,l=325,f="rnc__notification-item";!function(e){e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_CENTER="bottom-center",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.TOP_CENTER="top-center",e.CENTER="center",e.TOP_FULL="top-full",e.BOTTOM_FULL="bottom-full"}(e||(e={})),function(e){e.TOP="top",e.BOTTOM="bottom"}(t||(t={})),function(e){e.SUCCESS="success",e.DANGER="danger",e.INFO="info",e.DEFAULT="default",e.WARNING="warning"}(r||(r={})),function(e){e.TIMEOUT="timeout",e.CLICK="click",e.TOUCH="touch",e.MANUAL="manual"}(a||(a={}));var h=function(e){return null==e};function d(t){return t===e.BOTTOM_FULL||t===e.BOTTOM_LEFT||t===e.BOTTOM_RIGHT||t===e.BOTTOM_CENTER}function p(t){return t===e.TOP_FULL||t===e.TOP_LEFT||t===e.TOP_RIGHT||t===e.TOP_CENTER}function v(e){var t=e.type,n=e.content,i=e.userDefinedTypes,a=[f];if(n)return a;if(h(i))return function(e){switch(e){case r.DEFAULT:return[f,"rnc__notification-item--default"];case r.SUCCESS:return[f,"rnc__notification-item--success"];case r.DANGER:return[f,"rnc__notification-item--danger"];case r.WARNING:return[f,"rnc__notification-item--warning"];case r.INFO:return[f,"rnc__notification-item--info"];default:return[f]}}(t);var o=i.find((function(e){return e.name===t}));return a.concat(o.htmlClasses)}function m(e,t){var n=e.duration,r=e.timingFunction,i=e.delay;return"".concat(n,"ms ").concat(t," ").concat(r," ").concat(i,"ms")}function y(e){return e?(0|16*Math.random()).toString(16):"100000000000100000000000".replace(/1|0/g,y)}function g(e,t){var n=t.duration,r=t.timingFunction,i=t.delay,a=e||{};return h(a.duration)&&(a.duration=n),h(a.timingFunction)&&(a.timingFunction=r),h(a.delay)&&(a.delay=i),a}function b(e,t,n){var i=e,a=i.id,o=i.type,u=i.insert,s=i.content,c=i.container,l=i.animationIn,f=i.animationOut,d=i.slidingEnter,p=i.slidingExit,v=i.touchRevert,m=i.touchSlidingExit,b=i.dismiss,k=i.width,w=i.onRemoval;i.id=a||y(),i.type=s?null:o.toLowerCase(),t&&!s&&(i.userDefinedTypes=function(e,t){var n=e.content,i=e.type;if(!n&&i!==r.SUCCESS&&i!==r.DANGER&&i!==r.INFO&&i!==r.DEFAULT&&i!==r.WARNING&&t)return t}(i,t)),i.width=h(k)?n:k,i.container=c.toLowerCase(),i.insert=(u||"top").toLowerCase(),i.dismiss=function(e){var t=e,n={duration:0,click:!0,touch:!0,onScreen:!1,pauseOnHover:!1,waitForAnimation:!1,showIcon:!1};return t?(Object.keys(n).forEach((function(e){h(t[e])&&(t[e]=n[e])})),t):n}(b),i.animationIn=l||[],i.animationOut=f||[],i.onRemoval=w||function(){};var x=function(e,t,n){return{duration:e,timingFunction:t,delay:n}};i.slidingEnter=g(d,x(600,"linear",0)),i.slidingExit=g(p,x(600,"linear",0)),i.touchRevert=g(v,x(600,"linear",0));var S=m||{},A=S.swipe||{},E=S.fade||{};return i.touchSlidingExit=S,i.touchSlidingExit.swipe=g(A,x(600,"linear",0)),i.touchSlidingExit.fade=g(E,x(300,"linear",0)),i}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callback=t,this.remaining=n,this.resume()}var t,n,r;return t=e,(n=[{key:"pause",value:function(){clearTimeout(this.timerId),this.remaining-=Date.now()-this.start}},{key:"resume",value:function(){this.start=Date.now(),clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}},{key:"clear",value:function(){clearTimeout(this.timerId)}}])&&k(t.prototype,n),r&&k(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var N=function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(c,n);var r,i,o,s=_(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=s.call(this,e)).onClick=function(){var e=t.props.notification.dismiss;(e.click||e.showIcon)&&t.removeNotification(a.CLICK)},t.onTouchStart=function(e){var n=e.touches[0].pageX;t.setState((function(e){var t=e.parentStyle;return{startX:n,currentX:n,parentStyle:Object.assign(Object.assign({},t),{position:"relative"})}}))},t.onTouchMove=function(e){var n=e.touches[0].pageX,r=t.state.startX,i=t.props,o=i.toggleRemoval,u=i.notification,s=u.id,c=u.onRemoval,l=u.slidingExit,f=u.touchSlidingExit,h=f.swipe,d=f.fade,p=n-r,v=t.rootElementRef.current.offsetWidth,y=window.innerWidth+v,g="".concat(n-r>=0?y:-y,"px");if(function(e,t){return Math.abs(e)>=.4*t}(p,v)){var b=m(h,"left"),k=m(d,"opacity"),w=function(){o(s,(function(){return c(s,a.TOUCH)}))};return t.setState((function(e){var n=e.parentStyle;return{touchEnabled:!1,parentStyle:Object.assign(Object.assign({},n),{left:g,opacity:0,transition:"".concat(b,", ").concat(k)}),onTransitionEnd:function(){t.setState((function(e){var t=e.parentStyle;return{parentStyle:Object.assign(Object.assign({},t),{height:"0px",overflow:"hidden",transition:m(l,"height")}),onTransitionEnd:w}}))}}}))}return t.setState((function(e){var t=e.parentStyle;return{currentX:n,parentStyle:Object.assign(Object.assign({},t),{left:"".concat(0+p,"px")})}}))},t.onTouchEnd=function(){var e=t.props.notification.touchRevert;t.setState((function(t){var n=t.parentStyle;return{parentStyle:Object.assign(Object.assign({},n),{left:0,transition:m(e,"left")})}}))},t.onMouseEnter=function(){t.timer?t.timer.pause():t.setState({animationPlayState:"paused"})},t.onMouseLeave=function(){t.timer?t.timer.resume():t.setState({animationPlayState:"running"})},t.rootElementRef=u().createRef();var n=e.defaultNotificationWidth,r=e.notification,i=e.isMobile,o=r.width;return t.state={parentStyle:{height:"0px",overflow:"hidden",width:"".concat(o||n,"px")},htmlClassList:v(r),animationPlayState:"running",touchEnabled:!0},i&&(t.state.parentStyle.width="100%"),t}return r=c,(i=[{key:"componentWillUnmount",value:function(){this.timer&&this.timer.clear()}},{key:"componentDidMount",value:function(){var n=this,r=this.props,i=r.notification,o=r.notificationsCount,u=i.dismiss,s=u.duration,c=u.onScreen,l=function(n,r){return!(r<=1)&&r>1&&(n.insert===t.TOP&&p(n.container)||n.insert===t.BOTTOM&&d(n.container)||n.container===e.CENTER)}(i,o),f=this.rootElementRef.current.scrollHeight,h=function(){!s||c||n.timer||(n.timer=new w((function(){return n.removeNotification(a.TIMEOUT)}),s))};this.setState((function(e){return{parentStyle:{width:e.parentStyle.width,height:"".concat(f,"px"),transition:l?m(i.slidingEnter,"height"):"10ms height"},onTransitionEnd:h}}),(function(){requestAnimationFrame((function(){n.setState((function(e){return{htmlClassList:[].concat(S(i.animationIn),S(e.htmlClassList))}}))}))}))}},{key:"componentDidUpdate",value:function(e){if(this.props.hasBeenRemoved&&!e.hasBeenRemoved&&this.removeNotification(a.MANUAL),e!==this.props&&!this.props.hasBeenRemoved){var t=this.props.notification.container,n=this.rootElementRef.current.children[0].scrollHeight;this.setState((function(e){var r=e.parentStyle;return{parentStyle:Object.assign(Object.assign({},r),{height:"".concat(n+(t.endsWith("full")?0:15),"px")})}}))}}},{key:"removeNotification",value:function(e){var t=this,n=this.props,r=n.notification,i=n.toggleRemoval,a=r.id,o=r.onRemoval,u=r.dismiss.waitForAnimation,s=[].concat(S(r.animationOut),S(v(r))),c=function(){return i(a,(function(){return o(a,e)}))},l={height:"0px",overflow:"hidden",transition:m(r.slidingExit,"height")};return u?this.setState((function(e){var n=e.parentStyle.width;return{htmlClassList:s,onAnimationEnd:function(){t.setState({parentStyle:Object.assign({width:n},l),onTransitionEnd:c})}}})):this.setState((function(e){var t=e.parentStyle.width;return{parentStyle:Object.assign({width:t},l),onTransitionEnd:c,htmlClassList:s}}))}},{key:"renderTimer",value:function(){var e=this,t=this.props.notification.dismiss,n=t.duration,r=t.onScreen,i=this.state.animationPlayState;if(n&&r){var o={animationName:"timer",animationDuration:"".concat(n,"ms"),animationTimingFunction:"linear",animationFillMode:"forwards",animationDelay:"0",animationPlayState:i};return u().createElement("div",{className:"rnc__notification-timer"},u().createElement("div",{className:"rnc__notification-timer-filler",onAnimationEnd:function(){return e.removeNotification(a.TIMEOUT)},style:o}))}}},{key:"renderCustomContent",value:function(){var e=this.state.htmlClassList,t=this.props.notification,n=t.id,r=t.content,i=t.dismiss,a=i.duration,o=i.pauseOnHover,s=a>0&&o;return u().createElement("div",{className:"".concat(S(e).join(" ")),onMouseEnter:s?this.onMouseEnter:null,onMouseLeave:s?this.onMouseLeave:null},u().isValidElement(r)?r:u().createElement(r,Object.assign({},{id:n,notificationConfig:Object.assign({},this.props.notification)})))}},{key:"renderNotification",value:function(){var e=this.props.notification,t=e.title,n=e.message,r=e.dismiss,i=r.showIcon,a=r.duration,o=r.pauseOnHover,s=this.state.htmlClassList,c=a>0&&o;return u().createElement("div",{className:"".concat(S(s).join(" ")),onMouseEnter:c?this.onMouseEnter:null,onMouseLeave:c?this.onMouseLeave:null},u().createElement("div",{className:"rnc__notification-content"},i&&u().createElement("div",{className:"rnc__notification-close-mark",onClick:this.onClick}),t&&u().createElement("div",{className:"rnc__notification-title"},t),u().createElement("div",{className:"rnc__notification-message"},n),this.renderTimer()))}},{key:"render",value:function(){var e=this.props.notification,t=e.content,n=e.dismiss.click,r=this.state,i=r.parentStyle,a=r.onAnimationEnd,o=r.onTransitionEnd,s=r.touchEnabled;return u().createElement("div",{ref:this.rootElementRef,onClick:n?this.onClick:null,style:i,className:"rnc__notification",onAnimationEnd:a,onTransitionEnd:o,onTouchStart:s?this.onTouchStart:null,onTouchMove:s?this.onTouchMove:null,onTouchEnd:s?this.onTouchEnd:null},t?this.renderCustomContent():this.renderNotification())}}])&&E(r.prototype,i),o&&E(r,o),Object.defineProperty(r,"prototype",{writable:!1}),c}(u().Component);function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=new(function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.incrementCounter=function(){return t.counter+=1},this.getCounter=function(){return t.counter},this.counter=0,this.add=null}var t,n,r;return t=e,(n=[{key:"addNotification",value:function(e){this.incrementCounter();var t=b(e,this.types,this.defaultNotificationWidth);return this.add(t)}},{key:"register",value:function(e){var t=e.addNotification,n=e.removeNotification,r=e.removeAllNotifications,i=e.types,a=e.defaultNotificationWidth;this.add=t,this.removeNotification=n,this.removeAllNotifications=r,this.defaultNotificationWidth=a,this.types=i}}])&&D(t.prototype,n),r&&D(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function P(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},M(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var U=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(o,t);var n,r,i,a=B(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).handleResize=function(){t.setState({windowWidth:window.innerWidth})},t.add=function(e){return t.setState((function(t){var n=P(t.notifications),r=n.findIndex((function(t){return t.id===e.id}));return r>-1?(n[r]=e,{notifications:n}):{notifications:"top"===e.insert?[e].concat(P(n)):[].concat(P(n),[e])}})),e.id},t.remove=function(e){t.setState((function(t){return{notifications:t.notifications.map((function(t){return t.id===e&&(t.hasBeenRemoved=!0),t}))}}))},t.removeAllNotifications=function(){t.setState({notifications:t.state.notifications.map((function(e){return Object.assign(Object.assign({},e),{hasBeenRemoved:!0})}))})},t.toggleRemoval=function(e,n){t.setState((function(t){return{notifications:t.notifications.filter((function(t){return t.id!==e}))}}),n)},t.state={isMobile:h(e.isMobile)?s:e.isMobile,breakpoint:h(e.breakpoint)?c:e.breakpoint,notifications:[],windowWidth:void 0},t}return n=o,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.types,n=e.defaultNotificationWidth;O.register({addNotification:this.add,removeNotification:this.remove,removeAllNotifications:this.removeAllNotifications,defaultNotificationWidth:n||l,types:t}),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"renderNotifications",value:function(e,t){var n=this;return e.map((function(r){return u().createElement(N,{id:r.id,key:r.id,isMobile:t,defaultNotificationWidth:n.props.defaultNotificationWidth,notification:r,toggleRemoval:n.toggleRemoval,notificationsCount:e.length,hasBeenRemoved:r.hasBeenRemoved})}))}},{key:"renderMobileNotifications",value:function(t){var n=t.className,r=t.id,i=function(t){var n=[],r=[];return t.forEach((function(t){var i=t.container,a=e.CENTER;p(i)||i===a?n.push(t):d(i)&&r.push(t)})),{top:n,bottom:r}}(this.state.notifications),a=this.renderNotifications(i.top,!0),o=this.renderNotifications(i.bottom,!0);return u().createElement("div",{id:r,key:"mobile",className:"rnc__base ".concat(n||"")},u().createElement("div",{className:"rnc__notification-container--mobile-top"},a),u().createElement("div",{className:"rnc__notification-container--mobile-bottom"},o))}},{key:"renderScreenNotifications",value:function(t){var n=t.className,r=t.id,i=function(t){var n=[],r=[],i=[],a=[],o=[],u=[],s=[],c=[],l=[];return t.forEach((function(t){var f=t.container;f===e.TOP_FULL?c.push(t):f===e.BOTTOM_FULL?l.push(t):f===e.TOP_LEFT?n.push(t):f===e.TOP_RIGHT?r.push(t):f===e.TOP_CENTER?i.push(t):f===e.BOTTOM_LEFT?a.push(t):f===e.BOTTOM_RIGHT?o.push(t):f===e.BOTTOM_CENTER?u.push(t):f===e.CENTER&&s.push(t)})),{topFull:c,bottomFull:l,topLeft:n,topRight:r,topCenter:i,bottomLeft:a,bottomRight:o,bottomCenter:u,center:s}}(this.state.notifications),a=this.renderNotifications(i.topFull,!1),o=this.renderNotifications(i.bottomFull,!1),s=this.renderNotifications(i.topLeft,!1),c=this.renderNotifications(i.topRight,!1),l=this.renderNotifications(i.topCenter,!1),f=this.renderNotifications(i.bottomLeft,!1),h=this.renderNotifications(i.bottomRight,!1),d=this.renderNotifications(i.bottomCenter,!1),p=this.renderNotifications(i.center,!1);return u().createElement("div",{id:r,key:"screen",className:"rnc__base ".concat(n||"")},u().createElement("div",{className:"rnc__notification-container--top-full"},a),u().createElement("div",{className:"rnc__notification-container--bottom-full"},o),u().createElement("div",{className:"rnc__notification-container--top-left"},s),u().createElement("div",{className:"rnc__notification-container--top-right"},c),u().createElement("div",{className:"rnc__notification-container--bottom-left"},f),u().createElement("div",{className:"rnc__notification-container--bottom-right"},h),u().createElement("div",{className:"rnc__notification-container--top-center"},l),u().createElement("div",{className:"rnc__notification-container--center"},u().createElement("div",{className:"rnc__util--flex-center"},p)),u().createElement("div",{className:"rnc__notification-container--bottom-center"},d))}},{key:"render",value:function(){var e=this.props.isMobile,t=this.state,n=t.windowWidth,r=t.breakpoint;return e&&n<=r?this.renderMobileNotifications(this.props):this.renderScreenNotifications(this.props)}}])&&F(n.prototype,r),i&&F(n,i),Object.defineProperty(n,"prototype",{writable:!1}),o}(u().Component)}(),i}())},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!A.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=T(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},L={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,L(x);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,A=!1,E=null,I=-1,_=5,C=-1;function T(){return!(t.unstable_now()-C<_)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?S():(A=!1,E=null)}}else A=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=N,S=function(){O.postMessage(null)}}else S=function(){y(N,0)};function L(e){E=e,A||(A=!0,S())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,L(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},336:function(){},810:function(e,t,n){"use strict";n.r(t),t.default={CoffeeItem:"CoffeeItem_CoffeeItem__81crL",CoffeeItem__img:"CoffeeItem_CoffeeItem__img__l-pCp",CoffeeItem__name:"CoffeeItem_CoffeeItem__name__qFoj2",CoffeeItem__desc:"CoffeeItem_CoffeeItem__desc__87l1D",CoffeeItem__price:"CoffeeItem_CoffeeItem__price__-gZrj",CoffeeItem_reference:"CoffeeItem_CoffeeItem_reference__odpGm",QuantityUpdateWidget:"CoffeeItem_QuantityUpdateWidget__Vqg7A",QuantityUpdateWidget__button:"CoffeeItem_QuantityUpdateWidget__button__9Amon"}},9:function(e,t,n){var r={"./CoffeeItem":660,"./CoffeeItem.js":660,"./CoffeeItem.module.css":810,"./images/colombian.webp":144,"./images/ethiopian.webp":793,"./images/guatemala.webp":935,"./images/jamaica.webp":973,"./images/kenya.webp":874,"./images/mexican.webp":889};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=9},49:function(e,t,n){var r={"./+.png":731,"./0.png":91,"./1.png":798,"./2.png":405,"./3.png":960,"./4.png":689,"./5.png":916,"./6.png":683,"./7.png":530,"./8.png":204,"./9.png":282,"./coffee-house.png":362,"./infinity.png":481,"./shopping_cart.png":776};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=49},144:function(e,t,n){"use strict";e.exports=n.p+"static/media/colombian.7196900f774380414023.webp"},793:function(e,t,n){"use strict";e.exports=n.p+"static/media/ethiopian.999275a82548989d4449.webp"},935:function(e,t,n){"use strict";e.exports=n.p+"static/media/guatemala.09777ed535e8171c105d.webp"},973:function(e,t,n){"use strict";e.exports=n.p+"static/media/jamaica.7f704ca5d3c6830b3fbe.webp"},874:function(e,t,n){"use strict";e.exports=n.p+"static/media/kenya.d532614923c033870bfc.webp"},889:function(e,t,n){"use strict";e.exports=n.p+"static/media/mexican.f6cd5195b61dcdad3bae.webp"},731:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAA20lEQVR4nO3bMQ6AIBAAQfX/f9bG3kiMG8JMSwNs6I5tAwAAAGAVe72BAefD+lRnOuoNrE6AmAAxAWICxASICRATICZATICYADEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmQEyAmAAxAWICxASICRAbmaV/ms9f3as79QJiAsQEiAkQEyAmQEyA2FR/am/+CfMdAWICxASICRATICZATICYADEBYgLEBIgJEBMgJkBMgJgAMQFiAsQEiAkQEyAmQEyAmAAxAWICxASICRATICYAAAAAAPzkArGvA456VjHsAAAAAElFTkSuQmCC"},91:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFkklEQVR4nO2dS2hdRRjHf2mbm1gTaVMfhfpYKEkVF6IQqAtj0iIW3AmCuLA+FtFuS924UKkg4kI3vjaCWBF8oLtU8bESJSBdaJvEYjBItbHpK2oUkntdzLm9l5A7j3PmfDP33vnBRxZnZu5/vsl5zXznG0gkEolEIpFIJBLdRk9oAQaGgDuBYeBWYAS4DhgAtmV/Af4CLmR/zwCzwElgDvgBOCeq2oHYBqAPmAD2AuPAHcCmgm1WgePAV032X8E2O467gNeARaBWsp0H3gX2Ed8/oCi9wAHUpaJsp7eyE5mG3pL7GhUV4ClgnnCOX2/zmaZKif2OgjHgJ8I7vJXNAfeV1vuA7ASOEt7BtnY009wRjAOnCe9UV1sE7i/BH2JsBp4D1gjvzLxWRT2dtd1NegD4nPAO9GXHaLz0Rc8Q8C3hnebbpoFrPfqpFG5ETQOEdlZZNpv1MUquJuxLlZT9jJqPioqtdOZlp5VNA4NePOeBLaibVGinSNsx1JNecI4Q3hmh7AUP/ivEOLBKeEeEsjUCTl3sRC1+hHZCaDtDoGmLdprbKdveK+hLZ8ZQr+mhOx6TTRTyqAMV1EJG6A7HZrOoJVUntrhWAJ5ALZCH4BJqjmkaNVv5J2pZ8RpgF3A7aqlxRwBtw8BjwJtl/kgvYVayvgMewG7FqgI8DMwE0DlPyTOnB4Q7tAocIl9kRB/wqrDeWuajUuhB9tq/BjzkQfdhQc21zEelRFvsEe7IEY/a3xHWvsej9su8IdiBU8AVBj0DwGhmWw1ldwBnBfW/btDjTB8qvE+qAw9qtPSi5mBWmsr/gzpjdJNjBwX1L5HjkVTHfkHxZ9E/7bylqfuipt4g8LdgP/ZrtDjziqBw3ek7aqhbBW7T1P9AsB8va3RcxvbxbtyynA+mNMeeNtTtASY1xz91l5Obvb4aGkI2tOQmjZbfLOqf1NQfEezHWua7wuwTFH2e1s/Q2yzbqNL6qWgTsCzYH+NZYHMJGrEo44tTKOEbcb1lGz20jlyoZr8hxW5TAZsBMDbikUuaY6Zn/WZ0QVQXHdopyrCpQGxnwLLmWL9DO7rBkhwAL2eA5HKbbgBcJuR0ZXVnmW+MvrPp1FUehNiy2iG/UccYO2QzANEEILUhXgagbaKCI8TLACRKxGYAdDfGhB6j79IAlEvbDYDEh9OSl10vA/C7ByG26CIK/nVoZyXnb/jmD1MBmwGY8yDEFt3s4QWHdnTJObY7tFOUGVMBmwEwNuIR3TdYLgOgKysZtGX857UZgFkPQmwZprWmJeyynCxnZVtxi6uoAnjxnfSCzM0aLd9b1P9CU/8GwX5YLcjYnAHnUPl2pLhbc+wTi/ofaY6NOmopwnE8JoqSXJT/TKNjCH1OoV/RT0W/L9gPq0V5WyTDUlbQz8BOsPGy4hIqvVkr+lFrAVL98JpnQjow65BBzy7gedQl6WPgWdR3yjqeFNTvPTALZEMTFzE71IVBYEFQv/fQRJAPzv0Qf1MTbwtrLyU4Vzo8vQa85EH3M8KaSwtPB/kPNGqo0PIrc2jtQ+X6kdb7aA6t1oT6RGkBeBy70JR+4BEaMUaS9guOk315TpVJ1A05BBeBb1BvxAs0XnS2o4KxRoF7kZ1wa2YSFb1dKukz1Y0t12eqebmH9KH2ehP7ULtOSlXQMPFUBZCSddQtWLIOSOlqgqarqZMSNgVmM92ZsmyKSFKWQXcm7YsuZDOlrYyAlLg1AlLq4ggYoLNuzFNEeM03kdLXR0LawCEC0hYmkTAG/Eh4B7eyjt3Ep5kKauEitm2sJumCbayaqW/kFnJx5wRqDbetb7I+6NqtDIMLWEd9M8+6+d7M80vgayLazDO2AVhP83a2u2lsZzvIxtvZLtPYznaGNtjONpFIJBKJRCKRSHQf/wPtx6LFjRx8FwAAAABJRU5ErkJggg=="},798:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAEbklEQVR4nO2dz2tVRxTHPxrzhBKhTUvVjd1FSxdtdVNaakhSxE2p9h+oIhT9F7qSIqXVlRtDt2qg6D8QS7UbaSkRf0CNSQpKoVQibSxVEH8k6WLeI68hL/fMvTP3zHtzPnB4i0zeO/P9Xu69c2fuGTAMwzAMwzAMIzc2aCdQwCCwGxgC3gR2AluBAeDl5ifAY+Cf5uc8MAvcAeaA68BCrVl7kJoBm4FRYAwYAd4BNlb8ziXgJnClLZ5W/M6eYw9wGngALEeOh8BZ4CPSOwBrpR84hDtVxBa9U0w3c+iP3NekaADHgHvoCb867jVzakTsdxIMA7fRF7xTzAH7ovVekW3ABPoCS2OimXNPMAL8ib6ovvEA2B9Bj9roA44Di+iLWTaWcHdnXXeRHgC+R1/AUHGJlUFf8gwCP6EvWuiYAl4PqFMUduAeA2iLFStmm31MktfQHVTVFb/hnkclxUv05mmnU0wBW4IoF4BNuIuUtih1xyXcnZ46J9AXQyu+DKBfJUaAF+gLoRWLKD662Iab/NAWQTvmUXps0U3PdmLH+YpaejOMG6ZrdzylGK2kqAcN3ESGdodTi1nclKoXZeZbj+AmyFPjD+Br4APcgLBuhoDDsX+kH7iL/tHWiifABeBj3HikxTWlfH4n8qzaYaWOtccicBX4nM6jUS0DloHP5HL6sQHdc/8M8AWyh2GaBkwTabXF+wqdKbuERNOAZeA9j1zFjNfYgUngU0rcVTTRNuBMybw70gD+qrEDeyrmq23AAsKDR3obOga8KmxrwCsIB2Y+Bhh+jEgaSQ2obZhdwFu4lRa3tRMRINJsU3ETBoG3q+VSmj7gQ+AgcICE52PX4F2cdusujZcYsJvqS8R9GcWt1fwEN9fcjWzEaffDeo0kBuwKko4fJxV+MwZDFBggObJ3hsklSwq1MwPiUnj2kBiwPUAiuVI4VSkxIJn1L11IoXZmQFyCGNA1q4ITJIgBRkQkBjyKnkXvUqidGRAXM0CZf4saSAy4HyCRXJkvaiAxYC5AIrkyU9RAYsBsgERypVA7iQGFLhodCWLAddxCXMOPJeBGUSOJAQvArcrp5McNBIWipCPhK9VyyRKRZlIDLldIJFeCG/B3+VyyYwH4UdJQasAz4GLpdPLjO4R16Xyehp4rl0uWiLXyMeBndN486TbuAL9IG/sYsAyc8k4nP77BaRWFlF5RWg/NV5S8ijtJFma18xy3aGrc8/9i8O06f3ujtiz+z1c4jaJir6muHaVeUy3LXuxF7dVR+wpyK1WwErWXKgAr1tEKtWIdYOVqVMvVtLCCTcr0kWfJskkSKVkGeRbtS27JppWtTAAr3JoAVro4AQborQvzJAme84uw8vWJYBs4JIBtYZIIw8Cv6AvcKXp2E592GsBR0tvG6igZbGPVTmsjN83JnWlckb2uvsiGINutDNUTWEVrM89WhN7M8zJuxVoym3mmZsBq2rez3cXKdrZbWHs720esbGc7QxdsZ2sYhmEYhmEYRn78B7/z9mYVT99gAAAAAElFTkSuQmCC"},405:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFyElEQVR4nO2d22sdRRzHP2luElOMsZpapS2CScRbrSJEsSFNFRV8kIKvRgpe/gWhIOLdpyJ4QUWorZdHLw+t0mhfFEkttbRJE9EjBStpbatYtaZNjw+/c8zxkJ2Z3Z2dmXMyH/hxHnZ2z3d+s7uzc/sNRCKRSCQSiUQikaVGi28BGnqB9UA/cB0wAPQB3UBP5RfgDPBb5XcWmAamgBlgP3DKqeoUhFYAncBGYBQYAdYBy3Je8wJwABivsX9yXrPpuBXYBhwHygXbaWA7sInwbkCntANjyKuiaKcn2WRFQ3vBeQ2KDuAJoIQ/x9dbqaKpo8B8B8EwcBj/Dk+yGeCewnLvkZXATvw72NR2VjQ3BSPAMfw7Na0dB+4twB/OaAWeAubx78ysdgH5Omu4Srob+Az/DrRlu1lo9AVPL/AV/p1m2yaAKyz6qRBWI90Avp1VlE1X8hgkK/DbqHJl3yP9UUHRRXO+dpJsAlhuxXMWaEMqKd9OcW27kS897zyDf2f4sqct+C8XI8B5/DvCl83jsetiJTL44dsJvm0WT90WjdS3U7TtyOnL1AwjzXTfGQ/JNubyaAo6kIEM3xkOzaaRIdVUtKU9AdiCDJC7Zh5pa+wFDgEnkeHFFcBlld9+4C7gJg/6+oFHgNeL/JN23I9k/Qk8C6xKoXMAeS+77oktUXDP6ZjjDO0lX9/LLbi/YcZy6FXSgtt3/8fYuZtWOdY9SUGzLYYcZmIcuMii9huRuUCu9A9Z1P4frzkSfxq40kBPD3CDYVqAFxzpLwOvGmoyphOZ3udC/GMaLaPAvrpzDgF3a85bi7tK+SQZPklV3OdI+DHU7/37gbmEc88js91UTDjKR7niMy2m8y5HDdPl5W3gXMKxNuTRTiqgVuAV1BXgvuzSUmPUMjYtgJEcQtLwqeLYMLBGc/4gcLPi+NHUirJjrQB6kVnKRfMX8K3i+O2G1xlQHDtjLic36xDfKTEpgPWG6fLyM/IeT8J0RoLqGlqHWGQZ0hBUYtIXpLqjbHIV6ne0aYt4SnHM9JPVFoPAHlUCkwIYtKNFSxeyTiAPB5GWaBJ35rx+Wvp1CUxeLa6eABs8rzi2Gmm4uUR785oUgOvHNiufAx8qjj/qSkgNVoYqQ1pIkWQnUHdXX4os4nOt60edc02egGAmICUwB2xGWtFJbAUucSPnf1jxnctexCy2RaN/CH9TZ85qtBlx1pN4E9uq0X4xfuerWimAXz1mQGXbNLpbgA88azyh0WhEiJXwO+hHnZ4MQKe2EjbhYAAZqbX30X88bCaMpVHfaXQaEdLM50/QjxNvAP4OQGu54jslJp+h0wZpXPAl8BDJ4wUgLd2PsDuenAet70wKYMaCkLwcAB5E7uwkrkXuuB4nisw4YuMim/D7GE+jXxK0BvjJs87FzMpIYi/+KrQS0k2tYi1hOn8ei+MP+z1kYBZ9T+zVwA8etJmY0fiz6UjXuGE6W/yOhAlQVWJ9SA/oNU4Upceqz1xNSykj47Z3aPT0Ef6SWKM4E6ZzGDuBX5Bu3SKZAx5Awhwk0QG8CVyf8T+6KH56/Smke9xqaDQXUxPfsik4gdsc5MN4amKa2Q7vpkibFVUjq5HYbpowTQF8jXrGQUSYAr4xTZymAMrAy6nlLD1eRHxlRNoJVzuQxlFkcY4C76U5Ie0ivXPAS0iFXATDwBsFXbvK5QVe+zkc1GNxmerilmmZalY2EBdq15uzhdpVYqiCBXMeqgBisI6qeQvWATFcjddwNVViwCbPtBLWwL0r20UgIctgaQbtCy6QawxbGQAxcGsAxNDFAdBNc1XMuwjwna8jhq8PhLiBQwDELUwCYRgJLePbwUnWtJv41NIBPE5YCz9KFU1Nv41VLdWN3HwO7kwCD9PglawNluxWht4F1FHdzLNqtjfz3AN8QUCbeYZWAPXUbmc7yMJ2tstZfDvbP1jYzvYIDbCdbSQSiUQikUgkEll6/AvuQwr4lY1ejQAAAABJRU5ErkJggg=="},960:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAF6UlEQVR4nO2dS2xWRRTHf9AHAgVJg0LU+MDw8G1KNHFDU1CjC8XoQhcaJDGhrCRGXRpj3GjcuBF14ULFhYm60oAGfBAkAVPBSKHFUIOKUG0xoYnS0H4uzte0ae5j7r0zZ+b7Or/kpEnv7e1/znzfnblzzj0DkUgkEolEIpFIZK4xz7eAHDqBLmANcBOwFlgBdADL6j8BxoB/6j/PAQPAcWAQ6ANGVVUXILQOWABsBDYBPcCdwPyK15wEjgD7ZtjFitdsOtYDbwLDQM2xnQfeB+4lvA+gKm3A08itwrXT06y/rqHNcVuDoh3YDgzhz/Gzbaiuqd1hu4OgGziGf4en2SBwv7PWe2QlsAv/Dja1XXXNTUEPcAb/Ti1qw8ADDvyhRgvwMjCBf2eWtUlkdtZwg3QH8CX+HWjL9jD90Bc8ncD3+HeabTsMXGnRT064FlkG8O0sVzZQb2OQLMfvQ5WWnUTWo4JiEc1520mzw8ASK56zQCsySPl2irbtQWZ63nkV/87wZa9Y8F8leoBL+HeEL5vA49LFSiT44dsJvu0cnpYtGmltx7V9WNGXhelGHtN9Nzwk21jGkWUiQu3AUWBdmX9YkYtIeLEP+AOJbi1EpsHXAzcj0TUfazfHkRDquOt/tB39T9cBYAuw1EDfYuAJYL8Hnb0G+irRhm4kawh4pILezcBZZb1Ov31bFRuzHzuLX9cBvyrq3mJBcyLzkCC2RiMOYDc+uwbJG9LQ3o+jbIt7lBrwF3CNA/07lPTXEF9ZZ6eS+B0GWpYDzwBv1G0b+Z3WCvym1Ia3DNpQiAVIep9r4eNIQCeLR0m+nYwj61JZX//XFdpQA0bqPrPGg0rCD+XoWIU8C2Rd47mMv79PqR21us9yMc273GR4XlVO5hx/gfzB+UXSl4l/LqyoPEZPxq2GF+upIKQIXcA7GccfMrjGCuBq4HTCsZEyokpSamkiiU4aL7XklpS2XKGoYYL88czoFtRleF5InEn5/SpFDfMR3+WelIePRbcqHEIW6ZLYrCkEeQDMxKQDci8SEDXgpZRjS5GlFE1yP7zN9A04DTyGBMuTeA39yNXavBNMZkEhZQl/h0TiZjKKLLb9iAx8STyLwlJxAlZ8F9KLFDsLam9D7+k3yU7lCTT5BgSTgFSQ25BY7e0eNeT6zmQMaNQOOIbk7ZzwqMFKB9QsCPHBJPAJMhf/wLOWVEw6YMy5Crf8i0SpPvLwvy/YuEhIg3CSjQIHgeeR7Ig0FqMbmjQahE34SVl0FfsFiQGnsU1Zz9E855rcgv40OCcUbgQ+JT0o8zHpzwouOJt3gkkHDFgQokkXkrmXxHnkgU2LXN+ZdMCgBSHa3JVx7Hc1FQZTYJMO8DmPLstVGcf+VlNh8OE16YA+ZE6twd3I/TvJiszlh+1LK8wk4rtMTDpgFEmI1SArk6C/wHW+yjhmkl9qgyMYFIoyjXTtq6bFmDsyjr2L2Yzsc+CHjOOrCykqj1WfaaWlfJaj41bkvpr299+SHYddht4rVVbrTGglZl1C8vyzuAx4Eql69Q2wF3gPeJj8txa1UuutJ2aBXmqiqzWbRegtq1hPTQS95Nwa8JQD/W8r6neSnKuZnv4f8Lgl3S1IyRkt5ztLTwcpcKfVkAmk3tDCCnpvAL5Q1FzD4QsaoP+KUg3JdthK9lLzbNYj9+G8RF7bdoqCryiV+ar0Ujw4boMxZNZzEFl2HkHS1C9HHq5WI9PUDeTPpFzRS3ZuqxXa0RsLGskGcDD1TGMD8UXt2WYtG9qUWKpg2tRLFUAs1jFl3op1QCxX47VczRSxYJNnWpibJct2E0jJMpibRfuCK+Qay1YGQCzcGgCxdHEAdNBcA/NuArzn5xHL1wdC3MAhAOIWJoHQjRTM8O3gNGvaTXxm0o4ELkJ68WOorqnpt7GaydRGbj6DO/1IDLehB1kbzNmtDL0LmMXUZp5TZnszz73A1wS0mWdoHTCbmdvZrmN6O9slJG9ne4Hp7WxP0ADb2UYikUgkEolEIpG5x/8PVm0kirIeUQAAAABJRU5ErkJggg=="},689:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFL0lEQVR4nO2dz2ucRRjHP02aVTQBicVWqD02VVC09qCChrQitif9A9QGD1b0IHgovYkU2yoerActPaktCILgrVWiB6EqlVRB02QFS0WqqRpt68FWk3iYXXZ5eXfnmfd9Z57Z3fnAQ8i+s/N+55l333fe+fEMJBKJRCKRSCQSiUFjjbYAC+PAVmAzcDswAawHRoGbGn8B/gb+avxdBBaAs0AdmAWWgqp2ILYKuA7YDuwApoC7gaGSea4A3wCfttnVknn2HfcCbwAXgVXP9ifwLvAw8V2AQRkBdmNuFb6d3snmGhpGPJc1KmrAs8A59ByftXMNTTWP5Y6CSeB79B3eyerAI95Kr8gG4Dj6Dpba8YbmvmAKuIC+U13tIvCoB38EYxh4CVhG35lFbQXTOuu5h/Qo8DH6DqzKTtJ66YueceAU+k6r2k4Dt1ToJy9swnQDaDvLly00yhgl69B9qQplP2D6o6LiBvrzttPJTgNjlXiuAtZiHlLaTgltJzEtPXX2o+8MLXu5Av+VYgr4D31HaNkyil0XGzCDH9pO0LZFlLoteqlvx7cdK+lLZyYxr+naBY/JtpfyqAM1zECGdoFjswXMkKoTa12/ADyNGSCPhWPAO12OfxJIx2ZgGnjb50lGgB/Rv9qadgEzO6IbIfWcx/Oo2nTgAtnscYHm0JqeEmgqxBriuvd/KNQdWtccnmZbPKBQmE52Cdgo1K2h7z6hNqdJT084pPXNXuBnbRFdeLLqDGvA7+hf+avAl7hdOBoalyjQJO3GTqWCZO0qcIejdi2tOyXipFfSDmE63xzAPOR6gakqM5tF/+qfB64voF1L79cFtOYyjv7UkmXgwQ76brTo19Q8btEmugVtFabzyVHg85zP7wIeC6xFyhBwjySRjS3ltZTiV2BfzudDmH6XmCdNTdgSSCrAmolnnsPM6c/yPHB/YC2u9HwFfER+l8NGzFh07FjvHpIKuLUCIUW4jLnK83iTiKaFdME6VCmpAK2C7iO/u2EX8T54s1Tiuz8I34Tr1N0wBvyUSbvbol+z+fybRZvoFxB6VvA1zKjbSs6x/cBtYeWUwvoL0G7f53EQs4wpyzZMi6ivkFTAFe8qWtQx/T1ZhoEjRDIV0AGr72KqgFXMSsV/co69gHkj7zV6qgKOYlaxZ9mEWerUi1y2JZBMS/kFuLO8Fus59nY4th54sct3T1nyfibz/xGpqApYrCKTw/hvrk1XIVRIyGboYZsYyS2oLi1ZCS4FOIcG87YEkgqwZlIB6wKcQ4MFWwJJBcyS/1JUJf1YASvAGVsiSQUsAd+WltOdmz3nr8EZBIGipJNzZxCM7pRgF8W7POrA612Oh2z1tPNZlZnFMi0lz2wF1dIlijMh7QuawfSKJmQsIfwFSCvgGvBBYTmDx/sI49K59Ia+V0zLQCL2lUsFfIEJRZDozlngK2li10murznLGTwOYXzlhdiWKMXWCjqP4zwl10V6/wKvAm85fs8nE+i19bO8gvGRV9Iy1XwrtEy1KA+RFmpnLdhC7SYpVEHLgocqgBSso2lqwToghatRDVfTJAVsUmaYwQxZdoKI5ikNYtC+6AK5prCVEZACt0ZACl0cAaP014P5BBHe822k8PWRkDZwiIC0hUkkTALfoe/gTta3m/i0UwP2EN82VnsYgG2s2mlu5KY5uDOHCbLX0w/ZKhjYrQzVBWRobubZtKo385zBDOJHs5lnbBWQpX072y20trMdI3872yu0trOdpwe2s00kEolEIpFIJBKDx/8Bk1Aac0Vt9gAAAABJRU5ErkJggg=="},916:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAF3klEQVR4nO2dXWhcRRTHf0k3iR+J2igmttCgSNo8+FXrR0ANSUSsgm8+FPyo+BJfBBUfFRXBB0XUB6s+qkUQBBHURGl9UzQQatHUVGzUak1qGz8i0liT9eHsmmXZvXfu7syZ2d35wSGQ+7H/OXPv3Llnzp2BSCQSiUQikUgk0mq0+RaQQi+wHRgEhoCtQB/QDZxX+AvwF/B74e8iMAccAg4DM8CSquoMhFYBXcAYMA6MAlcC7XWecw04AOwvsZU6z9l0XA28CBwH8o7tN+B14GbCuwBV6QB2I02Fa6dXs9mChg7HZQ2KTuABYB5/ji+3+YKmToflDoIR4Gv8O7yaHQZucVZ6j/QDe/HvYFPbW9DcFIwCx/Dv1Kx2HLjVgT/U2AA8Aazi35m12hrSO2u4h3Q38BH+HWjLplh/6QueXuBT/DvNtk0DF1r0kxO2IGEA385yZXOFMgbJBfh9qdKyb5F4VFCcRXM2O9VsGuix4jkL5JCHlG+naNsU0tPzztP4d4Yve8qC/+piFPgX/47wZat4DF30I4Mfvp3g2xbxFLZopNiOa3uzTl9mZgR5Tfdd8JBsrC6PZqATGcjwXeDQbA4ZUs1ELusBwP3IALlrHgc+sHzON3CnfRC4D3jF0fkBiQoeQeeKGnegf9qx5h/IOKqWNePgLuDijMfUys9Kv2OTLcAuVydvQ7ftP8dBGVzfAXnER8bZFlnugGF02n6AZeBPpd+yzRBwnenOWSrg7uxaauYnxd9ywT2mO5reKl3AL8DGmuRkZx+SOFWJJ4HbazzvEBK5dc0SsAmDDDzTbugYes6H5Afw9UgmXcj0Ij77MG1H0ybIRZcwiaMJ2zarqaiPUZOdTCtA7TW7QNIdsElNRX0Y+cykAnqBK+rTkpljVf5/BpKW3ghchfguEZMK2G64n02q9YI20zgZze1IJaTulMa2+rVkploT1CjNT5GtaTuY9IIGLQjJwmkkLbAS/cgD+l3kQ4tZYAH4GzgXGAB2AHcgI1W+M9qsXLzaGW4/Jmjpwbw5vAR4R1l7uU0Zak3koLLoz2yILuFB/A0efZkmzuRq0s5/sR2GeAl41PI5TUn1XYgV4CIM/Tz2B3dMSPWdyUM4tArIIe8lA8g7wUngCyRWVY088DCwE91urBXfnUK33VwG3gceAi5j3WHtwCNIBZUfswq8RfqLz8fKZTmVoseIE8qiy20BSYF522Dfg8CZCWXZpaz911TvGhDS14wm9lhCWfqUtRxJc67JQ3jZYJ+QSBoMWcTAKRZJ9Z1JBSQ93ELkUpLHk7/TEoI0n4mYVMCcBSHaXJSwTfOCSvVds1ZAUgzotJqKFq6AEwnbUmP0FrFSATNILEWD15B+fyUbMDzHAsltr9aXjmuI7xIxqYAlZL4dDc5O2HaU6iNlpbyXsC0HXJ5JUe0cwGCiKNPQ7v76tBhzTcK2PPBMyvH/AM8mbN+BXmjFqs92ovPiskbyIEYbEt2sdOwKcGdKOV5QKkcey/NMdCG3k4bwPQZ6bijs9wkwCTyHDMAksRF5MdIow0lq+FYgjT1K4leQRADbVLtzXNjLDvQzrFiAWey21behOyo2bFH7/2inp38OnG9B9zjwh6LuTOnpWdmtWJA8MvfEjTVqbQcmkCZNU/O9Neo1ogP98PQaMthi2n/PIb22GWWdeSTSmikVppZbZQKznooLDiGp618B3yO9mhySsNUHXIt0/zTDDaVMAK+6/pH4mWplq+kz1Vq5ifihdrlpZ5DHqQpKTH2qAoiTdRTN22QdEKer8TpdTZE4YZNnNtCaU5ZNEsiUZdCak/YFN5FrnLYyAOLErQEQpy4OgG6a68E8SYBtfhpx+vpAiAs4BEBcwiQQRpBYvm8HV7OmXcSnlE5k4CKkDz/mC5qafhmrUooLufkc3JlFxnAb+iFrg5ZdytC7gDKKi3kWzfZinvuQbLpgFvMMrQLKKV3Odhvry9n2UHk522XWl7P9hgZYzjYSiUQikUgkEom0Hv8B91mURB//xp8AAAAASUVORK5CYII="},683:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAGB0lEQVR4nO2d32sdRRTHP2l+VGtabUw0gj8QoamgYi1if4gxbSjWh6L4arUIwVTwyT9AEUGLIlpQ8UkQK+hjRUlEqyUoamy0xaZN/RFF0DRRKyTRtDb3+nDuNfFy7+zs7uyZzc184HAfdnfud87s7szOnJmBQCAQCAQCgUAgsNxo8C0ggjbgFmAdcD3QBVwOtAKXlH4BZoA/S7+ngTHgBHAKGAH+UFUdg7wVwEpgG7Ad6AFuBlakTLMAfA0cWmRnU6ZZd2wEXgQmgWLGdgZ4HeglfzegKs3AHuRVkbXTa9loSUNzxnnNFS3AXmAcf46vtPGSppYM850LuoHj+Hd4LTsF7Mgs9x7pBA7g38G2dqCkuS7oAX7Bv1Pj2iRwVwb+UKMReAKYx78zk1oBaZ0tuUq6FXgf/w50ZYMsfPTlnjbgU/w7zbUNA5c59FMmXI10A/h2VlY2VspjLmnH70eVln2L9EflilXU52unlg0Dq514zgFNSCXl2ynaNoi09LzzFP6d4cuedOC/VPQA5/HvCF82j8eui05k8MO3E3zbaTx1Wyylvp2s7Y2UvoxNN/KZ7jvjebJtSRyZZESoBTgKrE/yhxkzDUyVbBoZaVur9N8nkCHUc1n/0V78321l+wp4HLgb6Kii9SNlPf0xfRmbZvyPZM0hPZQ2T6B2AYyTcc/pHuUMVdrbxOuL0S6AYslHmdCADGL7cPws8GACzT4KYJSMoi22eMhMEalMtyfU7KMAisAmW4FNMTKzO8a5rjiHVLBDMa5pB65EOsu0WkCVPAB85jLBlUh4n/ad1GehrQm4F/kwzMvY8+8lnzljp4dMvGeh6x7gpAdtNrbTQr81zymLPwtca9DTBLygrCmuPWvhV2tGlMW/FKHnVWU9SezLKKfa0oZuaEkBuM6gp09RSxqbL/kuNb3Kwg8ZtFyETgS1K+uNcq5NM7TL4hyXvGM49jALfT5TwLtIc28C+Vi7GLgGuB2pBC/ITqYVXcAHaRPZj+5dc6NByyfAz8D9RPe5rAWeRip0X0/A/giNVmhGuE1Q+zO+FXiL+B9XW5CnxUcBDMbUWpVjioIPGnS0kny60q3AX4r5KNvRKGE2GVpjlUU3fGc4NoO0kJIwDOxLeG0aImOHbApAMyj1+wzT3pdx+tVwUgCaEWATMc69AbgP2IVdS20OeDmJqBQ48d0ceu9MmwkR3VSvl4aQucQmOoF/FPMzZ5GfSH5TFHxnhJYdmB04ibkPCeALxfxMRWixegVNW5yjwSrgTcwfjx3A8xHpfO5MUTSRvltKBbARuNTivF3IgEwtxtzIscJJAfzqQIgtFxqO2UYir8A8hBn5WnBIZKPCpgA07xjTV24xRjrrDMc0F+6I9F3eCsD0ipmNkU674Zjmh+WSK4CbDMfOxEhnxnBMc3qRkwIYIXkXQFxuMxz7Efun4CfDsSvs5aSigPjOCUfQaTefxzwVdMAynQ2GNLRihY4YNPyHbe+iaZTKJY1ITE0tXrNI4zgStFuNNcDWuKIS4tRnmmEpptC+BuCw4doC5nCQ3Yr5cLrOhHZg1kMGLW3Ax1WumQMeMVzXjMzx1dDvPDAL4BUl8UWk/8nUlGxA+oWeQUJYHkPGgk08qqg/k17XzYoZKCKD2a4G1bei26u72ZHu/+EjPP0g6Sc8bEA3lCWz8HTwM0FjiOjXSy36gL+V9SaZx2CNrylKs8j7/ioLjSuQHtFhDzp/IOYTm+RR6UcqZB8UEMceRqKip5C4nw6ki2ETMl3UVIFnST8St5opLfibqpRnGyODpmct7iBM1K60RBO10xCWKlgw9aUKICzWUTZvi3VAWK7G63I1ZcKCTZ5pZHkuWTZATpYsg+W5aF/uFnINy1bmgLBwaw4ISxfngFbqq2IeIIfv/CjC8vU5IWzgkAPCFiY5oRv4Bv8OrmV1u4nPYlqQgQvfi/8ttvGSprrfxmox5Y3cfA7ujCJjuEu6knXBst3K0LuACsqbeZbN9WaeHyLBubnZzDNvBVDJ4u1s17Owne1qqm9nO83CdrYnWQLb2QYCgUAgEAgEAoHlx7+R3tf1HLiPrwAAAABJRU5ErkJggg=="},530:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAFUElEQVR4nO2dT2hcRRzHP2ubBDQVG6QWkVopNI0IagXxDxq3LcWCR0EEtUYPRtGDgngtIgqCBytaTyJiD+LJWyJYD4Ig1RqrpknEhvZgSdtUpVotbVoPs0uey3vzZ3dmfpPd+cCXQN/b6Xd+83bevpk3v4FMJpPJZDKZTCbTa9SkDRgYArYCm4ERYBi4DhgErmn8BfgL+KPxdwGYBY4Ac8Ah4ExU1w6k1gADwDZgO1AHbgOu6LDMS8AUcKCg8x2W2XXcAbwNnAQuB9bvwEfADtK7AKPSBzyJ6ipCB71K0w0PfYHrmhT9wLPAPHKBb9V8w1N/wHonwSjwM/IBr9IcsDNY7QVZD+xHPsC22t/w3BXUgd+QD6qrTgIPBohHNFYBe4Al5IPZri6hfp2tuJv0IPA58gH0pUmWH/qSZwj4Gvmg+dZBYJ3HOAVhA2oYQDpYoTTbqGOSXIvsQ1Us/YIaj0qKK+nObqdKB4E1XiLngdWom5R0UGJrEvVLT5zXkA+GlF71EL+OqAMXkQ+ElJYQHLpYj5r8kA6CtBYQGrZYSWM7ofVxh7F0ZhT1mC5d8ZS0raOIOtCPmsiQrnBqmkVNqTqx2vUDwNOoCfIQHAG+ClR2kRHgPs9lbgbGgPc9l/s/+oCjhLuK9oU0X2A8kP9jOM6qub5x8Bhwk+NneokNwKMuH3BpgBrwspOd3uQVHN62cGmAuwjX98dmPmDZI6hYWeHSAE+4e0mWjYHLf9z2RNuvygBwAljblh17TgHHPZX1FHC45N9rwE/AzZ7+nzLOANfj8Q28Xcj/znbRd5q67IzkYZdFXK27oO2W56XCm5pjL0byUPdZ2CHkr2pbHaX6AXOYeG9pfGsXWjNDEU370POauuyL6GOpEbuO2RHRdKc6DVxVUY+1qPUDMf0Yu26be8AWi3NS4R3g74pj41Q3TiiGTSfYNICxkEQ4B7xbcawPeC6ilyY91QAfoLqgMh4GbojopYmX3uNH5Pt2ky4CmzR1+EbI1w+m4Np8A5J5/0XDJ8CvFcfuBe6M6KWIl9gtIn+Fm7RV4/9TQV+njNG14LxgBWw0qfF+I3BB0Nu/puB2ugQ0BXTDDi/Q3rRrUpxG/iqv0hTVI7qDqCWpkv6MXZDNN+CsxTlSvIGqaBljqNX0kniJ3WHkr/Qy6QbdasBMAh6nTMG1+QacsDhHgrdQv//LeIg0HiAXTCfYNMCcByO+WQQ+1ByPNeZvYsZ0gk0DzHow4pu9VA+63QI8ENGLDmPsbBrA2IqROQe8pzn+Eukk4fBy8aY2IbNX43Ud8E8CHi/jcUIG0pmSNA267UnAY1NWU5K2T8IHLM8LjW7QbQB4JqIXE15jlsprKbdrPO5OwF9RXvNM9CM/JDFh8Pi9sL+iFmljrYCJmG8UlEk3wV0X9taqqqnRjrhHsEK6QTeAzwS9lcn65VwXasgtTXpE42sTaf1Mnibgc8iYQIV0g26gngukg17UbstYtkXoJUpl0r1OcjXwZ2Q/Oh3DMbmT62zRBdQMVKy1XAB3A7dWHNuIaoRUeB0Vo6DkZarlamuZarvcT16o3apoC7Wb5FQFy4qeqgByso6mxJJ1QE5XI5qupklO2CTMKnozZdkEiaQsg95M2pdcItectjIBcuLWBMipixNgkO66MU+QYJ9vIqevT4S8gUMC5C1MEmEUlSpGOsBV6tpNfIr0o1atp7aN1Tg9sI1VkeZGbpKTO9OoOdwVfZP1Qc9uZShuoIXmZp5N+d7M8wvgSxLazDO1BmiluJ3tFpa3s11D+Xa2Z1neznaGFbCdbSaTyWQymUwmk+k9/gM0N0lsn8rq8AAAAABJRU5ErkJggg=="},204:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAGKklEQVR4nO2dTWhdRRTHf2mal0YTo6m18YPiotpaQUq0aBYmptFiBRE3iis/Apoqgis3gkpxU9GFRYyKIhaLFBeCoCRF607RSmijpk2VhmqpJK1NSipNjMlzcV7MM82dO+++uWdu8uYHh4TMvTf/OfPe3JkzXxAIBAKBQCAQCAQqjSrfAmJoAlqAG4GbgA3AWqAeuLzwE+A8MF74OQIMAUeAY0A/cFZVdQlkrQBqga1AJ9ABbAZWlPnMWeAQcKDIpsp85rLjVuANYBTIp2xjwB7gbrL3AVSlBngMqSrSdnqUDRY01KSc10yRA3YAw/hz/EIbLmjKpZjvTNAO/Ix/h0fZMWBbarn3SDOwF/8OtrW9Bc3Lgg7gFP6dWqqNAvem4A81qoGXgRn8OzOpzSKtsyX3kq4H9uPfga6sj/lOX+ZpAr7Bv9Nc20HgKod+SoV1SBjAt7PSsqFCHjPJlfjtVGnZL0g8KlNcwvKsdqLsINDgxHMOWIm8pHw7Rdv6kJaed17BvzN82U4H/iuLDuAf/DvCl83gMXTRjAx++HaCbxvBU9hiKcV20raPyvRlybQj3XTfGc+SbU3iyCQjQjngMLAxyT90xCTwKzIGPIs0g9chvXBfHEGGUP9O+x/twM8n7AfgeeBmopt/VwOPAJ/hJwjYXYojk1CD/kjWAHBfAq1bgG+VtQ6TcuT0ceUMfYxUL0mpAt5U1vxoGXpjMzOomJH3HOreo6h7kJRmW7QqZmIIWOVQeyNwUlF/q0Pt/9GjmIGHLfQ0IrPmWgq/x/Gkov63LPSURC0yvU9D/J9IgC+KVciHYbLonsnC30zfmgak2aqVh1qDlpLZriQ8D3wSo+Vtw709Mff2KuZje4wWwH7eZafldS740ZC2BugypHchA0NR9CdSlAyrnrFtAXSUIaRUzhjSWjBXTzXIPNMo/kikKBnOCqAJ6WJrMWNIW21xvykckXqYoIjNWIRGbAqgxfI6V5hmHkxY3H/KkKYZNl6B+C72ojg2lK+lJLYY0n6KuXcECT8keXYaxPouiwXQSfRXdxj43HDv60RXM6tJGDIuAye+8zHDbZdBzxrgywXXTwOvYf5AveohH30GPdYMeBA+DbTF6NoEPAg8AFwTc21b4Zna+Tgco8sKXwspxoDbHei/o/AsH3k47kA/ZzyJzwMXgOcwt/2jWFm494JH/acT6L6IKY8ZyCNf49sS6G4FfvOsfTKB7osoDnppf/qfprw+yKXAB570OysAH1XQX7gNf+z0kIc8FlWQTd06gV0IwCVPAV8b0tcCDwHrkVkRR4F9yGr5xXgRuBZ4wqFGG2x67rFoN0P3x+jpYvEX6zmkSRpFHXBCOS9OmqHaM59Noe97ME83mcIcf+lSzouTjthuRcHjmKd1fG/xjC8M9zei26jYbdAC2LUwhiyuccUA0mNdjGbsgmnbgCsi0s7hqFqwJNZ3WSuAEUPa9ZbPqEa2t4nipL2csnFSAP1IS0MD04DJWAnPOW9I09qqZhaLIVCbAjiL7Lejgam5ewK7Zt04spAuiqjqyTWHsNgoyraXeaA8LdZsMqRNAu9bPKMH8zfJVD25xKnPNKelrDfoqMM8tWQf5i1nmtFb1+B0nwnNiVkvxGipAu4H3kUK41NkJOwui3w8q5QH5xOzQG9q4mnSqadzSHxeIw/OpyaC7uTcd1LQv0tRfyqTc7Wnp7/kUPsz6NX9qU1PB9ngTqsA8khXvq4MvfXAh8qaU1ugAX6WKP2OvDxLWYDXjISgtdcxH6fEJUpJvirdxM9CToNpJBj3HbJCchSJ7QBcBlwH3ADcCdyCnz1Bu0nn/fU/cui+C5aKDZFC0zOKNsJC7YWmPesubFVQZOpbFUDYrGPOvG3WAWG7Gq/b1cwRNmzyTDWVuWVZLxnZsgwqc9O+zG3kGratzABh49YMELYuzgD1LK8Xcy8ZrPPjCNvXZ4RwgEMGCEeYZIR2ZLG1bwdH2bI9xKeYHDJwkbVjrLqpgGOsipk7yM3n4M4gMoa7pF+yLqjYowy9C1jA3GGec+b6MM+vkLVnmTnMM2sFsJDi42w3Mn+cbQOLH2c7wfxxtkdZAsfZBgKBQCAQCAQCgcrjX38FziHJPNtGAAAAAElFTkSuQmCC"},282:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAABmJLR0QA/wD/AP+gvaeTAAAGKUlEQVR4nO2dXWgdRRTHf2mSm1ZTm8QQoxYVNW39gJZGxKI2pgaxiOCbUFGjYG1F8dmPBxFRqqKIqOCTFqs++KDgRytYFcGXGrVQ26alRl/Upl/RVEyaJvHh3Nuk4e7M7O7szCSZHxzysHsn/3Pm3p3dc2ZnIBKJRCKRSCQSicw3anwL0NACrAaWAVcBy4ELgEagqfwX4CQwVP57GOgH9gEHgB+B405VpyC0DmgA1gG3At3AKmBBzjYngJ+BndNsNGebc45O4DVgEJgs2E4AW4EewvsCOqUe6EUuFUUHPcn2ljXUF+xrUJSAzcAA/gI/0wbKmkoF+h0EXcAv+A94kh0AbivMe4+0A9vwH2BT21bWPCfoBv7Af1DT2iBwewHxcEYt8Awwjv9gZrUJ5O5s1g3SjcCX+A+gLdvB1ENf8LQA3+M/aLZtF9BmMU6FcAmSBvAdrKKsv+xjkLTi96HKlR1E8lFBcQ5z87KTZLuAxVYiZ4E6ZJDyHRTXtgO50/POc/gPhi971kL8ctENnMZ/IHzZOB5TF+1I8cN3EHzbYTylLWZTbqdoey9nLFPThTym+3Y8JFuXJZBZKkIlYDewIss/tMQp5H78H8SHJuAK/OZs9iEl1FNF/6PN+PmGDQGvAjdSPdAl4GbgdaQ470PjppSxTE09fipZW4HzU+hsw88YNUDBv8Jexw6NAHfl0Pso7tPhvTn0KqlBitiuHBkF7rCg+3GHmifLMSpktsUax448YlG768vRGovaz/CWQwe+Qf8tKgHXANcBCzXntgLDDvW/qdGTmgZkep8rB1YqtCwAnuTsgB4DHtD48IJD/cfKMbPGeofiv9VoeUXx2YcUn2tFBnVXfqzX+JGKlx0Kv1ehoxP1E/hJ1GXDzxz68ZJCxxlMJ752G55ng52KY4+hHhvOBR5WHP84k6JsZEpNVKMFd/fShxQ6aoAjBm30Kdq40pEfk+WYtSi0AGa/gNWG59ngd8Wxi5HruI6VyC+hGr8C/6YVlZEFSOy0J+lYnl+LMUcVxy40bKMWuDTh2ASwP5WifGhjF1oHjCmOpam/qn4pgynayYuVDnCZdk66dEC6wKn8+jtFO3mx0gEuy20XKY79hrzdkpcRC22Yoo2dSQe4nP/SQfJt5gTwiUEbk7j9lqvQxi60DmhC8jtJPI/+BbungJ8Ux12+FzbrOgDgTsWxg8AGql9GxoEnkJyPikUZdWVBGzuTb8MIlhNLGg4hA/9pxTlLgY3A1Yi2PcC7mN1ifo7lPI2CUfSZWi1Hcff0WLGNeUUr+M6hH0d0YkwuQcOmnlnkRWRALgLTBzobaGMXagcsQZJyyzJ8to7ka+9C4LKsojJgpQP+tCAkC0uRy8XdKT5zOfAFyU/NHYpjRfCX7gSTDui3ICQrbcCHSJFmA/IeQjVWIS/T7UFenhhKOO8G2wI1aGNXZ6MRB6wt2xgy62AA+A84D7iWs5NvHynacXX3U8FK7HpwfxeU1U4iaetqLEKekF3q6TEJsA6XBZm89rTCjwcdazEqyJjS51h8FvuA5DGtBklPuNSjqsydwbTSparThsDbwH1Iwq4a9yADtUusxszltBRTO42kFW7SaG9GbqVd6zNaZ8I0M9hQdqLZ8Hzb9CEFmRNIXWA38DX6R/1a4FPcL7pxHKltWF0azeXUxJl2Swa9NcAbnvRan5oI7ifn5umAEvCOR72FTM51PT09awcsB37wpHOSAqeng/sXNNJ0QDsyb3TUk8aK3W+gNTO+XlFK6oBmJFn3Pv4DP4lM/Er1ipJJLmg6Y8AWZEB2SSeSSl6CLBfTgdSOrye9D0WyBfXcJiuU8DcWhGz9OCzdriW+qD3TrM2GNiUuVTBlzpcqgLhYR8W8LdYBcbkar8vVVIgLNnmmlvm5ZNl2AlmyDObnon3BLeQal60MgLhwawDEpYsDoJG5NTBvJ8Brvo64fH0gxA0cAiBuYRIIXcgEWt8BTrI5u4nPdErI6oKhbWO1iXmwjdV0Khu5+Szu7EVquLN6kLXBvN3K0LuAGVQ286yY7c08v0Jm1AWzmWdoHTCT6dvZrmBqO9vFVN/Odpip7Wz3Mwu2s41EIpFIJBKJRCLzj/8BAALo3fGp2HYAAAAASUVORK5CYII="},362:function(e,t,n){"use strict";e.exports=n.p+"static/media/coffee-house.21f76cca76b0d52419fc.png"},481:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEBElEQVR4nO3Z24tVVRzA8c/M0camB0crckaKHiuiF4sIoqEeKnOol3rIAokegijITEUqqfTBSIOwLLswaEJBEYGO2QXCoiJKw67+AzE9VEoXJYOmh3VOrbNmn5l9ztlnIFpf2Myw1/rd1t7nt9bvt8lkMplMJpPJZDKZTCaTyfy/6Cs5bxGuwwpchCX1e8cwiW+xH2/X7/WSxVhe9+VCnIOz8CN+wFFM4C383K2xEezAKUyVuP7AMxju1nABw3iuDV/+xPNY2qnB+3GipLH0+h2rOzVcwH34rUNfTuCBdowtwO5EyV94D/fiYgzV5y7GJcJifVBgfFddX6fMxwsFej/BOiwT3oz59b+X1u9/VCDzchlfasJvORY8iMtLOjyKTxP59zFYUj7mNOxLdB3CNSXlrxIWKpbfL8TYkicTgadmEyhgHrYket7F6W3oqOGVRMdLwqK0Q63AlydaTR5LJq5r01jK2kTfAQyUkOvDeCK7uWJflqcTavg6mrCnS4MNNiSG95n9KW5PZLZW5Eu8qF+iPx68PRo8JuzxVbFRc0BvCkmriJuSuTuUP6vMxkLhrNDQvTIenIgGHqzIYMwmzYG9LuSKlFuiOeOSp1QB8U9hb+PmGTjp3+3u3IqNNkiT0aumJ9g+4cmsKhirghEhxsb5YBCujpw63AOjMds0L8IevQl0Jg5F9kf7NR8Vv+mx8TWat6HbhO2t6ld9Jr6L/l/aLxQ2DSbnwIH1QnJrsAovmrtFiGMc7hdehQZz4cQU7hEKmwZ3CIVLVRl/JuIYp/qFErLBEnPDFO4Wgm5wp3Dy7PUixJXqJM1J8IseG0+pCYkwTozbemzzSGRrlLnZBmvCa77S9CdcE7bEeBG29MAHOC+y8c82SPNB6KGKjfZrPobeXDBnnnA4ihdhU8V+wMOR/r3xQHwUPo4zKzLYJ2T8OLCxFnPnC8fkeO7GivwgxHQ80n1rPFjDV9Hga6pJRls1B7R9lvlFPYANFfjRp7m8PqJgx1uRGH60S6ObE33jyi3qgFA6x7Jru/RlfaLv+lYT06PqTu03IRaYXs+/obj4acWA6Z2pnVpXka3owyOJnsdnEihqiR3GtSUN3igcp9vtARQxKLTTYl2fCdt2Ga7Ah4n8rC0xwhPclQhO4XMhi14pbCcLcb7Qe3tM8/7auJ7V/lNLfUkbtFP4WHitL9PcFF0mdIAPFsjs1maDdrXQ3k4Vlbl+wV2dRNyCNV340lWLfhhPCx88yhg7KTRWz+7U4AyMCHmg7IeRU0K9MTKT0rJb3ZCQB27ABUIJPSS0z74XSswJvINfy8fUEYuELD5W92VY2ON/Es72R4W8c0DvP9NlMplMJpPJZDKZTCaTyWT+c/wN16G0yjCPWpkAAAAASUVORK5CYII="},776:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAADbklEQVR4nO2avWsUQRTAfzkSRWMiqOB3kIhBsREsNKhtEgtjYQRL/QcsLAxpJFWMYLCyUIwgaKNY2KiggigIiYqCgiiakCgJfgTxA5OLerHYPWdcbu92d2Zubtb7wXCzc2/nvXn75mtnoUqVKlX+Y2oC1y3AXiATKM8B14BX5TDKJm+AuZD02qJdxgg+6WKsN2aFRYJdYANwAKiXyrqLyDtPlAbNxZR3itqY8t2lRSqKj8ANYFKlkrBB0ZU0C/SiEL22G6Ar9RVqXNwx4EQE+UqhBmgFdvnXv4DNJFjLyF50jQxwE2H/0UICaSYHXJeuVwcF0u4AgC1SPtFs4HIXqAOmEPZvT1KJyw7YjbB9nAKDftq7wH4pf5mED9HVCAiG/7akFbnqgA5KhD+kuwvI4X8FhQfoYgTUAZ9QHP3zuOiASOEP6e0C2sIf3IsAreEP7jmgHWHvW0rseNPYBbSGP7gVAbXAB4S9rToqdckBbcQIf0hfF9Ae/uBOBBgJf3DHAbHDH6J1gdnAb6XSJeWvovGB9QPfgeO6KjRALd4hSD4Cdtg1p/zI4f+O9A3uJbmNcMApy7aUnUOIxueATXbNKR8LgB7gN8IBg3EriXNgWIN3zLQVmBdXkUbqgY2+LSuk8mfATuCrCaXNwDD2DzjD0gNguYmGAywDxiqgkYXSOHCY+N85/CXKjT1Ak5/PAhfxXjjYYhp4DzwBHuGNAUYZRXh8n2lllUgW4YBFlm3RTpQV04SU7zBliC2iTIMDwBE/nwUuYf6L0R/AQ7yZJ2dYV0lszgL5ud06zcAQdpyQBTpNNSzpStDYosNnLbAHaPCvv+Gt/iZC70gh64ARRCSctGuOHToRDnhhQkHSLgDwGLiPZ5wpFgOffd3TwEKDuooSthka9v/TQRPedNsSKL/j67qlSU9sSk2DY76MCksQS+7RwH/zsbwFH0A0dgY456cZ9A1QfVJdSl92myBsM9QllY8o6ngu1XUw8N8xvLfSpxV1JCZsM9TAv5Ghgnyev1IqzwBf/PIc3tm/VlQ2Qx0hMkmQ72+X8m1Ao5+fAn4q6klEcAwYBM6jdwzoleqaBS4AZ/E2RfnyM4o6EhNlFliqqKMReFlExySwSlGHEmGboSH0rQPWAPcK6HiKtw8wQiWuBFvxPmvN4DX+LgbfCfwBk+YO+DWSArMAAAAASUVORK5CYII="},69:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.904b42561e16fadca325.png"},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},885:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},982:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6980b358.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="coffee-shop-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkcoffee_shop_app=self.webpackChunkcoffee_shop_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Kn},SDK_VERSION:function(){return Yr},_DEFAULT_ENTRY_NAME:function(){return Fr},_addComponent:function(){return jr},_addOrOverwriteComponent:function(){return Ur},_apps:function(){return Br},_clearComponents:function(){return Kr},_components:function(){return Vr},_getProvider:function(){return qr},_registerComponent:function(){return zr},_removeServiceInstance:function(){return Gr},deleteApp:function(){return $r},getApp:function(){return Zr},getApps:function(){return Jr},initializeApp:function(){return Xr},onLog:function(){return ni},registerVersion:function(){return ti},setLogLevel:function(){return ri}});var t,r=n(791),i=n(250),a=n(885);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var u=function(e){return e};var s="beforeunload",c="popstate";function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function p(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var v=(0,r.createContext)(null);var m=(0,r.createContext)(null);var y=(0,r.createContext)({outlet:null,matches:[]});function g(e,t){if(!e)throw new Error(t)}function b(e,t,n){void 0===n&&(n="/");var r=_(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=k(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function k(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=C([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),k(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:u})})),t}var w=/^:\w+$/,x=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return e+(w.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=E({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:C([i,l.pathname]),pathnameBase:T(C([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=C([i,l.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function I(e,t,n){var r,i="string"===typeof e?p(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:N(a),hash:D(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function _(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var C=function(e){return e.join("/").replace(/\/\/+/g,"/")},T=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},N=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},D=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function O(e){L()||g(!1);var t=(0,r.useContext)(v),n=t.basename,i=t.navigator,a=M(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):C([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function L(){return null!=(0,r.useContext)(m)}function P(){return L()||g(!1),(0,r.useContext)(m).location}function R(){L()||g(!1);var e=(0,r.useContext)(v),t=e.basename,n=e.navigator,i=(0,r.useContext)(y).matches,a=P().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=I(e,JSON.parse(o),a);"/"!==t&&(i.pathname=C([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}var F=(0,r.createContext)(null);function M(e){var t=(0,r.useContext)(y).matches,n=P().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return I(e,JSON.parse(i),n)}),[e,i,n])}function B(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(y.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function V(e){return function(e){var t=(0,r.useContext)(y).outlet;return t?(0,r.createElement)(F.Provider,{value:e},t):t}(e.context)}function j(e){g(!1)}function U(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;L()&&g(!1);var d=T(i),y=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=p(u));var b=u,k=b.pathname,w=void 0===k?"/":k,x=b.search,S=void 0===x?"":x,A=b.hash,E=void 0===A?"":A,I=b.state,C=void 0===I?null:I,N=b.key,D=void 0===N?"default":N,O=(0,r.useMemo)((function(){var e=_(w,d);return null==e?null:{pathname:e,search:S,hash:E,state:C,key:D}}),[d,w,S,E,C,D]);return null==O?null:(0,r.createElement)(v.Provider,{value:y},(0,r.createElement)(m.Provider,{children:o,value:{location:O,navigationType:c}}))}function z(e){var t=e.children,n=e.location;return function(e,t){L()||g(!1);var n,i=(0,r.useContext)(y).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,P());if(t){var c,l="string"===typeof t?p(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||g(!1),n=l}else n=s;var f=n.pathname||"/",h=b(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return B(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:C([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:C([u,e.pathnameBase])})})),i)}(q(t),n)}function q(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==j&&g(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=q(e.props.children)),t.push(n)}else t.push.apply(t,q(e.props.children))})),t}var G=n(650),K=n(639),Q=(n(336),"Home_coffeeContainer__-CFx4"),H="Home_coffeeMottoContainer__f1gDo",W="Button_button__KXFVC",Y=n(184);var X=function(e){var t={margin:e.margin,width:e.width,display:e.display,backgroundColor:e.backgroundColor};return(0,Y.jsx)("button",{style:t,className:W,onClick:e.onClick,type:e.type,children:e.label})};var Z=function(){var e=R();return(0,Y.jsxs)("div",{className:Q,children:[(0,Y.jsx)("div",{className:H,children:(0,Y.jsxs)("h1",{children:[" Delicious Coffee ",(0,Y.jsx)("br",{})," Roasted with Care "]})}),(0,Y.jsx)(X,{label:"Shop Now",onClick:function(){return e("/products")}})]})},J="About_about__TZmtv",$="About_about__div__buDbe";var ee=function(){return(0,Y.jsx)("div",{className:J,children:(0,Y.jsxs)("div",{className:$,children:[(0,Y.jsx)("h1",{children:"Our Heritage"}),(0,Y.jsxs)("p",{children:["Our Heritage Our story begins in 1991 along the cobblestone streets of Seattle\u2019s historic Pike Place Market. It was here where Foggy Bottom opened its first store, offering fresh-roasted coffee beans, tea and spices from around the world for our customers to take home. Our name was inspired by the classic tale, \u201cMoby-Dick,\u201d evoking the seafaring tradition of the early coffee traders. Ten years later, a young New Yorker named Howard Schultz would walk through these doors and become captivated with Foggy Bottom coffee from his first sip. After joining the company in 1992, a different cobblestone road would lead him to another discovery. It was on a trip to Milan in 1994 that Howard first experienced Italy\u2019s coffeehouses, and he returned to the USA inspired to bring the warmth and artistry of its coffee culture to Foggy Bottom. By 1997, we swapped our brown aprons for green ones and embarked on our next chapter as a coffeehouse.",(0,Y.jsx)("br",{}),(0,Y.jsx)("br",{}),"Foggy Bottom would soon expand to Chicago and Vancouver, Canada and then on to California, Washington, D.C. and New York. By 1996, we would cross the Pacific to open our first store in Japan, followed by Europe in 1998 and China in 1999. Over the next two decades, we would grow to welcome millions of customers each week and become a part of the fabric of tens of thousands of neighborhoods all around the world. In everything we do, we are always dedicated to Our Mission: to inspire and nurture the human spirit \u2013 one person, one cup, and one neighborhood at a time.",(0,Y.jsx)("br",{}),(0,Y.jsx)("br",{}),(0,Y.jsxs)("span",{children:["*Copied from Starbucks website as a dummy text for learning purposes",(0,Y.jsx)("br",{}),'**Starbucks was replaced with "Foggy Bottom" in the text',(0,Y.jsx)("br",{}),"***Image has been taken from the internet and is not owned by me"]})]})]})})},te={Products:"Products_Products__Dw3w0",Products_buttons:"Products_Products_buttons__sAGPk"},ne="CoffeeCatalogue_CoffeeCatalogue__L0Aj3",re=n(660);function ie(){return Math.floor(1e15*Math.random())}var ae=function(){return(0,Y.jsx)("div",{className:ne,children:[{name:"Colombian",description:"Colombian coffee is a light roast coffee with a smooth, rich flavor and a hint of chocolate. It is a popular choice for those who prefer a light roast coffee.",price:"$12.99",image:"images/colombian.webp",alt:"colombian coffee beans"},{name:"Ethiopian",description:"Ethiopian coffee is a medium roast coffee with a smooth, rich flavor and a hint of chocolate. It is a popular choice for those who prefer a medium roast coffee.",price:"$13.99",image:"images/ethiopian.webp",alt:"ethiopian coffee beans"},{name:"Guatemala",description:"Guatemala coffee is a medium-dark roast coffee with a smooth, rich flavor and a hint of chocolate. It is a popular choice for those who prefer a medium-dark roast coffee.",price:"$14.99",image:"images/guatemala.webp",alt:"guatemala beans"},{name:"Mexican",description:"Mexican coffee is a dark roast coffee with a smooth, rich flavor and a hint of chocolate. It is a popular choice for those who prefer a dark roast coffee.",price:"$16.99",image:"images/mexican.webp",alt:"mexican coffee beans"},{name:"Kenya",description:"Kenya coffee is a very dark roast coffee with a smooth, rich flavor and a hint of chocolate. It is a popular choice for those who prefer a very dark roast coffee.",price:"$17.99",image:"images/kenya.webp",alt:"kenya coffee beans"},{name:"Jamaica Blue Mountain",description:"Jamaica B. M. coffee is a medium roast coffee with a smooth, rich flavor and a hint of chocolate. It is a popular choice for those who prefer a medium roast coffee.",price:"$29.99",image:"images/jamaica.webp",alt:"jamaican coffee beans"}].map((function(e){return(0,Y.jsx)(re.default,{name:e.name,description:e.description,price:e.price,image:e.image,alt:e.alt},ie())}))})},oe=n(601);var ue=function(){var e=R(),t=(0,r.useContext)(G.J).setShoppingCartItems,n=(0,r.useState)(!1),i=(0,a.Z)(n,2),o=i[0],u=i[1];return(0,r.useEffect)((function(){var e=localStorage.getItem("shoppingCartItems")?Object.values(JSON.parse(localStorage.getItem("shoppingCartItems"))).flat().length:0;u(e>0)})),(0,Y.jsxs)("div",{className:te.Products,children:[(0,Y.jsx)("div",{children:(0,Y.jsx)(ae,{})}),o&&(0,Y.jsxs)("div",{className:te.Products_buttons,children:[(0,Y.jsx)("div",{className:te.Products_buttons__checkout,children:(0,Y.jsx)(X,{label:"Checkout",onClick:function(){e("/products/checkout")}})}),(0,Y.jsx)("div",{className:te.Products_buttons__clear,children:(0,Y.jsx)(X,{label:"Clear Cart",onClick:function(){(localStorage.getItem("shoppingCartItems")?Object.values(JSON.parse(localStorage.getItem("shoppingCartItems"))).flat().length:0)>0&&(localStorage.clear(),t([]),(0,oe.wF)())}})})]}),(0,Y.jsx)(V,{})]})},se="Navbar_navbar__QidUe",ce="Navbar_logo__Iwzqn",le="Navbar_navlinks__onNYJ",fe="Navbar_listItem__-KlHS",he="ShoppingCart_cart__efkgX",de="ShoppingCart_cart__image__zITm2",pe="ShoppingCart_cart__item_count__nsGHU";function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ve.apply(this,arguments)}function me(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ye=["onClick","reloadDocument","replace","state","target","to"];function ge(e){var n=e.basename,i=e.children,v=e.window,m=(0,r.useRef)();null==m.current&&(m.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,u({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var v=null;r.addEventListener(c,(function(){if(v)w.call(v),v=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var o=g-r;o&&(v={action:e,location:i,retry:function(){_(-1*o)}},_(o))}}else I(e)}}));var m=t.Pop,y=a(),g=y[0],b=y[1],k=f(),w=f();function x(e){return"string"===typeof e?e:d(e)}function S(e,t){return void 0===t&&(t=null),u(o({pathname:b.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function A(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function E(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function I(e){m=e;var t=a();g=t[0],b=t[1],k.call({action:m,location:b})}function _(e){i.go(e)}null==g&&(g=0,i.replaceState(o({},i.state,{idx:g}),""));var C={get action(){return m},get location(){return b},createHref:x,push:function e(n,a){var o=t.Push,u=S(n,a);if(E(o,u,(function(){e(n,a)}))){var s=A(u,g+1),c=s[0],l=s[1];try{i.pushState(c,"",l)}catch(f){r.location.assign(l)}I(o)}},replace:function e(n,r){var a=t.Replace,o=S(n,r);if(E(a,o,(function(){e(n,r)}))){var u=A(o,g),s=u[0],c=u[1];i.replaceState(s,"",c),I(a)}},go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(e){return k.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(s,l),function(){t(),w.length||r.removeEventListener(s,l)}}};return C}({window:v}));var y=m.current,g=(0,r.useState)({action:y.action,location:y.location}),b=(0,a.Z)(g,2),k=b[0],w=b[1];return(0,r.useLayoutEffect)((function(){return y.listen(w)}),[y]),(0,r.createElement)(U,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:y})}var be=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=me(e,ye),f=O(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=R(),s=P(),c=M(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||d(s)===d(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",ve({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var ke=function(){(0,r.useContext)(G.J).shoppingCartItems;var e=localStorage.getItem("shoppingCartItems")?JSON.parse(localStorage.getItem("shoppingCartItems")).length:0;return(0,r.useEffect)((function(){!function(){switch(e){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";default:;}}()}),[e]),(0,Y.jsx)("div",{className:he,children:(0,Y.jsxs)(be,{to:"/products/checkout",children:[(0,Y.jsx)("img",{className:de,src:n(776),alt:"shopping cart icon"}),(0,Y.jsx)("img",{className:pe,src:n(49)("./".concat(e>9?"infinity":e,".png")),alt:"number of items in the cart"})]})})},we={hamburger:"HamburgerMenu_hamburger__4I2-H",cross_lines:"HamburgerMenu_cross_lines__8ev5Q",line1:"HamburgerMenu_line1__xjVy-",line2:"HamburgerMenu_line2__ws9ue",line3:"HamburgerMenu_line3__Q9Ist",hamburger__nav__line:"HamburgerMenu_hamburger__nav__line__YPBOH",slider:"HamburgerMenu_slider__lhlph",slider__navigation:"HamburgerMenu_slider__navigation__EcqTR",navlinks:"HamburgerMenu_navlinks__sMpEI",listItem:"HamburgerMenu_listItem__W2-a1"};var xe=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],i=t[1];return(0,Y.jsx)("div",{className:we.hamburger,onClick:function(){i(!n)},children:(0,Y.jsxs)("div",{className:n?we.cross_lines:we.hamburger__lines,children:[(0,Y.jsx)("div",{className:"".concat(we.hamburger__nav__line," ").concat(we.line1)}),(0,Y.jsx)("div",{className:"".concat(we.hamburger__nav__line," ").concat(we.line2)}),(0,Y.jsx)("div",{className:"".concat(we.hamburger__nav__line," ").concat(we.line3)}),(0,Y.jsx)("div",{className:we.slider,style:n?{top:"100px"}:{top:"100vh"},children:(0,Y.jsx)("div",{className:we.slider__navigation,children:(0,Y.jsxs)("ul",{className:we.navlinks,children:[(0,Y.jsx)("li",{className:we.listItem,children:(0,Y.jsx)(be,{to:"/home",children:"home"})}),(0,Y.jsx)("li",{className:we.listItem,children:(0,Y.jsx)(be,{to:"/about",children:"about"})}),(0,Y.jsx)("li",{className:we.listItem,children:(0,Y.jsx)(be,{to:"/products",children:"products"})})]})})})]})})};var Se=function(){return(0,Y.jsxs)("nav",{className:se,children:[(0,Y.jsx)("img",{className:ce,src:n(69),alt:"coffee company logo"}),(0,Y.jsx)("h1",{children:"Foggy Bottom Coffee & Roastery"}),(0,Y.jsxs)("ul",{className:le,children:[(0,Y.jsx)("li",{className:fe,children:(0,Y.jsx)(be,{to:"/home",children:"home"})}),(0,Y.jsx)("li",{className:fe,children:(0,Y.jsx)(be,{to:"/about",children:"about"})}),(0,Y.jsx)("li",{className:fe,children:(0,Y.jsx)(be,{to:"/products",children:"products"})})]}),(0,Y.jsx)(xe,{}),(0,Y.jsx)(ke,{})]})},Ae={order_summary:"Checkout_order_summary__FgFbK"},Ee="ShoppingCartSummaryItem_SummaryItem__popNt",Ie="ShoppingCartSummaryItem_SummaryItem__info__AvYQB",_e="ShoppingCartSummaryItem_SummaryItem__info__divs__ysq81";var Ce=function(e){var t={backgroundColor:e.backgroundColor,color:e.color},n=[e.name,e.quantity,e.price];return(0,Y.jsx)("div",{className:Ee,children:(0,Y.jsx)("div",{className:Ie,children:n.map((function(e){return(0,Y.jsx)("div",{className:_e,style:t,children:(0,Y.jsx)("p",{children:e})})}))})})};var Te=function(){var e=R(),t=localStorage.getItem("shoppingCartItems")?JSON.parse(localStorage.getItem("shoppingCartItems")):[],n=function(){var e=t.map((function(e){return parseFloat(e.price.replace("$",""))})),n=0;return e.map((function(e){return n+=e})),n.toFixed(2)},r=function(){var e=[];return t.map((function(n){if(!e.includes(n.name))return e.push(n.name),(0,Y.jsx)(Ce,{name:n.name,quantity:t.filter((function(e){return e.name===n.name})).length,price:"$"+(parseFloat(n.price.replace("$",""))*t.filter((function(e){return e.name===n.name})).length).toFixed(2)},ie())}))};return(0,Y.jsx)("div",{className:Ae.checkout,children:t.length>0?(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("div",{className:Ae.order_summary,children:(0,Y.jsx)("h1",{children:"Order Summary"})}),(0,Y.jsx)(Ce,{name:"PRODUCT",quantity:"QUANTITY",price:"PRICE"},ie()),r(),(0,Y.jsx)(Ce,{name:"TOTAL",quantity:t.length,price:"$"+n(),backgroundColor:"#142d4c"},ie()),(0,Y.jsx)(X,{label:"Proceed",width:"90%",margin:"20px auto",backgroundColor:"darkgray",onClick:function(){return e("/products/checkout/orderDetails")}}),(0,Y.jsx)(X,{label:"Edit Your Order",width:"90%",margin:"20px auto 30px auto",backgroundColor:"darkgray",onClick:function(){return e("/products")}})]}):(0,Y.jsx)("div",{className:Ae.order_summary,children:(0,Y.jsx)("h2",{children:" Your shopping cart is empty :( "})})})},Ne="OrderDetails_OrderDetails__pmMnS";function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function Re(){Re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(A([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Pe(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Fe(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Fe(a,r,i,o,u,"next",e)}function u(e){Fe(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Be="Form_form__B093r",Ve="Form_form__header__tuoAA",je="Form_form__elements__P7uaB",Ue=n(181);function ze(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Ue.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var qe=n(982);function Ge(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ke=["name"],Qe=["_f"],He=["_f"],We=function(e){return"checkbox"===e.type},Ye=function(e){return e instanceof Date},Xe=function(e){return null==e},Ze=function(e){return"object"===typeof e},Je=function(e){return!Xe(e)&&!Array.isArray(e)&&Ze(e)&&!Ye(e)},$e=function(e){return Je(e)&&e.target?We(e.target)?e.target.checked:e.target.value:e},et=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},tt=function(e){return Array.isArray(e)?e.filter(Boolean):[]},nt=function(e){return void 0===e},rt=function(e,t,n){if(!t||!Je(e))return n;var r=tt(t.split(/[,[\].]+?/)).reduce((function(e,t){return Xe(e)?e:e[t]}),e);return nt(r)||r===e?nt(e[t])?n:e[t]:r},it="blur",at="focusout",ot="onBlur",ut="onChange",st="onSubmit",ct="onTouched",lt="all",ft="max",ht="min",dt="maxLength",pt="minLength",vt="pattern",mt="required",yt="validate",gt=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==lt&&(t._proxyFormState[i]=!r||lt),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),bt=function(e){return Je(e)&&!Object.keys(e).length},kt=function(e,t,n){e.name;var r=Ge(e,Ke);return bt(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||lt)}))},wt=function(e){return Array.isArray(e)?e:[e]};function xt(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){n&&n.unsubscribe()}}),[e.disabled])}var St=function(e){return"string"===typeof e},At=function(e,t,n,r){var i=Array.isArray(e);return St(e)?(r&&t.watch.add(e),rt(n,e)):i?e.map((function(e){return r&&t.watch.add(e),rt(n,e)})):(r&&(t.watchAll=!0),n)},Et=function(e){return"function"===typeof e},It=function(e){for(var t in e)if(Et(e[t]))return!0;return!1};var _t=function(e,t,n,r,i){return t?Le(Le({},n[e]),{},{types:Le(Le({},n[e]&&n[e].types?n[e].types:{}),{},De({},r,i||!0))}):{}},Ct=function(e){return/^\w*$/.test(e)},Tt=function(e){return tt(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function Nt(e,t,n){for(var r=-1,i=Ct(t)?[t]:Tt(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=Je(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var Dt=function e(t,n,r){var i,a=ze(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=rt(t,o);if(u){var s=u._f,c=Ge(u,Qe);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else Je(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},Ot=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||(0,qe.Z)(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},Lt=function(e,t,n){var r=tt(rt(e,n));return Nt(r,"root",t[n]),Nt(e,n,r),e},Pt=function(e){return"boolean"===typeof e},Rt=function(e){return"file"===e.type},Ft=function(e){return St(e)||r.isValidElement(e)},Mt=function(e){return"radio"===e.type},Bt=function(e){return e instanceof RegExp},Vt={value:!1,isValid:!1},jt={value:!0,isValid:!0},Ut=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!nt(e[0].attributes.value)?nt(e[0].value)||""===e[0].value?jt:{value:e[0].value,isValid:!0}:jt:Vt}return Vt},zt={isValid:!1,value:null},qt=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),zt):zt};function Gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Ft(e)||Array.isArray(e)&&e.every(Ft)||Pt(e)&&!e)return{type:n,message:Ft(e)?e:"",ref:t}}var Kt=function(e){return Je(e)&&!Bt(e)?e:{value:e,message:""}},Qt=function(){var e=Me(Re().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,h,d,p,v,m,y,g,b,k,w,x,S,A,E,I,_,C,T,N,D,O,L,P,R,F,M,B,V,j,U,z,q,G,K,Q,H,W,Y;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,b=o.disabled,g&&!b){e.next=3;break}return e.abrupt("return",{});case 3:if(k=s?s[0]:u,w=function(e){i&&k.reportValidity&&(k.setCustomValidity(Pt(e)?"":e||" "),k.reportValidity())},x={},S=Mt(u),A=We(u),E=S||A,I=(y||Rt(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,_=_t.bind(null,m,r,x),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dt,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pt,a=e?t:n;x[m]=Le({type:e?r:i,message:a,ref:u},_(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:c&&(!E&&(I||Xe(n))||Pt(n)&&!n||A&&!Ut(s).isValid||S&&!qt(s).isValid))){e.next=19;break}if(T=Ft(c)?{value:!!c,message:c}:Kt(c),N=T.value,D=T.message,!N){e.next=19;break}if(x[m]=Le({type:mt,message:D,ref:k},_(mt,D)),r){e.next=19;break}return w(D),e.abrupt("return",x);case 19:if(I||Xe(h)&&Xe(d)){e.next=28;break}if(P=Kt(d),R=Kt(h),Xe(n)||isNaN(n)?(M=u.valueAsDate||new Date(n),St(P.value)&&(O=M>new Date(P.value)),St(R.value)&&(L=M<new Date(R.value))):(F=u.valueAsNumber||(n?+n:n),Xe(P.value)||(O=F>P.value),Xe(R.value)||(L=F<R.value)),!O&&!L){e.next=28;break}if(C(!!O,P.message,R.message,ft,ht),r){e.next=28;break}return w(x[m].message),e.abrupt("return",x);case 28:if(!l&&!f||I||!(St(n)||a&&Array.isArray(n))){e.next=38;break}if(B=Kt(l),V=Kt(f),j=!Xe(B.value)&&n.length>B.value,U=!Xe(V.value)&&n.length<V.value,!j&&!U){e.next=38;break}if(C(j,B.message,V.message),r){e.next=38;break}return w(x[m].message),e.abrupt("return",x);case 38:if(!p||I||!St(n)){e.next=45;break}if(z=Kt(p),q=z.value,G=z.message,!Bt(q)||n.match(q)){e.next=45;break}if(x[m]=Le({type:vt,message:G,ref:u},_(vt,G)),r){e.next=45;break}return w(G),e.abrupt("return",x);case 45:if(!v){e.next=79;break}if(!Et(v)){e.next=58;break}return e.next=49,v(n);case 49:if(K=e.sent,!(Q=Gt(K,k))){e.next=56;break}if(x[m]=Le(Le({},Q),_(yt,Q.message)),r){e.next=56;break}return w(Q.message),e.abrupt("return",x);case 56:e.next=79;break;case 58:if(!Je(v)){e.next=79;break}H={},e.t0=Re().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(W=e.t1.value,bt(H)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=Gt,e.next=68,v[W](n);case 68:e.t3=e.sent,e.t4=k,e.t5=W,(Y=(0,e.t2)(e.t3,e.t4,e.t5))&&(H=Le(Le({},Y),_(W,Y.message)),w(Y.message),r&&(x[m]=H)),e.next=61;break;case 75:if(bt(H)){e.next=79;break}if(x[m]=Le({ref:k},H),r){e.next=79;break}return e.abrupt("return",x);case 79:return w(!0),e.abrupt("return",x);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var Ht="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Wt(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Ht&&(e instanceof Blob||e instanceof FileList)||!n&&!Je(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return Je(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=Wt(e[r]);else t=e}return t}var Yt=function(e){return{isOnSubmit:!e||e===st,isOnBlur:e===ot,isOnChange:e===ut,isOnAll:e===lt,isOnTouch:e===ct}};function Xt(e){for(var t in e)if(!nt(e[t]))return!1;return!0}function Zt(e,t){var n,r=Ct(t)?[t]:Tt(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=nt(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(Je(s)&&bt(s)||Array.isArray(s)&&Xt(s))&&(n?delete n[f]:delete e[f]),n=s}}return e}function Jt(){var e=[];return{get observers(){return e},next:function(t){var n,r=ze(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var $t=function(e){return Xe(e)||!Ze(e)};function en(e,t){if($t(e)||$t(t))return e===t;if(Ye(e)&&Ye(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(Ye(u)&&Ye(s)||Je(u)&&Je(s)||Array.isArray(u)&&Array.isArray(s)?!en(u,s):u!==s)return!1}}return!0}var tn=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},nn=function(e){return"select-multiple"===e.type},rn=function(e){return Mt(e)||We(e)},an=function(e){return tn(e)&&e.isConnected};function on(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Je(e)||n)for(var r in e)Array.isArray(e[r])||Je(e[r])&&!It(e[r])?(t[r]=Array.isArray(e[r])?[]:{},on(e[r],t[r])):Xe(e[r])||(t[r]=!0);return t}function un(e,t,n){var r=Array.isArray(e);if(Je(e)||r)for(var i in e)Array.isArray(e[i])||Je(e[i])&&!It(e[i])?nt(t)||$t(n[i])?n[i]=Array.isArray(e[i])?on(e[i],[]):Le({},on(e[i])):un(e[i],Xe(t)?{}:t[i],n[i]):n[i]=!en(e[i],t[i]);return n}var sn=function(e,t){return un(e,t,on(t))},cn=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return nt(e)?e:n?""===e?NaN:e?+e:e:r&&St(e)?new Date(e):i?i(e):e};function ln(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return Rt(t)?t.files:Mt(t)?qt(e.refs).value:nn(t)?(0,qe.Z)(t.selectedOptions).map((function(e){return e.value})):We(t)?Ut(e.refs).value:cn(nt(t.value)?e.ref.value:t.value,e)}var fn=function(e,t,n,r){var i,a={},o=ze(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=rt(t,u);s&&Nt(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:(0,qe.Z)(e),fields:a,shouldUseNativeValidation:r}},hn=function(e){return nt(e)?void 0:Bt(e)?e.source:Je(e)?Bt(e.value)?e.value.source:e.value:e},dn=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function pn(e,t,n){var r=rt(e,n);if(r||Ct(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=rt(t,a),u=rt(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var vn=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},mn=function(e,t){return!tt(rt(e,t)).length&&Zt(e,t)},yn={mode:st,reValidateMode:ut,shouldFocusError:!0};function gn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Le(Le({},yn),t),r={submitCount:0,isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},a=Wt(n.defaultValues)||{},o=n.shouldUnregister?{}:Wt(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:Jt(),array:Jt(),state:Jt()},d=Yt(n.mode),p=Yt(n.reValidateMode),v=n.criteriaMode===lt,m=function(e){return function(t){clearTimeout(c),c=window.setTimeout(e,t)}},y=function(){var e=Me(Re().mark((function e(t){var a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=bt,e.next=6,S();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,E(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(s&&n){if(u.action=!0,l&&Array.isArray(rt(i,e))){var d=n(rt(i,e),s.argA,s.argB);c&&Nt(i,e,d)}if(f.errors&&l&&Array.isArray(rt(r.errors,e))){var p=n(rt(r.errors,e),s.argA,s.argB);c&&Nt(r.errors,e,p),mn(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(rt(r.touchedFields,e))){var v=n(rt(r.touchedFields,e),s.argA,s.argB);c&&Nt(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=sn(a,o)),h.state.next({isDirty:_(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Nt(o,e,t)},b=function(e,t){Nt(r.errors,e,t),h.state.next({errors:r.errors})},k=function(e,t,n,r){var s=rt(i,e);if(s){var c=rt(o,e,nt(n)?rt(a,e):n);nt(c)||r&&r.defaultChecked||t?Nt(o,e,t?c:ln(s._f)):N(e,c),u.mount&&y()}},w=function(e,t,n,i,o){var u=!1,s={name:e},c=rt(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=_(),u=l!==s.isDirty}if(f.dirtyFields&&(!n||i)){var d=rt(r.dirtyFields,e);en(rt(a,e),t)?Zt(r.dirtyFields,e):Nt(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||d!==rt(r.dirtyFields,e)}return n&&!c&&(Nt(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||f.touchedFields&&c!==n),u&&o&&h.state.next(s),u?s:{}},x=function(){var n=Me(Re().mark((function n(i,a,o,u){var s,d,p;return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=rt(r.errors,i),d=f.isValid&&r.isValid!==a,t.delayError&&o?(e=m((function(){return b(i,o)})))(t.delayError):(clearTimeout(c),e=null,o?Nt(r.errors,i,o):Zt(r.errors,i)),(o?en(s,o):!s)&&bt(u)&&!d||(p=Le(Le(Le({},u),d?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=Le(Le({},r),p),h.state.next(p)),l[i]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),S=function(){var e=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Le({},o),n.context,fn(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Me(Re().mark((function e(t){var n,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(n=e.sent,i=n.errors,t){a=ze(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=rt(i,u))?Nt(r.errors,u,s):Zt(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Me(Re().mark((function e(t,i){var a,u,c,l,f,h,d,p=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Re().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(c=t[u])){e.next=21;break}if(l=c._f,f=Ge(c,He),!l){e.next=17;break}return h=s.array.has(l.name),e.next=11,Qt(c,rt(o,l.name),v,n.shouldUseNativeValidation,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(rt(d,l.name)?h?Lt(r.errors,d,l.name):Nt(r.errors,l.name,d[l.name]):Zt(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,E(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e,t=ze(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=rt(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!an(e)})):!an(r._f.ref))&&j(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},_=function(e,t){return e&&t&&Nt(o,e,t),!en(R(),a)},C=function(e,t,n){var r=Le({},u.mount?o:nt(t)?a:St(e)?De({},e,t):t);return At(e,s,r,n)},T=function(e){return tt(rt(u.mount?o:a,e,t.shouldUnregister?rt(a,e,[]):[]))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=rt(i,e),a=t;if(r){var u=r._f;u&&(!u.disabled&&Nt(o,e,cn(t,u)),a=Ht&&tn(u.ref)&&Xe(t)?"":t,nn(u.ref)?(0,qe.Z)(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?We(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):u.refs[0]&&(u.refs[0].checked=!!a):u.refs.forEach((function(e){return e.checked=e.value===a})):Rt(u.ref)?u.ref.value="":(u.ref.value=a,u.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&w(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&P(e)},D=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=rt(i,u);!s.array.has(t)&&$t(o)&&(!c||c._f)||Ye(o)?N(u,o,r):e(u,o,r)}},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=rt(i,e),c=s.array.has(e),l=Wt(t);Nt(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=sn(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:_(e,l)}))):!u||u._f||Xe(l)?N(e,l,n):D(e,l,n),Ot(e,s)&&h.state.next({}),h.watch.next({name:e})},L=function(){var t=Me(Re().mark((function t(a){var u,c,f,m,g,b,k,A,E,I,_,C,T,N,D;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.target,c=u.name,!(f=rt(i,c))){t.next=39;break}if(b=u.type?ln(f._f):$e(a),k=a.type===it||a.type===at,A=!dn(f._f)&&!n.resolver&&!rt(r.errors,c)&&!f._f.deps||vn(k,rt(r.touchedFields,c),r.isSubmitted,p,d),E=Ot(c,s,k),Nt(o,c,b),k?(f._f.onBlur&&f._f.onBlur(a),e&&e(0)):f._f.onChange&&f._f.onChange(a),I=w(c,b,k,!1),_=!bt(I)||E,!k&&h.watch.next({name:c,type:a.type}),!A){t.next=15;break}return t.abrupt("return",_&&h.state.next(Le({name:c},E?{}:I)));case 15:if(!k&&E&&h.state.next({}),l[c]=(l[c],1),h.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,S([c]);case 21:C=t.sent,T=C.errors,N=pn(r.errors,i,c),D=pn(T,i,N.name||c),m=D.error,c=D.name,g=bt(T),t.next=37;break;case 30:return t.next=32,Qt(f,rt(o,c),v,n.shouldUseNativeValidation);case 32:return t.t0=c,m=t.sent[t.t0],t.next=36,y(!0);case 36:g=t.sent;case 37:f._f.deps&&P(f._f.deps),x(c,g,m,I);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(){var e=Me(Re().mark((function e(t){var a,o,u,c,l,d=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=wt(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,A(nt(t)?t:c);case 6:l=e.sent,o=bt(l),u=t?!c.some((function(e){return rt(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=Me(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rt(i,t),e.next=3,E(n&&n._f?De({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&y(),e.next=21;break;case 18:return e.next=20,E(i);case 20:u=o=e.sent;case 21:return h.state.next(Le(Le(Le({},!St(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&Dt(i,(function(e){return rt(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){var t=Le(Le({},a),u.mount?o:{});return nt(e)?t:St(e)?rt(t,e):e.map((function(e){return rt(t,e)}))},F=function(e,t){return{invalid:!!rt((t||r).errors,e),isDirty:!!rt((t||r).dirtyFields,e),isTouched:!!rt((t||r).touchedFields,e),error:rt((t||r).errors,e)}},M=function(e){e?wt(e).forEach((function(e){return Zt(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},B=function(e,t,n){var a=(rt(i,e,{_f:{}})._f||{}).ref;Nt(r.errors,e,Le(Le({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},V=function(e,t){return Et(e)?h.watch.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},j=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=ze(e?wt(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),rt(i,l)&&(u.keepValue||(Zt(i,l),Zt(o,l)),!u.keepError&&Zt(r.errors,l),!u.keepDirty&&Zt(r.dirtyFields,l),!u.keepTouched&&Zt(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&Zt(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(Le(Le({},r),u.keepDirty?{isDirty:_()}:{})),!u.keepIsValid&&y()},U=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=rt(i,t),l=Pt(r.disabled);return Nt(i,t,Le(Le({},c||{}),{},{_f:Le(Le({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)})),s.mount.add(t),c?l&&Nt(o,t,r.disabled?void 0:rt(o,t,ln(c._f))):k(t,!0,r.value),Le(Le(Le({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:hn(r.min),max:hn(r.max),minLength:hn(r.minLength),maxLength:hn(r.maxLength),pattern:hn(r.pattern)}:{}),{},{name:t,onChange:L,onBlur:L,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=rt(i,t);var l=nt(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=rn(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;Nt(i,t,{_f:Le(Le({},c._f),f?{refs:[].concat((0,qe.Z)(h.filter(an)),[l],(0,qe.Z)(Array.isArray(rt(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),k(t,!1,void 0,l)}else(c=rt(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!et(s.array,t)||!u.action)&&s.unMount.add(t)}))})},z=function(e,t){return function(){var a=Me(Re().mark((function a(u){var c,l,f,d,p;return Re().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),c=!0,l=Wt(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,S();case 8:f=a.sent,d=f.errors,p=f.values,r.errors=d,l=p,a.next=17;break;case 15:return a.next=17,E(i);case 17:if(!bt(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(Le({},r.errors),u);case 26:n.shouldFocusError&&Dt(i,(function(e){return rt(r.errors,e)}),s.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bt(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rt(i,e)&&(nt(t.defaultValue)?O(e,rt(a,e)):(O(e,t.defaultValue),Nt(a,e,t.defaultValue)),t.keepTouched||Zt(r.touchedFields,e),t.keepDirty||(Zt(r.dirtyFields,e),r.isDirty=t.defaultValue?_(e,rt(a,e)):_()),t.keepError||(Zt(r.errors,e),f.isValid&&y()),h.state.next(Le({},r)))},G=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=Wt(c),d=e&&!bt(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=ze(s.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;rt(r.dirtyFields,m)?Nt(d,m,rt(o,m)):O(m,rt(d,m))}}catch(x){v.e(x)}finally{v.f()}}else{if(Ht&&nt(e)){var y,g=ze(s.mount);try{for(g.s();!(y=g.n()).done;){var b=y.value,k=rt(i,b);if(k&&k._f){var w=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;try{if(tn(w)){w.closest("form").reset();break}}catch(qg){}}}}catch(x){g.e(x)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?Wt(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!f.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||en(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?sn(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},K=function(e,t){return G(Et(e)?e(o):e,t)},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=rt(i,e),r=n&&n._f;if(r){var a=r.refs?r.refs[0]:r.ref;a.focus&&(a.focus(),t.shouldSelect&&a.select())}};return{control:{register:U,unregister:j,getFieldState:F,_executeSchema:S,_getWatch:C,_getDirty:_,_updateValid:y,_removeUnmounted:I,_updateFieldArray:g,_getFieldArray:T,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Le(Le({},n),e)}},trigger:P,register:U,handleSubmit:z,watch:V,setValue:O,getValues:R,reset:K,resetField:q,clearErrors:M,unregister:j,setError:B,setFocus:Q,getFieldState:F}}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t,n){return t&&kn(e.prototype,t),n&&kn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sn(e,t)}function An(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sn(e,t)}function En(e){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},En(e)}function In(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _n(e,t){if(t&&("object"===Pe(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xn(e)}function Cn(e){var t=In();return function(){var n,r=En(e);if(t){var i=En(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n(this,n)}}function Tn(e,t,n){return Tn=In()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Sn(i,n.prototype),i},Tn.apply(null,arguments)}function Nn(e){var t="function"===typeof Map?new Map:void 0;return Nn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Tn(e,arguments,En(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Sn(n,e)},Nn(e)}var Dn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},On={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Dn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ln=function(e){return function(e){var t=Dn(e);return On.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Pn=function(e){try{return On.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Rn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Rn(e[n],t[n]));return e}function Fn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mn(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bn(){return"object"===typeof indexedDB}var Vn=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},jn=function(){try{return Vn()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Pn(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Un=function(e){var t=function(e){var t,n;return null===(n=null===(t=jn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},zn=function(){var e;return null===(e=jn())||void 0===e?void 0:e.config},qn=function(){function e(){var t=this;bn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return wn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Gn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ln(JSON.stringify({alg:"none",type:"JWT"})),Ln(JSON.stringify(a)),""].join(".")}var Kn=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(xn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(xn(a),Qn.prototype.create),a}return wn(n)}(Nn(Error)),Qn=function(){function e(t,n,r){bn(this,e),this.service=t,this.serviceName=n,this.errors=r}return wn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Hn(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Kn(n,a,t);return o}}]),e}();function Hn(e,t){return e.replace(Wn,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Wn=/\{\$([^}]+)}/g;function Yn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xn(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Zn(u)&&Zn(s)){if(!Xn(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Zn(e){return null!==e&&"object"===typeof e}function Jn(e,t){var n=new $n(e,t);return n.subscribe.bind(n)}var $n=function(){function e(t,n){var r=this;bn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return wn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ze(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=er),void 0===r.error&&(r.error=er),void 0===r.complete&&(r.complete=er);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function er(){}function tr(e){return e&&e._delegate?e._delegate:e}var nr=function(){function e(t,n,r){bn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return wn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),rr="[DEFAULT]",ir=function(){function e(t,n){bn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return wn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new qn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch(c){}var t,n=ze(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Me(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,qe.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,qe.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=ze(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(o)}}catch(h){u.e(h)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(qg){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===rr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(qg){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rr;return this.component?this.component.multipleInstances?e:rr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ar,or,ur=function(){function e(t){bn(this,e),this.name=t,this.providers=new Map}return wn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ir(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),sr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(or||(or={}));var cr={debug:or.DEBUG,verbose:or.VERBOSE,info:or.INFO,warn:or.WARN,error:or.ERROR,silent:or.SILENT},lr=or.INFO,fr=(De(ar={},or.DEBUG,"log"),De(ar,or.VERBOSE,"log"),De(ar,or.INFO,"info"),De(ar,or.WARN,"warn"),De(ar,or.ERROR,"error"),ar),hr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=fr[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},dr=function(){function e(t){bn(this,e),this.name=t,this._logLevel=lr,this._logHandler=hr,this._userLogHandler=null,sr.push(this)}return wn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in or))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?cr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.DEBUG].concat(t)),this._logHandler.apply(this,[this,or.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.VERBOSE].concat(t)),this._logHandler.apply(this,[this,or.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.INFO].concat(t)),this._logHandler.apply(this,[this,or.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.WARN].concat(t)),this._logHandler.apply(this,[this,or.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,or.ERROR].concat(t)),this._logHandler.apply(this,[this,or.ERROR].concat(t))}}]),e}();var pr,vr;var mr=new WeakMap,yr=new WeakMap,gr=new WeakMap,br=new WeakMap,kr=new WeakMap;var wr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function xr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vr||(vr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Er(this),n),Ar(mr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ar(e.apply(Er(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Er(this),t].concat(r));return gr.set(a,t.sort?t.sort():[t]),Ar(a)}}function Sr(e){return"function"===typeof e?xr(e):(e instanceof IDBTransaction&&function(e){if(!yr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));yr.set(e,t)}}(e),t=e,(pr||(pr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,wr):e);var t}function Ar(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ar(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&mr.set(t,e)})).catch((function(){})),kr.set(t,e),t}(e);if(br.has(e))return br.get(e);var t=Sr(e);return t!==e&&(br.set(e,t),kr.set(t,e)),t}var Er=function(e){return kr.get(e)};var Ir,_r,Cr=["get","getKey","getAll","getAllKeys","count"],Tr=["put","add","delete","clear"],Nr=new Map;function Dr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Nr.get(t))return Nr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Tr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Cr.includes(n))){var a=function(){var e=Me(Re().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Nr.set(t,a),a}}}wr=function(e){return Le(Le({},e),{},{get:function(t,n,r){return Dr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Dr(t,n)||e.has(t,n)}})}(wr);var Or=function(){function e(t){bn(this,e),this.container=t}return wn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Lr="@firebase/app",Pr="0.8.2",Rr=new dr("@firebase/app"),Fr="[DEFAULT]",Mr=(De(Ir={},Lr,"fire-core"),De(Ir,"@firebase/app-compat","fire-core-compat"),De(Ir,"@firebase/analytics","fire-analytics"),De(Ir,"@firebase/analytics-compat","fire-analytics-compat"),De(Ir,"@firebase/app-check","fire-app-check"),De(Ir,"@firebase/app-check-compat","fire-app-check-compat"),De(Ir,"@firebase/auth","fire-auth"),De(Ir,"@firebase/auth-compat","fire-auth-compat"),De(Ir,"@firebase/database","fire-rtdb"),De(Ir,"@firebase/database-compat","fire-rtdb-compat"),De(Ir,"@firebase/functions","fire-fn"),De(Ir,"@firebase/functions-compat","fire-fn-compat"),De(Ir,"@firebase/installations","fire-iid"),De(Ir,"@firebase/installations-compat","fire-iid-compat"),De(Ir,"@firebase/messaging","fire-fcm"),De(Ir,"@firebase/messaging-compat","fire-fcm-compat"),De(Ir,"@firebase/performance","fire-perf"),De(Ir,"@firebase/performance-compat","fire-perf-compat"),De(Ir,"@firebase/remote-config","fire-rc"),De(Ir,"@firebase/remote-config-compat","fire-rc-compat"),De(Ir,"@firebase/storage","fire-gcs"),De(Ir,"@firebase/storage-compat","fire-gcs-compat"),De(Ir,"@firebase/firestore","fire-fst"),De(Ir,"@firebase/firestore-compat","fire-fst-compat"),De(Ir,"fire-js","fire-js"),De(Ir,"firebase","fire-js-all"),Ir),Br=new Map,Vr=new Map;function jr(e,t){try{e.container.addComponent(t)}catch(n){Rr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ur(e,t){e.container.addOrOverwriteComponent(t)}function zr(e){var t=e.name;if(Vr.has(t))return Rr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vr.set(t,e);var n,r=ze(Br.values());try{for(r.s();!(n=r.n()).done;){jr(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function qr(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fr;qr(e,t).clearInstance(n)}function Kr(){Vr.clear()}var Qr=(De(_r={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),De(_r,"bad-app-name","Illegal App name: '{$appName}"),De(_r,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),De(_r,"app-deleted","Firebase App named '{$appName}' already deleted"),De(_r,"no-options","Need to provide options, when not being deployed to hosting via source."),De(_r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),De(_r,"invalid-log-argument","First argument to `onLog` must be null or a function."),De(_r,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),De(_r,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),De(_r,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),De(_r,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),_r),Hr=new Qn("app","Firebase",Qr),Wr=function(){function e(t,n,r){var i=this;bn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nr("app",(function(){return i}),"PUBLIC"))}return wn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}]),e}(),Yr="9.12.1";function Xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:Fr,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=zn()),!n)throw Hr.create("no-options");var o=Br.get(a);if(o){if(Xn(n,o.options)&&Xn(i,o.config))return o;throw Hr.create("duplicate-app",{appName:a})}var u,s=new ur(a),c=ze(Vr.values());try{for(c.s();!(u=c.n()).done;){var l=u.value;s.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Wr(n,i,s);return Br.set(a,f),f}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,t=Br.get(e);if(!t&&e===Fr)return Xr();if(!t)throw Hr.create("no-app",{appName:e});return t}function Jr(){return Array.from(Br.values())}function $r(e){return ei.apply(this,arguments)}function ei(){return ei=Me(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Br.has(n)){e.next=6;break}return Br.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(e,t,n){var r,i=null!==(r=Mr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Rr.warn(u.join(" "))}zr(new nr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ni(e,t){if(null!==e&&"function"!==typeof e)throw Hr.create("invalid-log-argument");!function(e,t){var n,r=ze(sr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=cr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:or[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ri(e){var t;t=e,sr.forEach((function(e){e.setLogLevel(t)}))}var ii="firebase-heartbeat-store",ai=null;function oi(){return ai||(ai=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ar(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ar(u.result),e.oldVersion,e.newVersion,Ar(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ii)}}).catch((function(e){throw Hr.create("idb-open",{originalErrorMessage:e.message})}))),ai}function ui(e){return si.apply(this,arguments)}function si(){return si=Me(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oi();case 3:return r=e.sent,e.abrupt("return",r.transaction(ii).objectStore(ii).get(fi(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Kn?Rr.warn(e.t0.message):(i=Hr.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Rr.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),si.apply(this,arguments)}function ci(e,t){return li.apply(this,arguments)}function li(){return li=Me(Re().mark((function e(t,n){var r,i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oi();case 3:return i=e.sent,a=i.transaction(ii,"readwrite"),o=a.objectStore(ii),e.next=8,o.put(n,fi(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Kn?Rr.warn(e.t0.message):(u=Hr.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Rr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),li.apply(this,arguments)}function fi(e){return"".concat(e.name,"!").concat(e.options.appId)}var hi=function(){function e(t){var n=this;bn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new yi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return wn(e,[{key:"triggerHeartbeat",value:function(){var e=Me(Re().mark((function e(){var t,n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=di(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Me(Re().mark((function e(){var t,n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=di(),n=pi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ln(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function di(){return(new Date).toISOString().substring(0,10)}function pi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ze(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),gi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),gi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var vi,mi,yi=function(){function e(t){bn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return wn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Bn()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Me(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ui(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Me(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ci(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Me(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ci(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,qe.Z)(r.heartbeats),(0,qe.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function gi(e){return Ln(JSON.stringify({version:2,heartbeats:e})).length}vi="",zr(new nr("platform-logger",(function(e){return new Or(e)}),"PRIVATE")),zr(new nr("heartbeat",(function(e){return new hi(e)}),"PRIVATE")),ti(Lr,Pr,vi),ti(Lr,Pr,"esm2017"),ti("fire-js","");var bi=function(){function e(t,n){var r=this;bn(this,e),this._delegate=t,this.firebase=n,jr(t,new nr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return wn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),$r(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){jr(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ur(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ki=(De(mi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),De(mi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),mi),wi=new Qn("app-compat","Firebase",ki);var xi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Xr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Yn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ti,setLogLevel:ri,onLog:ni,apps:null,SDK_VERSION:Yr,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(zr(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw wi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Rn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Yn(n,e=e||Fr))throw wi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(bi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Rn(n,e)},createSubscribe:Jn,ErrorFactory:Qn,deepExtend:Rn}),n}(),Si=new dr("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Si.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ai=self.firebase.SDK_VERSION;Ai&&Ai.indexOf("LITE")>=0&&Si.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ei=xi;!function(e){ti("@firebase/app-compat","0.1.37",e)}();function Ii(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}function _i(){return _i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ii(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_i.apply(this,arguments)}Ei.registerVersion("firebase","9.12.1","app-compat");var Ci,Ti="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ni={},Di=Di||{},Oi=Ti||self;function Li(){}function Pi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ri(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Fi="closure_uid_"+(1e9*Math.random()>>>0),Mi=0;function Bi(e,t,n){return e.call.apply(e.bind,arguments)}function Vi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ji(e,t,n){return(ji=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bi:Vi).apply(null,arguments)}function Ui(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zi(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function qi(){this.s=this.s,this.o=this.o}var Gi={};qi.prototype.s=!1,qi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Fi)&&e[Fi]||(e[Fi]=++Mi)}(this);delete Gi[e]}},qi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ki=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Qi(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Hi(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Pi(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Wi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Wi.prototype.h=function(){this.defaultPrevented=!0};var Yi=function(){if(!Oi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Oi.addEventListener("test",Li,t),Oi.removeEventListener("test",Li,t)}catch(n){}return e}();function Xi(e){return/^[\s\xa0]*$/.test(e)}var Zi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ji(e,t){return e<t?-1:e>t?1:0}function $i(){var e=Oi.navigator;return e&&(e=e.userAgent)?e:""}function ea(e){return-1!=$i().indexOf(e)}function ta(e){return ta[" "](e),e}ta[" "]=Li;var na,ra=ea("Opera"),ia=ea("Trident")||ea("MSIE"),aa=ea("Edge"),oa=aa||ia,ua=ea("Gecko")&&!(-1!=$i().toLowerCase().indexOf("webkit")&&!ea("Edge"))&&!(ea("Trident")||ea("MSIE"))&&!ea("Edge"),sa=-1!=$i().toLowerCase().indexOf("webkit")&&!ea("Edge");function ca(){var e=Oi.document;return e?e.documentMode:void 0}e:{var la="",fa=function(){var e=$i();return ua?/rv:([^\);]+)(\)|;)/.exec(e):aa?/Edge\/([\d\.]+)/.exec(e):ia?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):sa?/WebKit\/(\S+)/.exec(e):ra?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(fa&&(la=fa?fa[1]:""),ia){var ha=ca();if(null!=ha&&ha>parseFloat(la)){na=String(ha);break e}}na=la}var da,pa={};function va(){return function(e){var t=pa;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Zi(String(na)).split("."),n=Zi("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ji(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ji(0==a[2].length,0==o[2].length)||Ji(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Oi.document&&ia){var ma=ca();da=ma||(parseInt(na,10)||void 0)}else da=void 0;var ya=da;function ga(e,t){if(Wi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ua){e:{try{ta(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ba[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ga.X.h.call(this)}}zi(ga,Wi);var ba={2:"touch",3:"pen",4:"mouse"};ga.prototype.h=function(){ga.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),wa=0;function xa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++wa,this.ba=this.ea=!1}function Sa(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Aa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ea(e){var t={};for(var n in e)t[n]=e[n];return t}var Ia="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _a(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Ia.length;a++)n=Ia[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ca(e){this.src=e,this.g={},this.h=0}function Ta(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ki(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Sa(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Na(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Ca.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Na(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new xa(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Da="closure_lm_"+(1e6*Math.random()|0),Oa={};function La(e,t,n,r,i){if(r&&r.once)return Ra(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)La(e,t[a],n,r,i);return null}return n=za(n),e&&e[ka]?e.N(t,n,Ri(r)?!!r.capture:!!r,i):Pa(e,t,n,!1,r,i)}function Pa(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ri(i)?!!i.capture:!!i,u=ja(e);if(u||(e[Da]=u=new Ca(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Va;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yi||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ba(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ra(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ra(e,t[a],n,r,i);return null}return n=za(n),e&&e[ka]?e.O(t,n,Ri(r)?!!r.capture:!!r,i):Pa(e,t,n,!0,r,i)}function Fa(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Fa(e,t[a],n,r,i);else r=Ri(r)?!!r.capture:!!r,n=za(n),e&&e[ka]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Na(a=e.g[t],n,r,i))&&(Sa(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ja(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Na(t,n,r,i)),(n=-1<e?t[e]:null)&&Ma(n))}function Ma(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ka])Ta(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ba(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ja(t))?(Ta(n,e),0==n.h&&(n.src=null,t[Da]=null)):Sa(e)}}}function Ba(e){return e in Oa?Oa[e]:Oa[e]="on"+e}function Va(e,t){if(e.ba)e=!0;else{t=new ga(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Ma(e),e=n.call(r,t)}return e}function ja(e){return(e=e[Da])instanceof Ca?e:null}var Ua="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(e){return"function"===typeof e?e:(e[Ua]||(e[Ua]=function(t){return e.handleEvent(t)}),e[Ua])}function qa(){qi.call(this),this.i=new Ca(this),this.P=this,this.I=null}function Ga(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Wi(t,e);else if(t instanceof Wi)t.target=t.target||e;else{var i=t;_a(t=new Wi(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ka(o,r,!0,t)&&i}if(i=Ka(o=t.g=e,r,!0,t)&&i,i=Ka(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ka(o=t.g=n[a],r,!1,t)&&i}function Ka(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&Ta(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}zi(qa,qi),qa.prototype[ka]=!0,qa.prototype.removeEventListener=function(e,t,n,r){Fa(this,e,t,n,r)},qa.prototype.M=function(){if(qa.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sa(n[r]);delete t.g[e],t.h--}}this.I=null},qa.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},qa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qa=Oi.JSON.stringify;function Ha(){var e=to,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wa,Ya=function(){function e(){bn(this,e),this.h=this.g=null}return wn(e,[{key:"add",value:function(e,t){var n=Xa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Xa=new(function(){function e(t,n){bn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return wn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Za}),(function(e){return e.reset()})),Za=function(){function e(){bn(this,e),this.next=this.g=this.h=null}return wn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ja(e){Oi.setTimeout((function(){throw e}),0)}function $a(e,t){Wa||function(){var e=Oi.Promise.resolve(void 0);Wa=function(){e.then(no)}}(),eo||(Wa(),eo=!0),to.add(e,t)}var eo=!1,to=new Ya;function no(){for(var e;e=Ha();){try{e.h.call(e.g)}catch(n){Ja(n)}var t=Xa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}eo=!1}function ro(e,t){qa.call(this),this.h=e||1,this.g=t||Oi,this.j=ji(this.lb,this),this.l=Date.now()}function io(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ao(e,t,n){if("function"===typeof e)n&&(e=ji(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ji(e.handleEvent,e)}return 2147483647<Number(t)?-1:Oi.setTimeout(e,t||0)}function oo(e){e.g=ao((function(){e.g=null,e.i&&(e.i=!1,oo(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}zi(ro,qa),(Ci=ro.prototype).ca=!1,Ci.R=null,Ci.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ga(this,"tick"),this.ca&&(io(this),this.start()))}},Ci.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ci.M=function(){ro.X.M.call(this),io(this),delete this.g};var uo=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return wn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:oo(this)}},{key:"M",value:function(){_i(En(n.prototype),"M",this).call(this),this.g&&(Oi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(qi);function so(e){qi.call(this),this.h=e,this.g={}}zi(so,qi);var co=[];function lo(e,t,n,r){Array.isArray(n)||(n&&(co[0]=n.toString()),n=co);for(var i=0;i<n.length;i++){var a=La(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function fo(e){Aa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ma(e)}),e),e.g={}}function ho(){this.g=!0}function po(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Qa(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}so.prototype.M=function(){so.X.M.call(this),fo(this)},so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ho.prototype.Aa=function(){this.g=!1},ho.prototype.info=function(){};var vo={},mo=null;function yo(){return mo=mo||new qa}function go(e){Wi.call(this,vo.Pa,e)}function bo(e){var t=yo();Ga(t,new go(t,e))}function ko(e,t){Wi.call(this,vo.STAT_EVENT,e),this.stat=t}function wo(e){var t=yo();Ga(t,new ko(t,e))}function xo(e,t){Wi.call(this,vo.Qa,e),this.size=t}function So(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Oi.setTimeout((function(){e()}),t)}vo.Pa="serverreachability",zi(go,Wi),vo.STAT_EVENT="statevent",zi(ko,Wi),vo.Qa="timingevent",zi(xo,Wi);var Ao={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Eo={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Io(){}function _o(e){return e.h||(e.h=e.i())}function Co(){}Io.prototype.h=null;var To,No={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Do(){Wi.call(this,"d")}function Oo(){Wi.call(this,"c")}function Lo(){}function Po(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new so(this),this.O=Fo,e=oa?125:void 0,this.T=new ro(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ro}function Ro(){this.i=null,this.g="",this.h=!1}zi(Do,Wi),zi(Oo,Wi),zi(Lo,Io),Lo.prototype.g=function(){return new XMLHttpRequest},Lo.prototype.i=function(){return{}},To=new Lo;var Fo=45e3,Mo={},Bo={};function Vo(e,t,n){e.K=1,e.v=iu($o(t)),e.s=n,e.P=!0,jo(e,null)}function jo(e,t){e.F=Date.now(),Go(e),e.A=$o(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),yu(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Ro,e.g=gs(e.l,n?t:null,!e.s),0<e.N&&(e.L=new uo(ji(e.La,e,e.g),e.N)),lo(e.S,e.g,"readystatechange",e.ib),t=e.H?Ea(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),bo(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Uo(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function zo(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=qo(e,n))==Bo){4==t&&(e.o=4,wo(14),i=!1),po(e.j,e.m,null,"[Incomplete Response]");break}if(r==Mo){e.o=4,wo(15),po(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}po(e.j,e.m,r,null),Yo(e,r)}Uo(e)&&r!=Bo&&r!=Mo&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,wo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ls(t),t.K=!0,wo(11))):(po(e.j,e.m,n,"[Invalid Chunked Response]"),Wo(e),Ho(e))}function qo(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Bo:(n=Number(t.substring(n,r)),isNaN(n)?Mo:(r+=1)+n>t.length?Bo:(t=t.substr(r,n),e.C=r+n,t))}function Go(e){e.V=Date.now()+e.O,Ko(e,e.O)}function Ko(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=So(ji(e.gb,e),t)}function Qo(e){e.B&&(Oi.clearTimeout(e.B),e.B=null)}function Ho(e){0==e.l.G||e.I||ds(e.l,e)}function Wo(e){Qo(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,io(e.T),fo(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Yo(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Eu(n.h,e)))if(!e.J&&Eu(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hs(n),ns(n)}cs(n),wo(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=So(ji(n.cb,n),6e3));if(1>=Au(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else vs(n,11)}else if((e.J||n.g==e)&&hs(n),!Xi(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Iu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,ru(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=ys(r,r.H?r.ka:null,r.V),d.J){_u(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Qo(p),Go(p)),r.g=d}else ss(r);0<n.i.length&&is(n)}else"stop"!=a[0]&&"close"!=a[0]||vs(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?vs(n,7):ts(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}bo(4)}catch(a){}}function Xo(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Pi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Pi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ci=Po.prototype).setTimeout=function(e){this.O=e},Ci.ib=function(e){e=e.target;var t=this.L;t&&3==Yu(e)?t.l():this.La(e)},Ci.La=function(e){try{if(e==this.g)e:{var t=Yu(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||oa||this.g&&(this.h.h||this.g.fa()||Xu(this.g)))){this.I||4!=t||7==n||bo(8==n||0>=r?3:2),Qo(this);var i=this.g.aa();this.Y=i;t:if(Uo(this)){var a=Xu(this.g);e="";var o=a.length,u=4==Yu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Wo(this),Ho(this);var s="";break t}this.h.i=new Oi.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xi(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,wo(12),Wo(this),Ho(this);break e}po(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yo(this,i)}this.P?(zo(this,t,s),oa&&this.i&&3==t&&(lo(this.S,this.T,"tick",this.hb),this.T.start())):(po(this.j,this.m,s,null),Yo(this,s)),4==t&&Wo(this),this.i&&!this.I&&(4==t?ds(this.l,this):(this.i=!1,Go(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,wo(12)):(this.o=0,wo(13)),Wo(this),Ho(this)}}}catch(t){}},Ci.hb=function(){if(this.g){var e=Yu(this.g),t=this.g.fa();this.C<t.length&&(Qo(this),zo(this,e,t),this.i&&4!=e&&Go(this))}},Ci.cancel=function(){this.I=!0,Wo(this)},Ci.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(bo(3),wo(17)),Wo(this),this.o=2,Ho(this)):Ko(this,this.V-e)};var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jo(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Jo){this.h=void 0!==t?t:e.h,eu(this,e.j),this.s=e.s,this.g=e.g,tu(this,e.m),this.l=e.l,t=e.i;var n=new du;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nu(this,n),this.o=e.o}else e&&(n=String(e).match(Zo))?(this.h=!!t,eu(this,n[1]||"",!0),this.s=au(n[2]||""),this.g=au(n[3]||"",!0),tu(this,n[4]),this.l=au(n[5]||"",!0),nu(this,n[6]||"",!0),this.o=au(n[7]||"")):(this.h=!!t,this.i=new du(null,this.h))}function $o(e){return new Jo(e)}function eu(e,t,n){e.j=n?au(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nu(e,t,n){t instanceof du?(e.i=t,function(e,t){t&&!e.j&&(pu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vu(this,t),yu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ou(t,fu)),e.i=new du(t,e.h))}function ru(e,t,n){e.i.set(t,n)}function iu(e){return ru(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function au(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ou(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,uu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function uu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ou(t,su,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ou(t,su,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ou(n,"/"==n.charAt(0)?lu:cu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ou(n,hu)),e.join("")};var su=/[#\/\?@]/g,cu=/[#\?:]/g,lu=/[#\?]/g,fu=/[#\?@]/g,hu=/#/g;function du(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vu(e,t){pu(e),t=gu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mu(e,t){return pu(e),t=gu(e,t),e.g.has(t)}function yu(e,t,n){vu(e,t),0<n.length&&(e.i=null,e.g.set(gu(e,t),Qi(n)),e.h+=n.length)}function gu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ci=du.prototype).add=function(e,t){pu(this),this.i=null,e=gu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ci.forEach=function(e,t){pu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ci.oa=function(){pu(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ci.W=function(e){pu(this);var t=[];if("string"===typeof e)mu(this,e)&&(t=t.concat(this.g.get(gu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ci.set=function(e,t){return pu(this),this.i=null,mu(this,e=gu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ci.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ci.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var bu=wn((function e(t,n){bn(this,e),this.h=t,this.g=n}));function ku(e){this.l=e||xu,Oi.PerformanceNavigationTiming?e=0<(e=Oi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Oi.g&&Oi.g.Ga&&Oi.g.Ga()&&Oi.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wu,xu=10;function Su(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Au(e){return e.h?1:e.g?e.g.size:0}function Eu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Iu(e,t){e.g?e.g.add(t):e.h=t}function _u(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Cu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ze(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Qi(e.i)}function Tu(){}function Nu(){this.g=new Tu}function Du(e,t,n){var r=n||"";try{Xo(e,(function(e,n){var i=e;Ri(e)&&(i=Qa(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ou(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Lu(e){this.l=e.ac||null,this.j=e.jb||!1}function Pu(e,t){qa.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ru,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ku.prototype.cancel=function(){if(this.i=Cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ze(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Tu.prototype.stringify=function(e){return Oi.JSON.stringify(e,void 0)},Tu.prototype.parse=function(e){return Oi.JSON.parse(e,void 0)},zi(Lu,Io),Lu.prototype.g=function(){return new Pu(this.l,this.j)},Lu.prototype.i=(wu={},function(){return wu}),zi(Pu,qa);var Ru=0;function Fu(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Mu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bu(e)}function Bu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ci=Pu.prototype).open=function(e,t){if(this.readyState!=Ru)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bu(this)},Ci.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Oi).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ci.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mu(this)),this.readyState=Ru},Ci.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bu(this)),this.g&&(this.readyState=3,Bu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Oi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fu(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Ci.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mu(this):Bu(this),3==this.readyState&&Fu(this)}},Ci.Va=function(e){this.g&&(this.response=this.responseText=e,Mu(this))},Ci.Ua=function(e){this.g&&(this.response=e,Mu(this))},Ci.ga=function(){this.g&&Mu(this)},Ci.setRequestHeader=function(e,t){this.v.append(e,t)},Ci.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ci.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vu=Oi.JSON.parse;function ju(e){qa.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Uu,this.K=this.L=!1}zi(ju,qa);var Uu="",zu=/^https?$/i,qu=["POST","PUT"];function Gu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ku(e),Hu(e)}function Ku(e){e.D||(e.D=!0,Ga(e,"complete"),Ga(e,"error"))}function Qu(e){if(e.h&&"undefined"!=typeof Di&&(!e.C[1]||4!=Yu(e)||2!=e.aa()))if(e.v&&4==Yu(e))ao(e.Ha,0,e);else if(Ga(e,"readystatechange"),4==Yu(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Zo)[1]||null;if(!a&&Oi.self&&Oi.self.location){var o=Oi.self.location.protocol;a=o.substr(0,o.length-1)}i=!zu.test(a?a.toLowerCase():"")}t=i}if(t)Ga(e,"complete"),Ga(e,"success");else{e.m=6;try{var u=2<Yu(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Ku(e)}}finally{Hu(e)}}}function Hu(e,t){if(e.g){Wu(e);var n=e.g,r=e.C[0]?Li:null;e.g=null,e.C=null,t||Ga(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Wu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Oi.clearTimeout(e.A),e.A=null)}function Yu(e){return e.g?e.g.readyState:0}function Xu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Uu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ps){return null}}function Zu(e){var t="";return Aa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ju(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ru(e,t,n))}function $u(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function es(e){this.Ca=0,this.i=[],this.j=new ho,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$u("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$u("baseRetryDelayMs",5e3,e),this.bb=$u("retryDelaySeedMs",1e4,e),this.$a=$u("forwardChannelMaxRetries",2,e),this.ta=$u("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new ku(e&&e.concurrentRequestLimit),this.Fa=new Nu,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function ts(e){if(rs(e),3==e.G){var t=e.U++,n=$o(e.F);ru(n,"SID",e.I),ru(n,"RID",t),ru(n,"TYPE","terminate"),os(e,n),(t=new Po(e,e.j,t,void 0)).K=2,t.v=iu($o(n)),n=!1,Oi.navigator&&Oi.navigator.sendBeacon&&(n=Oi.navigator.sendBeacon(t.v.toString(),"")),!n&&Oi.Image&&((new Image).src=t.v,n=!0),n||(t.g=gs(t.l,null),t.g.da(t.v)),t.F=Date.now(),Go(t)}ms(e)}function ns(e){e.g&&(ls(e),e.g.cancel(),e.g=null)}function rs(e){ns(e),e.u&&(Oi.clearTimeout(e.u),e.u=null),hs(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Oi.clearTimeout(e.m),e.m=null)}function is(e){Su(e.h)||e.m||(e.m=!0,$a(e.Ja,e),e.C=0)}function as(e,t){var n;n=t?t.m:e.U++;var r=$o(e.F);ru(r,"SID",e.I),ru(r,"RID",n),ru(r,"AID",e.T),os(e,r),e.o&&e.s&&Ju(r,e.o,e.s),n=new Po(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=us(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Iu(e.h,n),Vo(n,r,t)}function os(e,t){e.ia&&Aa(e.ia,(function(e,n){ru(t,n,e)})),e.l&&Xo({},(function(e,n){ru(t,n,e)}))}function us(e,t,n){n=Math.min(e.i.length,n);var r=e.l?ji(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Du(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function ss(e){e.g||e.u||(e.Z=1,$a(e.Ia,e),e.A=0)}function cs(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=So(ji(e.Ia,e),ps(e,e.A)),e.A++,!0)}function ls(e){null!=e.B&&(Oi.clearTimeout(e.B),e.B=null)}function fs(e){e.g=new Po(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=$o(e.sa);ru(t,"RID","rpc"),ru(t,"SID",e.I),ru(t,"CI",e.L?"0":"1"),ru(t,"AID",e.T),ru(t,"TYPE","xmlhttp"),os(e,t),e.o&&e.s&&Ju(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=iu($o(t)),n.s=null,n.P=!0,jo(n,e)}function hs(e){null!=e.v&&(Oi.clearTimeout(e.v),e.v=null)}function ds(e,t){var n=null;if(e.g==t){hs(e),ls(e),e.g=null;var r=2}else{if(!Eu(e.h,t))return;n=t.D,_u(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ga(r=yo(),new xo(r,n,t,i)),is(e)}else ss(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Au(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=So(ji(e.Ja,e,t),ps(e,e.C)),e.C++,!0))}(e,t)||2==r&&cs(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:vs(e,5);break;case 4:vs(e,10);break;case 3:vs(e,6);break;default:vs(e,2)}}function ps(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function vs(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=ji(e.kb,e);n||(n=new Jo("//www.google.com/images/cleardot.gif"),Oi.location&&"http"==Oi.location.protocol||eu(n,"https"),iu(n)),function(e,t){var n=new ho;if(Oi.Image){var r=new Image;r.onload=Ui(Ou,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ui(Ou,n,r,"TestLoadImage: error",!1,t),r.onabort=Ui(Ou,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ui(Ou,n,r,"TestLoadImage: timeout",!1,t),Oi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else wo(2);e.G=0,e.l&&e.l.va(t),ms(e),rs(e)}function ms(e){if(e.G=0,e.la=[],e.l){var t=Cu(e.h);0==t.length&&0==e.i.length||(Hi(e.la,t),Hi(e.la,e.i),e.h.i.length=0,Qi(e.i),e.i.length=0),e.l.ua()}}function ys(e,t,n){var r=n instanceof Jo?$o(n):new Jo(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),tu(r,r.m);else{var i=Oi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Jo(null,void 0);r&&eu(a,r),t&&(a.g=t),i&&tu(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&ru(r,n,t),ru(r,"VER",e.ma),os(e,r),r}function gs(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new ju(new Lu({jb:!0})):new ju(e.ra)).Ka(e.H),t}function bs(){}function ks(){if(ia&&!(10<=Number(ya)))throw Error("Environmental error: no available transport.")}function ws(e,t){qa.call(this),this.g=new es(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!Xi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new As(this)}function xs(e){Do.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ss(){Oo.call(this),this.status=1}function As(e){this.g=e}(Ci=ju.prototype).Ka=function(e){this.L=e},Ci.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():To.g(),this.C=this.u?_o(this.u):_o(To),this.g.onreadystatechange=ji(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Gu(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=ze(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Oi.FormData&&e instanceof Oi.FormData,!(0<=Ki(qu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=ze(n);try{for(l.s();!(c=l.n()).done;){var f=(0,a.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wu(this),0<this.B&&((this.K=function(e){return ia&&va()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ji(this.qa,this)):this.A=ao(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Gu(this,s)}},Ci.qa=function(){"undefined"!=typeof Di&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ga(this,"timeout"),this.abort(8))},Ci.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ga(this,"complete"),Ga(this,"abort"),Hu(this))},Ci.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hu(this,!0)),ju.X.M.call(this)},Ci.Ha=function(){this.s||(this.F||this.v||this.l?Qu(this):this.fb())},Ci.fb=function(){Qu(this)},Ci.aa=function(){try{return 2<Yu(this)?this.g.status:-1}catch(wu){return-1}},Ci.fa=function(){try{return this.g?this.g.responseText:""}catch(wu){return""}},Ci.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vu(t)}},Ci.Ea=function(){return this.m},Ci.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ci=es.prototype).ma=8,Ci.G=1,Ci.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Po(this,this.j,e,void 0),n=this.s;if(this.S&&(n?_a(n=Ea(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=us(this,t,r),ru(i=$o(this.F),"RID",e),ru(i,"CVER",22),this.D&&ru(i,"X-HTTP-Session-Id",this.D),os(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Zu(n)))+"&"+r:this.o&&Ju(i,this.o,n)),Iu(this.h,t),this.Ya&&ru(i,"TYPE","init"),this.O?(ru(i,"$req",r),ru(i,"SID","null"),t.Z=!0,Vo(t,i,null)):Vo(t,i,r),this.G=2}}else 3==this.G&&(e?as(this,e):0==this.i.length||Su(this.h)||as(this))},Ci.Ia=function(){if(this.u=null,fs(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=So(ji(this.eb,this),e)}},Ci.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,wo(10),ns(this),fs(this))},Ci.cb=function(){null!=this.v&&(this.v=null,ns(this),cs(this),wo(19))},Ci.kb=function(e){e?(this.j.info("Successfully pinged google.com"),wo(2)):(this.j.info("Failed to ping google.com"),wo(1))},(Ci=bs.prototype).xa=function(){},Ci.wa=function(){},Ci.va=function(){},Ci.ua=function(){},Ci.Ra=function(){},ks.prototype.g=function(e,t){return new ws(e,t)},zi(ws,qa),ws.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;wo(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=ys(e,null,e.V),is(e)},ws.prototype.close=function(){ts(this.g)},ws.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Qa(e),e=n);t.i.push(new bu(t.ab++,e)),3==t.G&&is(t)},ws.prototype.M=function(){this.g.l=null,delete this.j,ts(this.g),delete this.g,ws.X.M.call(this)},zi(xs,Do),zi(Ss,Oo),zi(As,bs),As.prototype.xa=function(){Ga(this.g,"a")},As.prototype.wa=function(e){Ga(this.g,new xs(e))},As.prototype.va=function(e){Ga(this.g,new Ss(e))},As.prototype.ua=function(){Ga(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,ws.prototype.send=ws.prototype.u,ws.prototype.open=ws.prototype.m,ws.prototype.close=ws.prototype.close,Ao.NO_ERROR=0,Ao.TIMEOUT=8,Ao.HTTP_ERROR=6,Eo.COMPLETE="complete",Co.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",qa.prototype.listen=qa.prototype.N,ju.prototype.listenOnce=ju.prototype.O,ju.prototype.getLastError=ju.prototype.Oa,ju.prototype.getLastErrorCode=ju.prototype.Ea,ju.prototype.getStatus=ju.prototype.aa,ju.prototype.getResponseJson=ju.prototype.Sa,ju.prototype.getResponseText=ju.prototype.fa,ju.prototype.send=ju.prototype.da,ju.prototype.setWithCredentials=ju.prototype.Ka;var Es=Ni.createWebChannelTransport=function(){return new ks},Is=Ni.getStatEventTarget=function(){return yo()},_s=Ni.ErrorCode=Ao,Cs=Ni.EventType=Eo,Ts=Ni.Event=vo,Ns=Ni.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Ds=Ni.FetchXmlHttpFactory=Lu,Os=Ni.WebChannel=Co,Ls=Ni.XhrIo=ju,Ps="@firebase/firestore",Rs=function(){function e(t){bn(this,e),this.uid=t}return wn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Rs.UNAUTHENTICATED=new Rs(null),Rs.GOOGLE_CREDENTIALS=new Rs("google-credentials-uid"),Rs.FIRST_PARTY=new Rs("first-party-uid"),Rs.MOCK_USER=new Rs("mock-user");var Fs="9.12.1",Ms=new dr("@firebase/firestore");function Bs(){return Ms.logLevel}function Vs(e){if(Ms.logLevel<=or.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zs);Ms.debug.apply(Ms,["Firestore (".concat(Fs,"): ").concat(e)].concat((0,qe.Z)(i)))}}function js(e){if(Ms.logLevel<=or.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zs);Ms.error.apply(Ms,["Firestore (".concat(Fs,"): ").concat(e)].concat((0,qe.Z)(i)))}}function Us(e){if(Ms.logLevel<=or.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zs);Ms.warn.apply(Ms,["Firestore (".concat(Fs,"): ").concat(e)].concat((0,qe.Z)(i)))}}function zs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Fs,") INTERNAL ASSERTION FAILED: ")+e;throw js(t),new Error(t)}function Gs(e,t){e||qs()}function Ks(e,t){return e}var Qs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hs=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return wn(n)}(Kn),Ws=wn((function e(){var t=this;bn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Ys=wn((function e(t,n){bn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xs=function(){function e(){bn(this,e)}return wn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Rs.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Zs=function(){function e(t){bn(this,e),this.token=t,this.changeListener=null}return wn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Js=function(){function e(t){bn(this,e),this.t=t,this.currentUser=Rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return wn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ws;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ws,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Vs("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Vs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ws)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Vs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Gs("string"==typeof n.accessToken),new Ys(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Gs(null===e||"string"==typeof e),new Rs(e)}}]),e}(),$s=function(){function e(t,n,r,i){bn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Rs.FIRST_PARTY,this.p=new Map}return wn(e,[{key:"I",value:function(){return this.g?this.g():(Gs(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),ec=function(){function e(t,n,r,i){bn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return wn(e,[{key:"getToken",value:function(){return Promise.resolve(new $s(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Rs.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),tc=wn((function e(t){bn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),nc=function(){function e(t){bn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return wn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Vs("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Vs("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Vs("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Vs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Gs("string"==typeof t.token),e.A=t.token,new tc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function rc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ic=function(){function e(){bn(this,e)}return wn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=rc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ac(e,t){return e<t?-1:e>t?1:0}function oc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function uc(e){return e+"\0"}var sc=function(){function e(t,n){if(bn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Hs(Qs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Hs(Qs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Hs(Qs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Hs(Qs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return wn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ac(this.nanoseconds,e.nanoseconds):ac(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),cc=function(){function e(t){bn(this,e),this.timestamp=t}return wn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new sc(0,0))}},{key:"max",value:function(){return new e(new sc(253402300799,999999999))}}]),e}(),lc=function(){function e(t,n,r){bn(this,e),void 0===n?n=0:n>t.length&&qs(),void 0===r?r=t.length-n:r>t.length-n&&qs(),this.segments=t,this.offset=n,this.len=r}return wn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),fc=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,qe.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lc),hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dc=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return hc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Hs(Qs.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Hs(Qs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Hs(Qs.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(lc),pc=function(){function e(t){bn(this,e),this.path=t}return wn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===fc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(fc.fromString(t))}},{key:"fromName",value:function(t){return new e(fc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(fc.emptyPath())}},{key:"comparator",value:function(e,t){return fc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new fc(t.slice()))}}]),e}(),vc=wn((function e(t,n,r,i){bn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function mc(e){return e.fields.find((function(e){return 2===e.kind}))}function yc(e){return e.fields.filter((function(e){return 2!==e.kind}))}vc.UNKNOWN_ID=-1;var gc=wn((function e(t,n){bn(this,e),this.fieldPath=t,this.kind=n}));var bc=function(){function e(t,n){bn(this,e),this.sequenceNumber=t,this.offset=n}return wn(e,null,[{key:"empty",value:function(){return new e(0,xc.min())}}]),e}();function kc(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=cc.fromTimestamp(1e9===r?new sc(n+1,0):new sc(n,r));return new xc(i,pc.empty(),t)}function wc(e){return new xc(e.readTime,e.key,-1)}var xc=function(){function e(t,n,r){bn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return wn(e,null,[{key:"min",value:function(){return new e(cc.min(),pc.empty(),-1)}},{key:"max",value:function(){return new e(cc.max(),pc.empty(),-1)}}]),e}();function Sc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=pc.comparator(e.documentKey,t.documentKey))?n:ac(e.largestBatchId,t.largestBatchId)}var Ac="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ec=function(){function e(){bn(this,e),this.onCommittedListeners=[]}return wn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ic(e){return _c.apply(this,arguments)}function _c(){return _c=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Qs.FAILED_PRECONDITION&&t.message===Ac){e.next=2;break}throw t;case 2:Vs("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}var Cc=function(){function e(t){var n=this;bn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return wn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&qs(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ze(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Tc=function(){function e(t,n){var r=this;bn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Ws,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new Oc(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Mc(e.target.error);r.P.reject(new Oc(t,n))}}return wn(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Vs("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Pc(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Oc(n,t)}}}]),e}(),Nc=function(){function e(t,n,r){bn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Fn())&&js("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return wn(e,[{key:"F",value:function(){var e=Me(Re().mark((function e(t){var n=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Vs("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Oc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Hs(Qs.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Hs(Qs.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Oc(t,n))},i.onupgradeneeded=function(e){Vs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Vs("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Me(Re().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Re().mark((function e(){var n,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=Tc.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),Cc.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Vs("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Vs("SimpleDb","Removing database:",e),Rc(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!Bn())return!1;if(e.N())return!0;var t=Fn(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.O)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Dc=function(){function e(t){bn(this,e),this.U=t,this.q=!1,this.K=null}return wn(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return Rc(this.U.delete())}}]),e}(),Oc=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,Qs.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return wn(n)}(Hs);function Lc(e){return"IndexedDbTransactionError"===e.name}var Pc=function(){function e(t){bn(this,e),this.store=t}return wn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Vs("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vs("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Rc(n)}},{key:"add",value:function(e){return Vs("SimpleDb","ADD",this.store.name,e,e),Rc(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Rc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Vs("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Vs("SimpleDb","DELETE",this.store.name,e),Rc(this.store.delete(e))}},{key:"count",value:function(){return Vs("SimpleDb","COUNT",this.store.name),Rc(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Cc((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Cc((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Vs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new Cc((function(n,r){t.onerror=function(e){var t=Mc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new Cc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Dc(i),o=t(i.primaryKey,i.value,a);if(o instanceof Cc){var u=o.catch((function(e){return a.done(),Cc.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return Cc.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Rc(e){return new Cc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Mc(e.target.error);n(t)}}))}var Fc=!1;function Mc(e){var t=Nc.D(Fn());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Hs("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Fc||(Fc=!0,setTimeout((function(){throw r}),0)),r}}return e}var Bc=function(){function e(t,n){bn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return wn(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Vs("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Vs,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Lc(e.t4)){e.next=17;break}Vs("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Ic(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Vc=function(){function e(t,n){bn(this,e),this.localStore=t,this.persistence=n}return wn(e,[{key:"st",value:function(){var e=Me(Re().mark((function e(){var t,n=this,r=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Cc.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Vs("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Vs("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=wc(t);Sc(r,n)>0&&(n=r)})),new xc(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),jc=function(){function e(t,n){var r=this;bn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return wn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Uc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}jc.at=-1;var Gc=function(){function e(t,n){bn(this,e),this.comparator=t,this.root=n||Qc.EMPTY}return wn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Kc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Kc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Kc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Kc(this.root,e,this.comparator,!0)}}]),e}(),Kc=function(){function e(t,n,r,i){bn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return wn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Qc=function(){function e(t,n,r,i,a){bn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return wn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw qs();if(this.right.isRed())throw qs();var e=this.left.check();if(e!==this.right.check())throw qs();return e+(this.isRed()?0:1)}}]),e}();Qc.EMPTY=null,Qc.RED=!0,Qc.BLACK=!1,Qc.EMPTY=new(function(){function e(){bn(this,e),this.size=0}return wn(e,[{key:"key",get:function(){throw qs()}},{key:"value",get:function(){throw qs()}},{key:"color",get:function(){throw qs()}},{key:"left",get:function(){throw qs()}},{key:"right",get:function(){throw qs()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Qc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Hc=function(){function e(t){bn(this,e),this.comparator=t,this.data=new Gc(this.comparator)}return wn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Wc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Wc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Wc=function(){function e(t){bn(this,e),this.iter=t}return wn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Yc(e){return e.hasNext()?e.getNext():void 0}var Xc=function(){function e(t){bn(this,e),this.fields=t,t.sort(dc.comparator)}return wn(e,[{key:"unionWith",value:function(t){var n,r=new Hc(dc.comparator),i=ze(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=ze(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ze(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return oc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Zc=function(e){function t(e){bn(this,t),this.binaryString=e}return wn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ac(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Zc.EMPTY_BYTE_STRING=new Zc("");var Jc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $c(e){if(Gs(!!e),"string"==typeof e){var t=0,n=Jc.exec(e);if(Gs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:el(e.seconds),nanos:el(e.nanos)}}function el(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tl(e){return"string"==typeof e?Zc.fromBase64String(e):Zc.fromUint8Array(e)}function nl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rl(e){var t=e.mapValue.fields.__previous_value__;return nl(t)?rl(t):t}function il(e){var t=$c(e.mapValue.fields.__local_write_time__.timestampValue);return new sc(t.seconds,t.nanos)}var al=wn((function e(t,n,r,i,a,o,u,s){bn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ol=function(){function e(t,n){bn(this,e),this.projectId=t,this.database=n||"(default)"}return wn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ul(e){return null==e}function sl(e){return 0===e&&1/e==-1/0}function cl(e){return"number"==typeof e&&Number.isInteger(e)&&!sl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fl={nullValue:"NULL_VALUE"};function hl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nl(e)?4:Il(e)?9007199254740991:10:qs()}function dl(e,t){if(e===t)return!0;var n=hl(e);if(n!==hl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return il(e).isEqual(il(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=$c(e.timestampValue),r=$c(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tl(e.bytesValue).isEqual(tl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return el(e.geoPointValue.latitude)===el(t.geoPointValue.latitude)&&el(e.geoPointValue.longitude)===el(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return el(e.integerValue)===el(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=el(e.doubleValue),r=el(t.doubleValue);return n===r?sl(n)===sl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return oc(e.arrayValue.values||[],t.arrayValue.values||[],dl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Uc(n)!==Uc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dl(n[i],r[i])))return!1;return!0}(e,t);default:return qs()}}function pl(e,t){return void 0!==(e.values||[]).find((function(e){return dl(e,t)}))}function vl(e,t){if(e===t)return 0;var n=hl(e),r=hl(t);if(n!==r)return ac(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ac(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=el(e.integerValue||e.doubleValue),r=el(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ml(e.timestampValue,t.timestampValue);case 4:return ml(il(e),il(t));case 5:return ac(e.stringValue,t.stringValue);case 6:return function(e,t){var n=tl(e),r=tl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ac(n[i],r[i]);if(0!==a)return a}return ac(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ac(el(e.latitude),el(t.latitude));return 0!==n?n:ac(el(e.longitude),el(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=vl(n[i],r[i]);if(a)return a}return ac(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ll.mapValue&&t===ll.mapValue)return 0;if(e===ll.mapValue)return 1;if(t===ll.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ac(r[o],a[o]);if(0!==u)return u;var s=vl(n[r[o]],i[a[o]]);if(0!==s)return s}return ac(r.length,a.length)}(e.mapValue,t.mapValue);default:throw qs()}}function ml(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ac(e,t);var n=$c(e),r=$c(t),i=ac(n.seconds,r.seconds);return 0!==i?i:ac(n.nanos,r.nanos)}function yl(e){return gl(e)}function gl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=$c(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,pc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ze(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=gl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ze(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(gl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):qs();var t,n}function bl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function kl(e){return!!e&&"integerValue"in e}function wl(e){return!!e&&"arrayValue"in e}function xl(e){return!!e&&"nullValue"in e}function Sl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Al(e){return!!e&&"mapValue"in e}function El(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=El(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=El(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Il(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function _l(e){return"nullValue"in e?fl:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?bl(ol.empty(),pc.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:qs()}function Cl(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?bl(ol.empty(),pc.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ll:qs()}function Tl(e,t){var n=vl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Nl(e,t){var n=vl(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Dl=function(){function e(t){bn(this,e),this.value=t}return wn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Al(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(t)}},{key:"setAll",value:function(e){var t=this,n=dc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=El(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Al(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return dl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Al(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zc(t,(function(t,n){return e[t]=n}));var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(El(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ol(e){var t=[];return zc(e.fields,(function(e,n){var r=new dc([e]);if(Al(n)){var i=Ol(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ze(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Xc(t)}var Ll=function(){function e(t,n,r,i,a,o){bn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return wn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Dl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Dl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=cc.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,cc.min(),cc.min(),Dl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,cc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,cc.min(),Dl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,cc.min(),Dl.empty(),2)}}]),e}(),Pl=wn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;bn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Pl(e,t,n,r,i,a,o)}function Fl(e){var t=Ks(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+yl(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ul(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return yl(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return yl(e)})).join(",")),t.ht=n}return t.ht}function Ml(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!$l(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!dl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tf(e.startAt,t.startAt)&&tf(e.endAt,t.endAt)}function Bl(e){return pc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Vl(e,t){return e.filters.filter((function(e){return e instanceof zl&&e.field.isEqual(t)}))}function jl(e,t,n){var r,i=fl,a=!0,o=ze(Vl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=fl,c=!0;switch(u.op){case"<":case"<=":s=_l(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=fl}Tl({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Tl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ul(e,t,n){var r,i=ll,a=!0,o=ze(Vl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ll,c=!0;switch(u.op){case">=":case">":s=Cl(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ll}Nl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Nl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var zl=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return wn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(vl(t,this.value)):null!==t&&hl(this.value)===hl(t)&&this.ft(vl(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qs()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ql(e,t,r):"array-contains"===t?new Hl(e,r):"in"===t?new Wl(e,r):"not-in"===t?new Yl(e,r):"array-contains-any"===t?new Xl(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Gl(e,n):new Kl(e,n)}}]),n}(function(){return wn((function e(){bn(this,e)}))}()),ql=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this,e,r,i)).key=pc.fromName(i.referenceValue),a}return wn(n,[{key:"matches",value:function(e){var t=pc.comparator(e.key,this.key);return this.ft(t)}}]),n}(zl),Gl=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,"in",r)).keys=Ql("in",r),i}return wn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zl),Kl=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,"not-in",r)).keys=Ql("not-in",r),i}return wn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zl);function Ql(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return pc.fromName(e.referenceValue)}))}var Hl=function(e){An(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"array-contains",r)}return wn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return wl(t)&&pl(t.arrayValue,this.value)}}]),n}(zl),Wl=function(e){An(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"in",r)}return wn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&pl(this.value.arrayValue,t)}}]),n}(zl),Yl=function(e){An(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"not-in",r)}return wn(n,[{key:"matches",value:function(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!pl(this.value.arrayValue,t)}}]),n}(zl),Xl=function(e){An(n,e);var t=Cn(n);function n(e,r){return bn(this,n),t.call(this,e,"array-contains-any",r)}return wn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return pl(t.value.arrayValue,e)}))}}]),n}(zl),Zl=wn((function e(t,n){bn(this,e),this.position=t,this.inclusive=n})),Jl=wn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";bn(this,e),this.field=t,this.dir=n}));function $l(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ef(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?pc.comparator(pc.fromName(o.referenceValue),n.key):vl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function tf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!dl(e.position[n],t.position[n]))return!1;return!0}var nf=wn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;bn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function rf(e,t,n,r,i,a,o,u){return new nf(e,t,n,r,i,a,o,u)}function af(e){return new nf(e)}function of(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function uf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function sf(e){var t,n=ze(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function cf(e){return null!==e.collectionGroup}function lf(e){var t=Ks(e);if(null===t._t){t._t=[];var n=sf(t),r=uf(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Jl(n)),t._t.push(new Jl(dc.keyField(),"asc"));else{var i,a=!1,o=ze(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Jl(dc.keyField(),s))}}}return t._t}function ff(e){var t=Ks(e);if(!t.wt)if("F"===t.limitType)t.wt=Rl(t.path,t.collectionGroup,lf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ze(lf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Jl(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Zl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Zl(t.startAt.position,t.startAt.inclusive):null;t.wt=Rl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function hf(e,t,n){return new nf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function df(e,t){return Ml(ff(e),ff(t))&&e.limitType===t.limitType}function pf(e){return"".concat(Fl(ff(e)),"|lt:").concat(e.limitType)}function vf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(yl(t.value));var t})).join(", "),"]")),ul(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return yl(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return yl(e)})).join(",")),"Target(".concat(t,")")}(ff(e)),"; limitType=").concat(e.limitType,")")}function mf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ze(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ze(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ef(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,lf(e),t))&&!(e.endAt&&!function(e,t,n){var r=ef(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,lf(e),t))}(e,t)}function yf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gf(e){return function(t,n){var r,i=!1,a=ze(lf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=bf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function bf(e,t,n){var r=e.field.isKeyField()?pc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?vl(r,i):qs()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qs()}}function kf(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sl(t)?"-0":t}}function wf(e){return{integerValue:""+e}}function xf(e,t){return cl(t)?wf(t):kf(e,t)}var Sf=wn((function e(){bn(this,e),this._=void 0}));function Af(e,t,n){return e instanceof _f?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cf?Tf(e,t):e instanceof Nf?Df(e,t):function(e,t){var n=If(e,t),r=Lf(n)+Lf(e.yt);return kl(n)&&kl(e.yt)?wf(r):kf(e.It,r)}(e,t)}function Ef(e,t,n){return e instanceof Cf?Tf(e,t):e instanceof Nf?Df(e,t):n}function If(e,t){return e instanceof Of?kl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var _f=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n)}(Sf),Cf=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).elements=e,r}return wn(n)}(Sf);function Tf(e,t){var n,r=Pf(t),i=ze(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return dl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Nf=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).elements=e,r}return wn(n)}(Sf);function Df(e,t){var n,r=Pf(t),i=ze(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!dl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Of=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return wn(n)}(Sf);function Lf(e){return el(e.integerValue||e.doubleValue)}function Pf(e){return wl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Rf=wn((function e(t,n){bn(this,e),this.field=t,this.transform=n}));var Ff=wn((function e(t,n){bn(this,e),this.version=t,this.transformResults=n})),Mf=function(){function e(t,n){bn(this,e),this.updateTime=t,this.exists=n}return wn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Bf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Vf=wn((function e(){bn(this,e)}));function jf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Jf(e.key,Mf.none()):new Kf(e.key,e.data,Mf.none());var n,r=e.data,i=Dl.empty(),a=new Hc(dc.comparator),o=ze(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Qf(e.key,i,new Xc(a.toArray()),Mf.none())}function Uf(e,t,n){e instanceof Kf?function(e,t,n){var r=e.value.clone(),i=Wf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qf?function(e,t,n){if(Bf(e.precondition,t)){var r=Wf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zf(e,t,n,r){return e instanceof Kf?function(e,t,n,r){if(!Bf(e.precondition,t))return n;var i=e.value.clone(),a=Yf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qf?function(e,t,n,r){if(!Bf(e.precondition,t))return n;var i=Yf(e.fieldTransforms,r,t),a=t.data;return a.setAll(Hf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Bf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qf(e,t){var n,r=null,i=ze(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=If(a.transform,o||null);null!=u&&(null===r&&(r=Dl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Gf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&oc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cf&&t instanceof Cf||e instanceof Nf&&t instanceof Nf?oc(e.elements,t.elements,dl):e instanceof Of&&t instanceof Of?dl(e.yt,t.yt):e instanceof _f&&t instanceof _f}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Kf=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return bn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return wn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vf),Qf=function(e){An(n,e);var t=Cn(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return bn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return wn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Vf);function Hf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Wf(e,t,n){var r=new Map;Gs(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Ef(o,u,n[i]))}return r}function Yf(e,t,n){var r,i=new Map,a=ze(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Af(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xf,Zf,Jf=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return wn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vf),$f=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return wn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Vf),eh=wn((function e(t){bn(this,e),this.count=t}));function th(e){switch(e){default:return qs();case Qs.CANCELLED:case Qs.UNKNOWN:case Qs.DEADLINE_EXCEEDED:case Qs.RESOURCE_EXHAUSTED:case Qs.INTERNAL:case Qs.UNAVAILABLE:case Qs.UNAUTHENTICATED:return!1;case Qs.INVALID_ARGUMENT:case Qs.NOT_FOUND:case Qs.ALREADY_EXISTS:case Qs.PERMISSION_DENIED:case Qs.FAILED_PRECONDITION:case Qs.ABORTED:case Qs.OUT_OF_RANGE:case Qs.UNIMPLEMENTED:case Qs.DATA_LOSS:return!0}}function nh(e){if(void 0===e)return js("GRPC error has no .code"),Qs.UNKNOWN;switch(e){case Xf.OK:return Qs.OK;case Xf.CANCELLED:return Qs.CANCELLED;case Xf.UNKNOWN:return Qs.UNKNOWN;case Xf.DEADLINE_EXCEEDED:return Qs.DEADLINE_EXCEEDED;case Xf.RESOURCE_EXHAUSTED:return Qs.RESOURCE_EXHAUSTED;case Xf.INTERNAL:return Qs.INTERNAL;case Xf.UNAVAILABLE:return Qs.UNAVAILABLE;case Xf.UNAUTHENTICATED:return Qs.UNAUTHENTICATED;case Xf.INVALID_ARGUMENT:return Qs.INVALID_ARGUMENT;case Xf.NOT_FOUND:return Qs.NOT_FOUND;case Xf.ALREADY_EXISTS:return Qs.ALREADY_EXISTS;case Xf.PERMISSION_DENIED:return Qs.PERMISSION_DENIED;case Xf.FAILED_PRECONDITION:return Qs.FAILED_PRECONDITION;case Xf.ABORTED:return Qs.ABORTED;case Xf.OUT_OF_RANGE:return Qs.OUT_OF_RANGE;case Xf.UNIMPLEMENTED:return Qs.UNIMPLEMENTED;case Xf.DATA_LOSS:return Qs.DATA_LOSS;default:return qs()}}(Zf=Xf||(Xf={}))[Zf.OK=0]="OK",Zf[Zf.CANCELLED=1]="CANCELLED",Zf[Zf.UNKNOWN=2]="UNKNOWN",Zf[Zf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zf[Zf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zf[Zf.NOT_FOUND=5]="NOT_FOUND",Zf[Zf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zf[Zf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zf[Zf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zf[Zf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zf[Zf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zf[Zf.ABORTED=10]="ABORTED",Zf[Zf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zf[Zf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zf[Zf.INTERNAL=13]="INTERNAL",Zf[Zf.UNAVAILABLE=14]="UNAVAILABLE",Zf[Zf.DATA_LOSS=15]="DATA_LOSS";var rh=function(){function e(t,n){bn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return wn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){zc(this.inner,(function(t,n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return qc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ih=new Gc(pc.comparator);function ah(){return ih}var oh=new Gc(pc.comparator);function uh(){for(var e=oh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function sh(e){var t=oh;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function ch(){return fh()}function lh(){return fh()}function fh(){return new rh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var hh=new Gc(pc.comparator),dh=new Hc(pc.comparator);function ph(){for(var e=dh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var vh=new Hc(ac);function mh(){return vh}var yh=function(){function e(t,n,r,i,a){bn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return wn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,gh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(cc.min(),i,mh(),ah(),ph())}}]),e}(),gh=function(){function e(t,n,r,i,a){bn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return wn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,ph(),ph(),ph())}}]),e}(),bh=wn((function e(t,n,r,i){bn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),kh=wn((function e(t,n){bn(this,e),this.targetId=t,this.At=n})),wh=wn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;bn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),xh=function(){function e(){bn(this,e),this.Rt=0,this.bt=Eh(),this.Pt=Zc.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return wn(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=ph(),t=ph(),n=ph();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qs()}})),new gh(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Eh()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Ot",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Mt",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Sh=function(){function e(t){bn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=ah(),this.qt=Ah(),this.Kt=new Hc(ac)}return wn(e,[{key:"Gt",value:function(e){var t,n=ze(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=ze(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:qs()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Bl(i))if(0===n){var a=new pc(i.path);this.jt(t,a,Ll.newNoDocument(a,cc.min()))}else Gs(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Bl(a.target)){var o=new pc(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Ll.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=ph();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new yh(e,n,this.Kt,this.Ut,r);return this.Ut=ah(),this.qt=Ah(),this.Kt=new Hc(ac),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Mt",value:function(e){this.zt(e).Mt()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new xh,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Hc(ac),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Vs("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new xh),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ah(){return new Gc(pc.comparator)}function Eh(){return new Gc(pc.comparator)}var Ih={asc:"ASCENDING",desc:"DESCENDING"},_h={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ch=wn((function e(t,n){bn(this,e),this.databaseId=t,this.gt=n}));function Th(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nh(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Dh(e,t){return Th(e,t.toTimestamp())}function Oh(e){return Gs(!!e),cc.fromTimestamp(function(e){var t=$c(e);return new sc(t.seconds,t.nanos)}(e))}function Lh(e,t){return function(e){return new fc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ph(e){var t=fc.fromString(e);return Gs(rd(t)),t}function Rh(e,t){return Lh(e.databaseId,t.path)}function Fh(e,t){var n=Ph(t);if(n.get(1)!==e.databaseId.projectId)throw new Hs(Qs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hs(Qs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pc(jh(n))}function Mh(e,t){return Lh(e.databaseId,t)}function Bh(e){var t=Ph(e);return 4===t.length?fc.emptyPath():jh(t)}function Vh(e){return new fc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jh(e){return Gs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Uh(e,t,n){return{name:Rh(e,t),fields:n.value.mapValue.fields}}function zh(e,t,n){var r=Fh(e,t.name),i=Oh(t.updateTime),a=new Dl({mapValue:{fields:t.fields}}),o=Ll.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function qh(e,t){return"found"in t?function(e,t){Gs(!!t.found),t.found.name,t.found.updateTime;var n=Fh(e,t.found.name),r=Oh(t.found.updateTime),i=new Dl({mapValue:{fields:t.found.fields}});return Ll.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Gs(!!t.missing),Gs(!!t.readTime);var n=Fh(e,t.missing),r=Oh(t.readTime);return Ll.newNoDocument(n,r)}(e,t):qs()}function Gh(e,t){var n;if(t instanceof Kf)n={update:Uh(e,t.key,t.value)};else if(t instanceof Jf)n={delete:Rh(e,t.key)};else if(t instanceof Qf)n={update:Uh(e,t.key,t.data),updateMask:nd(t.fieldMask)};else{if(!(t instanceof $f))return qs();n={verify:Rh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof _f)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Of)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw qs()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qs()}(e,t.precondition)),n}function Kh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Mf.updateTime(Oh(e.updateTime)):void 0!==e.exists?Mf.exists(e.exists):Mf.none()}(t.currentDocument):Mf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Gs("REQUEST_TIME"===t.setToServerValue),n=new _f;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Nf(i)}else"increment"in t?n=new Of(e,t.increment):qs();var a=dc.fromServerFormat(t.fieldPath);return new Rf(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Fh(e,t.update.name),a=new Dl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Xc(t.map((function(e){return dc.fromServerFormat(e)})))}(t.updateMask);return new Qf(i,a,o,n,r)}return new Kf(i,a,n,r)}if(t.delete){var u=Fh(e,t.delete);return new Jf(u,n)}if(t.verify){var s=Fh(e,t.verify);return new $f(s,n)}return qs()}function Qh(e,t){return{documents:[Mh(e,t.path)]}}function Hh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Mh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Sl(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NAN"}};if(xl(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sl(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NOT_NAN"}};if(xl(e.value))return{unaryFilter:{field:Jh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jh(e.field),op:Zh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Jh(e.field),direction:Xh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||ul(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Wh(e){var t=Bh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gs(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Yh(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Jl($h(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ul(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Zl(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Zl(n,t)}(n.endAt)),rf(t,i,u,o,s,"F",c,l)}function Yh(e){return e?void 0!==e.unaryFilter?[td(e)]:void 0!==e.fieldFilter?[ed(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Yh(e)})).reduce((function(e,t){return e.concat(t)})):qs():[]}function Xh(e){return Ih[e]}function Zh(e){return _h[e]}function Jh(e){return{fieldPath:e.canonicalString()}}function $h(e){return dc.fromServerFormat(e.fieldPath)}function ed(e){return zl.create($h(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qs()}}(e.fieldFilter.op),e.fieldFilter.value)}function td(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$h(e.unaryFilter.field);return zl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$h(e.unaryFilter.field);return zl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$h(e.unaryFilter.field);return zl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$h(e.unaryFilter.field);return zl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qs()}}function nd(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function rd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function id(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=od(t)),t=ad(e.get(n),t);return od(t)}function ad(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function od(e){return e+"\x01\x01"}function ud(e){var t=e.length;if(Gs(t>=2),2===t)return Gs("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&qs(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:qs()}a=o+2}return new fc(r)}var sd=["userId","batchId"];function cd(e,t){return[e,id(t)]}function ld(e,t,n){return[e,id(t),n]}var fd={},hd=["prefixPath","collectionGroup","readTime","documentId"],dd=["prefixPath","collectionGroup","documentId"],pd=["collectionGroup","readTime","prefixPath","documentId"],vd=["canonicalId","targetId"],md=["targetId","path"],yd=["path","targetId"],gd=["collectionId","parent"],bd=["indexId","uid"],kd=["uid","sequenceNumber"],wd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xd=["indexId","uid","orderedDocumentKey"],Sd=["userId","collectionPath","documentId"],Ad=["userId","collectionPath","largestBatchId"],Ed=["userId","collectionGroup","largestBatchId"],Id=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),_d=[].concat((0,qe.Z)(Id),["documentOverlays"]),Cd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Td=Cd,Nd=[].concat(Td,["indexConfiguration","indexState","indexEntries"]),Dd=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return wn(n)}(Ec);function Od(e,t){var n=Ks(e);return Nc.M(n.ie,t)}var Ld=function(){function e(t,n,r,i){bn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return wn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Uf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ze(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=zf(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=ze(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=zf(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=lh();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=jf(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(cc.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ph())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(function(e,t){return Gf(e,t)}))&&oc(this.baseMutations,e.baseMutations,(function(e,t){return Gf(e,t)}))}}]),e}(),Pd=function(){function e(t,n,r,i){bn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return wn(e,null,[{key:"from",value:function(t,n,r){Gs(t.mutations.length===r.length);for(var i=hh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Rd=function(){function e(t,n){bn(this,e),this.largestBatchId=t,this.mutation=n}return wn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Fd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:cc.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zc.EMPTY_BYTE_STRING;bn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return wn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Md=wn((function e(t){bn(this,e),this.re=t}));function Bd(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Rh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Th(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:jd(t.version)};else{if(!t.isUnknownDocument())return qs();r.unknownDocument={path:n.path.toArray(),version:jd(t.version)}}return r}function Vd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jd(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ud(e){var t=new sc(e.seconds,e.nanoseconds);return cc.fromTimestamp(t)}function zd(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Kh(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Kh(e.re,t)})),u=sc.fromMillis(t.localWriteTimeMs);return new Ld(t.batchId,u,n,o)}function qd(e){var t,n,r=Ud(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ud(e.lastLimboFreeSnapshotVersion):cc.min();return void 0!==e.query.documents?(Gs(1===(n=e.query).documents.length),t=ff(af(Bh(n.documents[0])))):t=function(e){return ff(Wh(e))}(e.query),new Fd(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Zc.fromBase64String(e.resumeToken))}function Gd(e,t){var n,r=jd(t.snapshotVersion),i=jd(t.lastLimboFreeSnapshotVersion);n=Bl(t.target)?Qh(e.re,t.target):Hh(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Fl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Kd(e){var t=Wh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?hf(t,t.limit,"L"):t}function Qd(e,t){return new Rd(t.largestBatchId,Kh(e.re,t.overlayMutation))}function Hd(e,t){var n=t.path.lastSegment();return[e,id(t.path.popLast()),n]}function Wd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:jd(r.readTime),documentKey:id(r.documentKey.path),largestBatchId:r.largestBatchId}}var Yd=function(){function e(){bn(this,e)}return wn(e,[{key:"getBundleMetadata",value:function(e,t){return Xd(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ud(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Xd(e).put({bundleId:(n=t).id,createTime:jd(Oh(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Zd(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Kd(t.bundledQuery),readTime:Ud(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Zd(e).put(function(e){return{name:e.name,readTime:jd(Oh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Xd(e){return Od(e,"bundles")}function Zd(e){return Od(e,"namedQueries")}var Jd=function(){function e(t,n){bn(this,e),this.It=t,this.userId=n}return wn(e,[{key:"getOverlay",value:function(e,t){var n=this;return $d(e).get(Hd(this.userId,t)).next((function(e){return e?Qd(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=ch();return Cc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Rd(t,a);i.push(r.ue(e,o))})),Cc.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(id(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($d(e).Y("collectionPathOverlayIndex",i))})),Cc.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=ch(),a=id(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $d(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Qd(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=ch(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $d(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Qd(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return $d(e).put(function(e,t,n){var r=Hd(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Gh(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $d(e){return Od(e,"documentOverlays")}var ep=function(){function e(){bn(this,e)}return wn(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(el(e.integerValue));else if("doubleValue"in e){var n=el(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),sl(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(tl(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Il(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):qs()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),pc.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function tp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function np(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=tp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}ep.Te=new ep;var rp=function(){function e(){bn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return wn(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=np(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=np(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Oe(255),this.Oe(255)}},{key:"Me",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Oe(0),this.Oe(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Oe",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ip=function(){function e(t){bn(this,e),this.Be=t}return wn(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),ap=function(){function e(t){bn(this,e),this.Be=t}return wn(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Me()}}]),e}(),op=function(){function e(){bn(this,e),this.Be=new rp,this.Le=new ip(this.Be),this.Ue=new ap(this.Be)}return wn(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),up=function(){function e(t,n,r,i){bn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return wn(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function sp(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=cp(e.arrayValue,t.arrayValue))?n:0!==(n=cp(e.directionalValue,t.directionalValue))?n:pc.comparator(e.documentKey,t.documentKey)}function cp(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var lp=function(){function e(t){bn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=ze(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return wn(e,[{key:"We",value:function(e){var t=mc(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=yc(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=ze(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),fp=function(){function e(){bn(this,e),this.Ye=new hp}return wn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),Cc.resolve()}},{key:"getCollectionParents",value:function(e,t){return Cc.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Cc.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Cc.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Cc.resolve(null)}},{key:"getIndexType",value:function(e,t){return Cc.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Cc.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Cc.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Cc.resolve(xc.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Cc.resolve(xc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Cc.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Cc.resolve()}}]),e}(),hp=function(){function e(){bn(this,e),this.index={}}return wn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Hc(fc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Hc(fc.comparator)).toArray()}}]),e}(),dp=new Uint8Array(0),pp=function(){function e(t,n){bn(this,e),this.user=t,this.databaseId=n,this.Xe=new hp,this.Ze=new rh((function(e){return Fl(e)}),(function(e,t){return Ml(e,t)})),this.uid=t.uid||""}return wn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:id(i)};return vp(e).put(a)}return Cc.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[uc(t),""],!1,!0);return vp(e).W(r).next((function(e){var r,i=ze(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ud(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=yp(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=gp(e);return a.next((function(e){o.put(Wd(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=yp(e),r=gp(e),i=mp(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=mp(e),i=!0,a=new Map;return Cc.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=ph(),o=[];return Cc.forEach(a,(function(i,a){var u;Vs("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Fl(t)));var s=function(e,t){var n=mc(t);if(void 0===n)return null;var r,i=ze(Vl(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ze(yc(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ze(Vl(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ze(yc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?jl(e,o.fieldPath,e.startAt):Ul(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Zl(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ze(yc(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ul(e,o.fieldPath,e.endAt):jl(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Zl(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Cc.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=pc.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Cc.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):dp,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,(0,qe.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new up(e,pc.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new up(e,pc.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new lp(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ze(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Cc.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Hc(dc.comparator),r=!1,i=ze(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=ze(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new op,i=ze(yc(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);ep.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new op;return ep.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new op;return ep.Te.ce(bl(this.databaseId,t),n.qe(function(e){var t=yc(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new op);var i,a=0,o=ze(yc(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ze(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&wl(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);ep.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=(0,qe.Z)(e),a=[],o=ze(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ze(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new op;f.seed(l.$e()),ep.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=yp(e),i=gp(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return Cc.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new bc(t.sequenceNumber,new xc(Ud(t.readTime),new pc(ud(t.documentKey)),t.largestBatchId)):bc.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new gc(dc.fromServerFormat(n),r)}));return new vc(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ac(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=yp(e),a=gp(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Cc.forEach(t,(function(t){return a.put(Wd(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Cc.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Cc.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Cc.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?Cc.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return mp(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return mp(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=mp(e),i=new Hc(sp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new up(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Hc(sp),r=this.an(t,e);if(null==r)return n;var i=mc(t);if(null!=i){var a=e.data.field(i.fieldPath);if(wl(a)){var o,u=ze(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new up(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new up(t.indexId,e.key,dp,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Vs("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Yc(a),s=Yc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Yc(o)):l?(i(u),u=Yc(a)):(u=Yc(a),s=Yc(o))}}(r,i,sp,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),Cc.waitFor(o)}},{key:"_n",value:function(e){var t=1;return gp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return sp(e,t)})).filter((function(e,t,n){return!t||0!==sp(e,n[t-1])}));var r=[];r.push(e);var i,a=ze(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=sp(o,e),s=sp(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,dp,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,dp,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(bp)}},{key:"getMinOffset",value:function(e,t){var n=this;return Cc.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||qs()}))})).next(bp)}}]),e}();function vp(e){return Od(e,"collectionParents")}function mp(e){return Od(e,"indexEntries")}function yp(e){return Od(e,"indexConfiguration")}function gp(e){return Od(e,"indexState")}function bp(e){Gs(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Sc(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new xc(t.readTime,t.documentKey,n)}var kp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wp=function(){function e(t,n,r){bn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return wn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function xp(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Gs(1===u)})));var c,l=[],f=ze(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ld(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Cc.waitFor(a).next((function(){return l}))}function Sp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qs();t=e.noDocument}return JSON.stringify(t).length}wp.DEFAULT_COLLECTION_PERCENTILE=10,wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wp.DEFAULT=new wp(41943040,wp.DEFAULT_COLLECTION_PERCENTILE,wp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wp.DISABLED=new wp(-1,0,0);var Ap=function(){function e(t,n,r,i){bn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return wn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ip(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=_p(e),o=Ip(e);return o.add({}).next((function(u){Gs("number"==typeof u);var s,c=new Ld(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Gh(e.re,t)})),i=n.mutations.map((function(t){return Gh(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Hc((function(e,t){return ac(e.canonicalString(),t.canonicalString())})),d=ze(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=ld(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,fd))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),Cc.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Ip(e).get(t).next((function(e){return e?(Gs(e.userId===n.userId),zd(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?Cc.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Ip(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Gs(t.batchId>=r),a=zd(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ip(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ip(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return zd(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=cd(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return _p(e).Z({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=ud(l);if(c===n.userId&&t.path.isEqual(h))return Ip(e).get(f).next((function(e){if(!e)throw qs();Gs(e.userId===n.userId),o.push(zd(n.It,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hc(ac),i=[];return t.forEach((function(t){var o=cd(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=_p(e).Z({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=ud(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),Cc.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=cd(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Hc(ac);return _p(e).Z({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=ud(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.En(e,s)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ip(e).get(t).next((function(e){if(null===e)throw qs();Gs(e.userId===n.userId),r.push(zd(n.It,e))})))})),Cc.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return xp(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),Cc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Cc.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return _p(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ud(e[1]);i.push(a)}else r.done()})).next((function(){Gs(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ep(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return Cp(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Gs(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Ep(e,t,n){var r=cd(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return _p(e).Z({range:o,X:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function Ip(e){return Od(e,"mutations")}function _p(e){return Od(e,"documentMutations")}function Cp(e){return Od(e,"mutationQueues")}var Tp=function(){function e(t){bn(this,e),this.bn=t}return wn(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),Np=function(){function e(t,n){bn(this,e),this.referenceDelegate=t,this.It=n}return wn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new Tp(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return cc.fromTimestamp(new sc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Dp(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Gs(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Dp(e).Z((function(o,u){var s=qd(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Cc.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Dp(e).Z((function(e,n){var r=qd(n);t(r)}))}},{key:"Vn",value:function(e){return Op(e).get("targetGlobalKey").next((function(e){return Gs(null!==e),e}))}},{key:"Sn",value:function(e,t){return Op(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return Dp(e).put(Gd(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Fl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Dp(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=qd(n);Ml(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Lp(e);return t.forEach((function(t){var o=id(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Cc.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Lp(e);return Cc.forEach(t,(function(t){var a=id(t.path);return Cc.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Lp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Lp(e),i=ph();return r.Z({range:n,X:!0},(function(e,t,n){var r=ud(e[1]),a=new pc(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=id(t.path),r=IDBKeyRange.bound([n],[uc(n)],!1,!0),i=0;return Lp(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return Dp(e).get(t).next((function(e){return e?qd(e):null}))}}]),e}();function Dp(e){return Od(e,"targets")}function Op(e){return Od(e,"targetGlobal")}function Lp(e){return Od(e,"targetDocuments")}function Pp(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=ac(r,u);return 0===c?ac(i,s):c}var Rp=function(){function e(t){bn(this,e),this.xn=t,this.buffer=new Hc(Pp),this.Nn=0}return wn(e,[{key:"kn",value:function(){return++this.Nn}},{key:"On",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Pp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Fp=function(){function e(t,n,r){bn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Mn=null}return wn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}},{key:"started",get:function(){return null!==this.Mn}},{key:"Fn",value:function(e){var t=this;Vs("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Mn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Lc(e.t0)){e.next=12;break}Vs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Ic(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Mp=function(){function e(t,n){bn(this,e),this.$n=t,this.params=n}return wn(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Cc.resolve(jc.at);var r=new Rp(t);return this.$n.forEachTarget(e,(function(e){return r.On(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.On(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Vs("LruGarbageCollector","Garbage collection skipped; disabled"),Cc.resolve(kp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Vs("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),kp):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Vs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Bs()<=or.DEBUG&&Vs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Cc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Bp=function(){function e(t,n){bn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Mp(e,t)}(this,n)}return wn(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Vp(e,n)}},{key:"removeReference",value:function(e,t,n){return Vp(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Vp(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return Cp(e).tt((function(r){return Ep(e,r,t).next((function(e){return e&&(n=!0),Cc.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,cc.min()),Lp(e).delete([0,id(o.path)])}))}));i.push(s)}})).next((function(){return Cc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Vp(e,t)}},{key:"Kn",value:function(e,t){var n,r=Lp(e),i=jc.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==jc.at&&t(new pc(ud(n)),i),i=c,n=s):i=jc.at})).next((function(){i!==jc.at&&t(new pc(ud(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Vp(e,t){return Lp(e).put(function(e,t){return{targetId:0,path:id(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var jp=function(){function e(){bn(this,e),this.changes=new rh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return wn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ll.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Cc.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Up=function(){function e(t){bn(this,e),this.It=t}return wn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Kp(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Kp(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Vd(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ll.newInvalidDocument(t);return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Qp(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:Ll.newInvalidDocument(t)};return Kp(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Qp(t))},(function(e,i){r={document:n.jn(t,i),size:Sp(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ah();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=ah(),i=new Gc(pc.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,Sp(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return Cc.resolve();var r=new Hc(Wp);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Qp(r.first()),Qp(r.last())),a=r.getIterator(),o=a.getNext();return Kp(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=pc.fromSegments([].concat((0,qe.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Wp(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Qp(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Vd(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kp(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ah(),i=ze(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(pc.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ah(),o=Hp(t,n),u=Hp(t,xc.max());return Kp(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(pc.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new qp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Gp(e).get("remoteDocumentGlobalKey").next((function(e){return Gs(!!e),e}))}},{key:"Qn",value:function(e,t){return Gp(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=zh(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=pc.fromSegments(t.noDocument.path),i=Ud(t.noDocument.readTime);n=Ll.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qs();var a=pc.fromSegments(t.unknownDocument.path),o=Ud(t.unknownDocument.version);n=Ll.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new sc(e[0],e[1]);return cc.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(cc.min()))return n}return Ll.newInvalidDocument(e)}}]),e}();function zp(e){return new Up(e)}var qp=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new rh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return wn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Hc((function(e,t){return ac(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Bd(t.Yn.It,o);i=i.add(a.path.popLast());var c=Sp(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Bd(t.Yn.It,o.convertToNoDocument(cc.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),Cc.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(jp);function Gp(e){return Od(e,"remoteDocumentGlobal")}function Kp(e){return Od(e,"remoteDocumentsV14")}function Qp(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Hp(e,t){var n=t.documentKey.path.toArray();return[e,Vd(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Wp(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ac(n[a],r[a]))return i;return(i=ac(n.length,r.length))||((i=ac(n[n.length-2],r[r.length-2]))||ac(n[n.length-1],r[r.length-1]))}var Yp=wn((function e(t,n){bn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Xp=function(){function e(t,n,r,i){bn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return wn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&zf(r.mutation,e,Xc.empty(),sc.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,ph()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ph(),i=ch();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=uh();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=ch();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,ph())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ah(),a=fh(),o=fh();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Qf)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),zf(o.mutation,t,o.mutation.getFieldMask(),sc.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Yp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=fh(),i=new Gc((function(e,t){return e-t})),a=ph();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ze(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Xc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||ph()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=lh();c.forEach((function(e){if(!a.has(e)){var n=jf(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Cc.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return pc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Cc.resolve(ch()),u=-1,s=a;return o.next((function(t){return Cc.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Cc.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,ph())})).next((function(e){return{batchId:u,changes:sh(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new pc(t)).next((function(e){var t=uh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=uh();return this.indexManager.getCollectionParents(e,i).next((function(o){return Cc.forEach(o,(function(o){var u=function(e,t){return new nf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Ll.newInvalidDocument(n)))}));var n=uh();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&zf(a.mutation,i,Xc.empty(),sc.now()),mf(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Cc.resolve(Ll.newInvalidDocument(t))}}]),e}(),Zp=function(){function e(t){bn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return wn(e,[{key:"getBundleMetadata",value:function(e,t){return Cc.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Oh(n.createTime)}),Cc.resolve()}},{key:"getNamedQuery",value:function(e,t){return Cc.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Kd(e.bundledQuery),readTime:Oh(e.readTime)}}(t)),Cc.resolve()}}]),e}(),Jp=function(){function e(){bn(this,e),this.overlays=new Gc(pc.comparator),this.es=new Map}return wn(e,[{key:"getOverlay",value:function(e,t){return Cc.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=ch();return Cc.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),Cc.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),Cc.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ch(),i=t.length+1,a=new pc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Cc.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Gc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=ch(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=ch(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Cc.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Rd(t,n));var a=this.es.get(t);void 0===a&&(a=ph(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),$p=function(){function e(){bn(this,e),this.ns=new Hc(ev.ss),this.rs=new Hc(ev.os)}return wn(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ev(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new ev(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new pc(new fc([])),r=new ev(n,e),i=new ev(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new pc(new fc([])),n=new ev(t,e),r=new ev(t,e+1),i=ph();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ev(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ev=function(){function e(t,n){bn(this,e),this.key=t,this._s=n}return wn(e,null,[{key:"ss",value:function(e,t){return pc.comparator(e.key,t.key)||ac(e._s,t._s)}},{key:"os",value:function(e,t){return ac(e._s,t._s)||pc.comparator(e.key,t.key)}}]),e}(),tv=function(){function e(t,n){bn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Hc(ev.ss)}return wn(e,[{key:"checkEmpty",value:function(e){return Cc.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ld(i,t,n,r);this.mutationQueue.push(a);var o,u=ze(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new ev(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Cc.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Cc.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return Cc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Cc.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Cc.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ev(t,0),i=new ev(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),Cc.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Hc(ac);return t.forEach((function(e){var t=new ev(e,0),i=new ev(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),Cc.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;pc.isDocumentKey(i)||(i=i.child(""));var a=new ev(new pc(i),0),o=new Hc(ac);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),Cc.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Gs(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return Cc.forEach(t.mutations,(function(i){var a=new ev(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ev(t,0),r=this.gs.firstAfterOrEqual(n);return Cc.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Cc.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),nv=function(){function e(t){bn(this,e),this.Es=t,this.docs=new Gc(pc.comparator),this.size=0}return wn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Cc.resolve(n?n.document.mutableCopy():Ll.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ah();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ll.newInvalidDocument(e))})),Cc.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ah(),i=new pc(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Sc(wc(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Cc.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){qs()}},{key:"As",value:function(e,t){return Cc.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new rv(this)}},{key:"getSize",value:function(e){return Cc.resolve(this.size)}}]),e}(),rv=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).Yn=e,r}return wn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),Cc.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(jp),iv=function(){function e(t){bn(this,e),this.persistence=t,this.Rs=new rh((function(e){return Fl(e)}),Ml),this.lastRemoteSnapshotVersion=cc.min(),this.highestTargetId=0,this.bs=0,this.Ps=new $p,this.targetCount=0,this.vs=Tp.Pn()}return wn(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),Cc.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Cc.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Cc.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),Cc.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),Cc.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Tp(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,Cc.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),Cc.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Cc.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Cc.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Cc.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return Cc.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),Cc.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Cc.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),Cc.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return Cc.resolve(n)}},{key:"containsKey",value:function(e,t){return Cc.resolve(this.Ps.containsKey(t))}}]),e}(),av=function(){function e(t,n){var r=this;bn(this,e),this.Vs={},this.overlays={},this.Ss=new jc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new iv(this),this.indexManager=new fp,this.remoteDocumentCache=new nv((function(e){return r.referenceDelegate.xs(e)})),this.It=new Md(n),this.Ns=new Zp(this.It)}return wn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Jp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new tv(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Vs("MemoryPersistence","Starting transaction:",e);var i=new ov(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Os(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ms",value:function(e,t){return Cc.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ov=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return wn(n)}(Ec),uv=function(){function e(t){bn(this,e),this.persistence=t,this.Fs=new $p,this.$s=null}return wn(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw qs()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),Cc.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),Cc.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),Cc.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Os",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cc.forEach(this.Ls,(function(r){var i=pc.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,cc.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return Cc.or([function(){return Cc.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ms(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),sv=function(){function e(t){bn(this,e),this.It=t}return wn(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new Tc("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sd,{unique:!0}),e.createObjectStore("documentMutations")}(e),cv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Cc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),cv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cc.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sd,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Cc.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Sd});t.createIndex("collectionPathOverlayIndex",Ad,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ed,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:hd});t.createIndex("documentKeyIndex",dd),t.createIndex("collectionGroupIndex",pd)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:bd}).createIndex("sequenceNumberIndex",kd,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:wd}).createIndex("documentKeyIndex",xd,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=Sp(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return Cc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return Cc.forEach(r,(function(r){Gs(r.userId===n.userId);var i=zd(t.It,r);return xp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new fc(n),o=function(e){return[0,id(e)]}(a);r.push(t.get(o).next((function(n){return n?Cc.resolve():function(n){return t.put({targetId:0,path:id(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Cc.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:gd});var n=t.store("collectionParents"),r=new hp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:id(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new fc(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],ud(r));return i(o.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=qd(r),a=Gd(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new pc(fc.fromString(i.document.name).popFirst(5)):i.noDocument?pc.fromSegments(i.noDocument.path):i.unknownDocument?pc.fromSegments(i.unknownDocument.path):qs()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Cc.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=zp(this.It),a=new av(uv.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:ph();zd(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Cc.forEach(r,(function(e,r){var o=new Rs(r),u=Jd.oe(n.It,o),s=a.getIndexManager(o),c=Ap.oe(o,n.It,s,a.referenceDelegate);return new Xp(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Dd(t,jc.at),e).next()}))}))}}]),e}();function cv(e){e.createObjectStore("targetDocuments",{keyPath:md}).createIndex("documentTargetsIndex",yd,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vd,{unique:!0}),e.createObjectStore("targetGlobal")}var lv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(bn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Hs(Qs.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bp(this,i),this.ii=n+"main",this.It=new Md(s),this.ri=new Nc(this.ii,this.Xs,new sv(this.It)),this.Cs=new Np(this.referenceDelegate,this.It),this.remoteDocumentCache=zp(this.It),this.Ns=new Yd,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&js("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return wn(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Hs(Qs.FAILED_PRECONDITION,lv);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new jc(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Me(Re().mark((function n(r){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Me(Re().mark((function t(n){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return dv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(Lc(t))return Vs("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Vs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return hv(e).get("owner").next((function(e){return Cc.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return dv(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Me(Re().mark((function e(){var t,n,r,i,a=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Od(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Cc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=ze(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?Cc.resolve(!0):hv(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Hs(Qs.FAILED_PRECONDITION,lv);return!1}}return!(!t.networkEnabled||!t.inForeground)||dv(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Vs("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Me(Re().mark((function e(){var t=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Dd(e,jc.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return dv(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return Ap.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new pp(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Jd.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Vs("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?Nd:14===i?Td:13===i?Cd:12===i?_d:11===i?Id:void qs();return this.ri.runTransaction(e,o,u,(function(i){return a=new Dd(i,r.Ss?r.Ss.next():jc.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw js("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Hs(Qs.FAILED_PRECONDITION,Ac);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return hv(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Hs(Qs.FAILED_PRECONDITION,lv)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return hv(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=hv(e);return n.get("owner").next((function(e){return t.mi(e)?(Vs("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Cc.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(js("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),Mn()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Vs("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return js("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(zi){js("Failed to set zombie client id.",zi)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(zi){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return Nc.C()}}]),e}();function hv(e){return Od(e,"owner")}function dv(e){return Od(e,"clientMetadata")}function pv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vv=function(){function e(t,n,r,i){bn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return wn(e,null,[{key:"Ci",value:function(t,n){var r,i=ph(),a=ph(),o=ze(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),mv=function(){function e(){bn(this,e),this.xi=!1}return wn(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Oi(e,t,r,n)})).next((function(n){return n||i.Mi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(of(t))return Cc.resolve(null);var r=ff(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=hf(t,null,"F"),r=ff(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=ph.apply(void 0,(0,qe.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,hf(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Oi",value:function(e,t,n,r){var i=this;return of(t)||r.isEqual(cc.min())?this.Mi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Mi(e,t):(Bs()<=or.DEBUG&&Vs("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vf(t)),i.Bi(e,o,t,kc(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Hc(gf(e));return t.forEach((function(t,r){mf(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mi",value:function(e,t){return Bs()<=or.DEBUG&&Vs("QueryEngine","Using full collection scan to execute query:",vf(t)),this.Ni.getDocumentsMatchingQuery(e,t,xc.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),yv=function(){function e(t,n,r,i){bn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Gc(ac),this.qi=new rh((function(e){return Fl(e)}),Ml),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return wn(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function gv(e,t,n,r){return new yv(e,t,n,r)}function bv(e,t){return kv.apply(this,arguments)}function kv(){return kv=Me(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=ph(),s=ze(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ze(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=ze(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ze(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function wv(e,t){var n=Ks(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Cc.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Gs(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=ph(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function xv(e){var t=Ks(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Sv(e,t){var n=Ks(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Zc.EMPTY_BYTE_STRING,cc.min()).withLastLimboFreeSnapshotVersion(cc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=ah(),s=ph();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Av(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(cc.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Cc.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Av(e,t,n){var r=ph(),i=ph();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ah();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(cc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Vs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Ev(e,t){var n=Ks(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Iv(e,t){var n=Ks(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,Cc.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new Fd(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function _v(e,t,n){return Cv.apply(this,arguments)}function Cv(){return Cv=Me(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ks(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Lc(e.t1)){e.next=12;break}throw e.t1;case 12:Vs("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Cv.apply(this,arguments)}function Tv(e,t,n){var r=Ks(e),i=cc.min(),a=ph();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ks(e),i=r.qi.get(n);return void 0!==i?Cc.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,ff(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:cc.min(),n?a:ph())})).next((function(e){return Ov(r,yf(t),e),{documents:e,Hi:a}}))}))}function Nv(e,t){var n=Ks(e),r=Ks(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function Dv(e,t){var n=Ks(e),r=n.Ki.get(t)||cc.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,kc(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Ov(n,t,e),e}))}function Ov(e,t,n){var r=e.Ki.get(t)||cc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function Lv(e,t,n,r){return Pv.apply(this,arguments)}function Pv(){return Pv=Me(Re().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ks(t),o=ph(),u=ah(),s=ze(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,Iv(a,function(e){return ff(af(fc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Av(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Rv(e,t){return Fv.apply(this,arguments)}function Fv(){return Fv=Me(Re().mark((function e(t,n){var r,i,a,o=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:ph(),e.next=3,Iv(t,ff(Kd(n.bundledQuery)));case 3:return i=e.sent,a=Ks(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Oh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Zc.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Mv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Bv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Vv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var jv=function(){function e(t,n,r,i){bn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return wn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Hs(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(js("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Uv=function(){function e(t,n,r){bn(this,e),this.targetId=t,this.state=n,this.error=r}return wn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Hs(i.error.code,i.error.message))),a?new e(t,i.state,r):(js("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),zv=function(){function e(t,n){bn(this,e),this.clientId=t,this.activeTargetIds=n}return wn(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=mh(),o=0;i&&o<r.activeTargetIds.length;++o)i=cl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(js("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),qv=function(){function e(t,n){bn(this,e),this.clientId=t,this.onlineState=n}return wn(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(js("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Gv=function(){function e(){bn(this,e),this.activeTargetIds=mh()}return wn(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Kv=function(){function e(t,n,r,i,a){bn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Gc(ac),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=Mv(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Gv),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return wn(e,[{key:"start",value:function(){var e=Me(Re().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=ze(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Mv(this.persistenceKey,i)))&&(o=zv.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=ze(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Vv(this.persistenceKey,e));if(n){var r=Uv.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Vv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Vs("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Vs("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Vs("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Vs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void js("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Me(Re().mark((function e(){var r,i,a,o,u,s,c;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=jc.at;if(null!=e)try{var n=JSON.parse(e);Gs("number"==typeof n),t=n}catch(e){js("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==jc.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Mr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new jv(this.currentUser,e,t,n),i=Bv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=Bv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=Vv(this.persistenceKey,e),i=new Uv(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return zv.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return jv.Zi(new Rs(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return Uv.Zi(r,t)}},{key:"yr",value:function(e){return qv.Zi(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Vs("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=mh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Qv=function(){function e(){bn(this,e),this.Lr=new Gv,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return wn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Gv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Hv=function(){function e(){bn(this,e)}return wn(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Wv=function(){function e(){var t=this;bn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return wn(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Vs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ze(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Vs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ze(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Yv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Xv=function(){function e(t){bn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return wn(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Zv=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return wn(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Ls;o.setWithCredentials(!0),o.listenOnce(Cs.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case _s.NO_ERROR:var t=o.getResponseJson();Vs("Connection","XHR received:",JSON.stringify(t)),i(t);break;case _s.TIMEOUT:Vs("Connection",'RPC "'+e+'" timed out'),a(new Hs(Qs.DEADLINE_EXCEEDED,"Request time out"));break;case _s.HTTP_ERROR:var n=o.getStatus();if(Vs("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Qs).indexOf(t)>=0?t:Qs.UNKNOWN}(r.status);a(new Hs(u,r.message))}else a(new Hs(Qs.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Hs(Qs.UNAVAILABLE,"Connection failed."));break;default:qs()}}finally{Vs("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Es(),a=Is(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ds({})),this.lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Vs("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Xv({Hr:function(e){l?Vs("Connection","Not sending because WebChannel is closed:",e):(c||(Vs("Connection","Opening WebChannel transport."),s.open(),c=!0),Vs("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Os.EventType.OPEN,(function(){l||Vs("Connection","WebChannel transport opened.")})),h(s,Os.EventType.CLOSE,(function(){l||(l=!0,Vs("Connection","WebChannel transport closed"),f.io())})),h(s,Os.EventType.ERROR,(function(e){l||(l=!0,Us("Connection","WebChannel transport errored:",e),f.io(new Hs(Qs.UNAVAILABLE,"The operation could not be completed")))})),h(s,Os.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Gs(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Vs("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Xf[e];if(void 0!==t)return nh(t)}(a),u=i.message;void 0===o&&(o=Qs.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Hs(o,u)),s.close()}else Vs("Connection","WebChannel received:",n),f.ro(n)}})),h(a,Ts.STAT_EVENT,(function(e){e.stat===Ns.PROXY?Vs("Connection","Detected buffering proxy"):e.stat===Ns.NOPROXY&&Vs("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){bn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return wn(e,[{key:"co",get:function(){return!1}},{key:"ao",value:function(e,t,n,r,i){var a=this.ho(e,t);Vs("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Vs("RestConnection","Received: ",e),e}),(function(t){throw Us("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i,a){return this.ao(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Yv[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Jv(){return"undefined"!=typeof window?window:null}function $v(){return"undefined"!=typeof document?document:null}function em(e){return new Ch(e,!0)}var tm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;bn(this,e),this.Hs=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return wn(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Vs("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),nm=function(){function e(t,n,r,i,a,o,u,s){bn(this,e),this.Hs=t,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new tm(t,n)}return wn(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Oo()}},{key:"Oo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Oo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Me(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Qs.RESOURCE_EXHAUSTED?(js(n.toString()),js("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Qs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.Do===n&&e.Qo(i,o)}),(function(n){t((function(){var t=new Hs(Qs.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.xo=n.Hs.enqueueAfterDelay(n.Vo,1e4,(function(){return n.Oo()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.No.Ro(Me(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Vs("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.Do===e?n():(Vs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),rm=function(e){An(n,e);var t=Cn(n);function n(e,r,i,a,o,u){var s;return bn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return wn(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qs()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Gs(void 0===t||"string"==typeof t),Zc.fromBase64String(t||"")):(Gs(void 0===t||t instanceof Uint8Array),Zc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Qs.UNKNOWN:nh(e.code);return new Hs(t,e.message||"")}(o);n=new wh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Fh(e,s.document.name),l=Oh(s.document.updateTime),f=new Dl({mapValue:{fields:s.document.fields}}),h=Ll.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new bh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Fh(e,v.document),y=v.readTime?Oh(v.readTime):cc.min(),g=Ll.newNoDocument(m,y),b=v.removedTargetIds||[];n=new bh([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Fh(e,k.document),x=k.removedTargetIds||[];n=new bh([],x,w,null)}else{if(!("filter"in t))return qs();t.filter;var S=t.filter;S.targetId;var A=S.count||0,E=new eh(A),I=S.targetId;n=new kh(I,E)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return cc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?cc.min():t.readTime?Oh(t.readTime):cc.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=Vh(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Bl(r)?{documents:Qh(e,r)}:{query:Hh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Nh(e,t.resumeToken):t.snapshotVersion.compareTo(cc.min())>0&&(n.readTime=Th(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qs()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=Vh(this.It),t.removeTarget=e,this.Lo(t)}}]),n}(nm),im=function(e){An(n,e);var t=Cn(n);function n(e,r,i,a,o,u){var s;return bn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Yo=!1,s}return wn(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,_i(En(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Gs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Gs(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Oh(e.updateTime):Oh(t);return n.isEqual(cc.min())&&(n=Oh(t)),new Ff(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Oh(e.commitTime);return this.listener.tu(n,t)}return Gs(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Vh(this.It),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Gh(t.It,e)}))};this.Lo(n)}}]),n}(nm),am=function(e){An(n,e);var t=Cn(n);function n(e,r,i,a){var o;return bn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.It=a,o.su=!1,o}return wn(n,[{key:"iu",value:function(){if(this.su)throw new Hs(Qs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ao",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.So.ao(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qs.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Hs(Qs.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n,r){var i=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.So._o(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Qs.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Hs(Qs.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return wn((function e(){bn(this,e)}))}());var om=function(){function e(t,n){bn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return wn(e,[{key:"cu",value:function(){var e=this;0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.au("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.au("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}},{key:"au",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(js(t),this.uu=!1):Vs("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),um=wn((function e(t,n,r,i,a){var o=this;bn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr((function(e){r.enqueueAndForget(Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=gm(o),!e.t0){e.next=5;break}return Vs("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Me(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ks(t)).wu.add(4),e.next=4,lm(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,sm(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new om(r,i)}));function sm(e){return cm.apply(this,arguments)}function cm(){return cm=Me(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!gm(t)){e.next=18;break}n=ze(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),cm.apply(this,arguments)}function lm(e){return fm.apply(this,arguments)}function fm(){return fm=Me(Re().mark((function e(t){var n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ze(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),fm.apply(this,arguments)}function hm(e,t){var n=Ks(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),ym(n)?mm(n):Hm(n).Oo()&&pm(n,t))}function dm(e,t){var n=Ks(e),r=Hm(n);n._u.delete(t),r.Oo()&&vm(n,t),0===n._u.size&&(r.Oo()?r.$o():gm(n)&&n.yu.set("Unknown"))}function pm(e,t){e.pu.Mt(t.targetId),Hm(e).Ho(t)}function vm(e,t){e.pu.Mt(t),Hm(e).Jo(t)}function mm(e){e.pu=new Sh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e._u.get(t)||null}}),Hm(e).start(),e.yu.cu()}function ym(e){return gm(e)&&!Hm(e).ko()&&e._u.size>0}function gm(e){return 0===Ks(e).wu.size}function bm(e){e.pu=void 0}function km(e){return wm.apply(this,arguments)}function wm(){return wm=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){pm(t,e)}));case 1:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=Me(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bm(t),ym(t)?(t.yu.lu(n),mm(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function Am(e,t,n){return Em.apply(this,arguments)}function Em(){return Em=Me(Re().mark((function e(t,n,r){var i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof wh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Me(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ze(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Vs("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Im(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof bh?t.pu.Gt(n):n instanceof kh?t.pu.Yt(n):t.pu.Wt(n),r.isEqual(cc.min())){e.next=29;break}return e.prev=14,e.next=17,xv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Zc.EMPTY_BYTE_STRING,n.snapshotVersion)),vm(e,t);var r=new Fd(n.target,t,1,n.sequenceNumber);pm(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Vs("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Im(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Em.apply(this,arguments)}function Im(e,t,n){return _m.apply(this,arguments)}function _m(){return _m=Me(Re().mark((function e(t,n,r){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lc(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,lm(t);case 5:t.yu.set("Offline"),r||(r=function(){return xv(t.localStore)}),t.asyncQueue.enqueueRetryable(Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vs("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,sm(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Cm(e,t){return t().catch((function(n){return Im(e,n,t)}))}function Tm(e){return Nm.apply(this,arguments)}function Nm(){return Nm=Me(Re().mark((function e(t){var n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ks(t),r=Wm(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!Dm(n)){e.next=19;break}return e.prev=3,e.next=6,Ev(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,Om(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Im(n,e.t0);case 17:e.next=2;break;case 19:Lm(n)&&Pm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Nm.apply(this,arguments)}function Dm(e){return gm(e)&&e.du.length<10}function Om(e,t){e.du.push(t);var n=Wm(e);n.Oo()&&n.Xo&&n.Zo(t.mutations)}function Lm(e){return gm(e)&&!Wm(e).ko()&&e.du.length>0}function Pm(e){Wm(e).start()}function Rm(e){return Fm.apply(this,arguments)}function Fm(){return Fm=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wm(t).nu();case 1:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Mm(e){return Bm.apply(this,arguments)}function Bm(){return Bm=Me(Re().mark((function e(t){var n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wm(t),r=ze(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Bm.apply(this,arguments)}function Vm(e,t,n){return jm.apply(this,arguments)}function jm(){return jm=Me(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=Pd.from(i,n,r),e.next=3,Cm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Tm(t);case 5:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}function Um(e,t){return zm.apply(this,arguments)}function zm(){return zm=Me(Re().mark((function e(t,n){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Wm(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Me(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!th(i=n.code)||i===Qs.ABORTED){e.next=7;break}return r=t.du.shift(),Wm(t).Fo(),e.next=5,Cm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Tm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Lm(t)&&Pm(t);case 5:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}function qm(e,t){return Gm.apply(this,arguments)}function Gm(){return Gm=Me(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ks(t)).asyncQueue.verifyOperationInProgress(),Vs("RemoteStore","RemoteStore received new credentials"),i=gm(r),r.wu.add(3),e.next=6,lm(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,sm(r);case 12:case"end":return e.stop()}}),e)}))),Gm.apply(this,arguments)}function Km(e,t){return Qm.apply(this,arguments)}function Qm(){return Qm=Me(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,sm(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,lm(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Qm.apply(this,arguments)}function Hm(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ks(e);return r.iu(),new rm(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:km.bind(null,e),Zr:xm.bind(null,e),zo:Am.bind(null,e)}),e.mu.push(function(){var t=Me(Re().mark((function t(n){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),ym(e)?mm(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:bm(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Wm(e){return e.Tu||(e.Tu=function(e,t,n){var r=Ks(e);return r.iu(),new im(t,r.So,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Rm.bind(null,e),Zr:Um.bind(null,e),eu:Mm.bind(null,e),tu:Vm.bind(null,e)}),e.mu.push(function(){var t=Me(Re().mark((function t(n){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,Tm(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Vs("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Ym=function(){function e(t,n,r,i,a){bn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return wn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hs(Qs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Xm(e,t){if(js("AsyncQueue","".concat(t,": ").concat(e)),Lc(e))return new Hs(Qs.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Zm=function(){function e(t){bn(this,e),this.comparator=t?function(e,n){return t(e,n)||pc.comparator(e.key,n.key)}:function(e,t){return pc.comparator(e.key,t.key)},this.keyedMap=uh(),this.sortedSet=new Gc(this.comparator)}return wn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Jm=function(){function e(){bn(this,e),this.Eu=new Gc(pc.comparator)}return wn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):qs():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),$m=function(){function e(t,n,r,i,a,o,u,s,c){bn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return wn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Zm.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),ey=wn((function e(){bn(this,e),this.Ru=void 0,this.listeners=[]})),ty=wn((function e(){bn(this,e),this.queries=new rh((function(e){return pf(e)}),df),this.onlineState="Unknown",this.bu=new Set}));function ny(e,t){return ry.apply(this,arguments)}function ry(){return ry=Me(Re().mark((function e(t,n){var r,i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ey),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Xm(e.t0,"Initialization of query '".concat(vf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.vu(o.Ru)&&sy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),ry.apply(this,arguments)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return ay=Me(Re().mark((function e(t,n){var r,i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ay.apply(this,arguments)}function oy(e,t){var n,r=Ks(e),i=!1,a=ze(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ze(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&sy(r)}function uy(e,t,n){var r=Ks(e),i=r.queries.get(t);if(i){var a,o=ze(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function sy(e){e.bu.forEach((function(e){e.next()}))}var cy=function(){function e(t,n,r){bn(this,e),this.query=t,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return wn(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ze(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new $m(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.Vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=$m.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}]),e}(),ly=function(){function e(t,n){bn(this,e),this.payload=t,this.byteLength=n}return wn(e,[{key:"Ou",value:function(){return"metadata"in this.payload}}]),e}(),fy=function(){function e(t){bn(this,e),this.It=t}return wn(e,[{key:"Ji",value:function(e){return Fh(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?zh(this.It,e.document,!1):Ll.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return Oh(e)}}]),e}(),hy=function(){function e(t,n,r){bn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dy(t)}return wn(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=fc.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new fy(this.It),i=ze(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=ze(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||ph()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Me(Re().mark((function e(){var t,n,r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lv(this.localStore,new fy(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.$u(this.documents),r=ze(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Rv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function dy(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var py=wn((function e(t){bn(this,e),this.key=t})),vy=wn((function e(t){bn(this,e),this.key=t})),my=function(){function e(t,n){bn(this,e),this.query=t,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ph(),this.mutatedKeys=ph(),this.Gu=gf(t),this.Qu=new Zm(this.Gu)}return wn(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Jm,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=mf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qs()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new $m(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Jm,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=ph(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new vy(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new py(e))})),n}},{key:"tc",value:function(e){this.Uu=e.Hi,this.Ku=ph();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ec",value:function(){return $m.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),yy=wn((function e(t,n,r){bn(this,e),this.query=t,this.targetId=n,this.view=r})),gy=wn((function e(t){bn(this,e),this.key=t,this.nc=!1})),by=function(){function e(t,n,r,i,a,o){bn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new rh((function(e){return pf(e)}),df),this.rc=new Map,this.oc=new Set,this.uc=new Gc(pc.comparator),this.cc=new Map,this.ac=new $p,this.hc={},this.lc=new Map,this.fc=Tp.vn(),this.onlineState="Unknown",this.dc=void 0}return wn(e,[{key:"isPrimaryClient",get:function(){return!0===this.dc}}]),e}();function ky(e,t){return wy.apply(this,arguments)}function wy(){return wy=Me(Re().mark((function e(t,n){var r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dg(t),!(o=r.ic.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ec(),e.next=15;break;case 6:return e.next=8,Iv(r.localStore,ff(n));case 8:return u=e.sent,r.isPrimaryClient&&hm(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,xy(r,n,i,"current"===s,u.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),wy.apply(this,arguments)}function xy(e,t,n,r,i){return Sy.apply(this,arguments)}function Sy(){return Sy=Me(Re().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._c=function(e,n,r){return function(){var e=Me(Re().mark((function e(t,n,r,i){var a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,Tv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(qy(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Tv(t.localStore,n,!0);case 3:return o=e.sent,u=new my(n,o.Hi),s=u.Wu(o.documents),c=gh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),qy(t,r,l.Xu),f=new yy(n,r,u),e.abrupt("return",(t.ic.set(n,f),t.rc.has(r)?t.rc.get(r).push(n):t.rc.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ay(e,t){return Ey.apply(this,arguments)}function Ey(){return Ey=Me(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ks(t),i=r.ic.get(n),!((a=r.rc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.rc.set(i.targetId,a.filter((function(e){return!df(e,n)}))),void r.ic.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,_v(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),dm(r.remoteStore,i.targetId),Uy(r,i.targetId)})).catch(Ic);case 9:e.next=14;break;case 11:return Uy(r,i.targetId),e.next=14,_v(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Ey.apply(this,arguments)}function Iy(e,t,n){return _y.apply(this,arguments)}function _y(){return _y=Me(Re().mark((function e(t,n,r){var i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=pg(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ks(e),a=sc.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ph());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=ah(),s=ph();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=ze(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=qf(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Qf(c.key,l,Ol(l.value.mapValue),Mf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:sh(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.hc[e.currentUser.toKey()];r||(r=new Gc(ac)),r=r.insert(t,n),e.hc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Qy(i,a.changes);case 9:return e.next=11,Tm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Xm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),_y.apply(this,arguments)}function Cy(e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=Me(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.prev=1,e.next=4,Sv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.cc.get(t);n&&(Gs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.nc=!0:e.modifiedDocuments.size>0?Gs(n.nc):e.removedDocuments.size>0&&(Gs(n.nc),n.nc=!1))})),e.next=8,Qy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ic(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Ty.apply(this,arguments)}function Ny(e,t,n){var r=Ks(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ic.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ks(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ze(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sy(n)}(r.eventManager,t),i.length&&r.sc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Dy(e,t,n){return Oy.apply(this,arguments)}function Oy(){return Oy=Me(Re().mark((function e(t,n,r){var i,a,o,u,s,c;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ks(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.cc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Gc(pc.comparator)).insert(o,Ll.newNoDocument(o,cc.min())),s=ph().add(o),c=new yh(cc.min(),new Map,new Hc(ac),u,s),e.next=9,Cy(i,c);case 9:i.uc=i.uc.remove(o),i.cc.delete(n),Ky(i),e.next=16;break;case 14:return e.next=16,_v(i.localStore,n,!1).then((function(){return Uy(i,n,r)})).catch(Ic);case 16:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Ly(e,t){return Py.apply(this,arguments)}function Py(){return Py=Me(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),i=n.batch.batchId,e.prev=1,e.next=4,wv(r.localStore,n);case 4:return a=e.sent,jy(r,i,null),Vy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Qy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ic(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Py.apply(this,arguments)}function Ry(e,t,n){return Fy.apply(this,arguments)}function Fy(){return Fy=Me(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ks(t),e.prev=1,e.next=4,function(e,t){var n=Ks(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Gs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,jy(i,n,r),Vy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Qy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ic(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Fy.apply(this,arguments)}function My(e,t){return By.apply(this,arguments)}function By(){return By=Me(Re().mark((function e(t,n){var r,i,a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gm((r=Ks(t)).remoteStore)||Vs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ks(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.lc.get(i)||[]).push(n),r.lc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Xm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),By.apply(this,arguments)}function Vy(e,t){(e.lc.get(t)||[]).forEach((function(e){e.resolve()})),e.lc.delete(t)}function jy(e,t,n){var r=Ks(e),i=r.hc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.hc[r.currentUser.toKey()]=i}}function Uy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ze(e.rc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ic.delete(a),n&&e.sc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.rc.delete(t),e.isPrimaryClient&&e.ac.ls(t).forEach((function(t){e.ac.containsKey(t)||zy(e,t)}))}function zy(e,t){e.oc.delete(t.path.canonicalString());var n=e.uc.get(t);null!==n&&(dm(e.remoteStore,n),e.uc=e.uc.remove(t),e.cc.delete(n),Ky(e))}function qy(e,t,n){var r,i=ze(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof py?(e.ac.addReference(a.key,t),Gy(e,a)):a instanceof vy?(Vs("SyncEngine","Document no longer in limbo: "+a.key),e.ac.removeReference(a.key,t),e.ac.containsKey(a.key)||zy(e,a.key)):qs()}}catch(o){i.e(o)}finally{i.f()}}function Gy(e,t){var n=t.key,r=n.path.canonicalString();e.uc.get(n)||e.oc.has(r)||(Vs("SyncEngine","New document in limbo: "+n),e.oc.add(r),Ky(e))}function Ky(e){for(;e.oc.size>0&&e.uc.size<e.maxConcurrentLimboResolutions;){var t=e.oc.values().next().value;e.oc.delete(t);var n=new pc(fc.fromString(t)),r=e.fc.next();e.cc.set(r,new gy(n)),e.uc=e.uc.insert(n,r),hm(e.remoteStore,new Fd(ff(af(n.path)),r,2,jc.at))}}function Qy(e,t,n){return Hy.apply(this,arguments)}function Hy(){return Hy=Me(Re().mark((function e(t,n,r){var i,a,o,u;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ks(t),a=[],o=[],u=[],e.t0=i.ic.isEmpty(),e.t0){e.next=9;break}return i.ic.forEach((function(e,t){u.push(i._c(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=vv.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sc.zo(a),e.next=9,function(){var e=Me(Re().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Cc.forEach(n,(function(t){return Cc.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Cc.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Lc(e.t0)){e.next=10;break}throw e.t0;case 10:Vs("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ze(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Wy(e,t){return Yy.apply(this,arguments)}function Yy(){return Yy=Me(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ks(t)).currentUser.isEqual(n)){e.next=11;break}return Vs("SyncEngine","User change. New user:",n.toKey()),e.next=5,bv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.lc.forEach((function(e){e.forEach((function(e){e.reject(new Hs(Qs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.lc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Qy(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Xy(e,t){var n=Ks(e),r=n.cc.get(t);if(r&&r.nc)return ph().add(r.key);var i=ph(),a=n.rc.get(t);if(!a)return i;var o,u=ze(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ic.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Zy(e,t){return Jy.apply(this,arguments)}function Jy(){return Jy=Me(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.next=3,Tv(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.tc(i),e.abrupt("return",(r.isPrimaryClient&&qy(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function $y(e,t){return eg.apply(this,arguments)}function eg(){return eg=Me(Re().mark((function e(t,n){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),e.abrupt("return",Dv(r.localStore,n).then((function(e){return Qy(r,e)})));case 2:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e,t,n,r){return ng.apply(this,arguments)}function ng(){return ng=Me(Re().mark((function e(t,n,r,i){var a,o;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ks(t),e.next=3,function(e,t){var n=Ks(e),r=Ks(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Cc.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Tm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(jy(a,n,i||null),Vy(a,n),function(e,t){Ks(Ks(e).mutationQueue).An(t)}(a.localStore,n)):qs();case 11:return e.next=13,Qy(a,o);case 13:e.next=16;break;case 15:Vs("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e,t){return ig.apply(this,arguments)}function ig(){return ig=Me(Re().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dg(r=Ks(t)),pg(r),!0!==n||!0===r.dc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ag(r,i.toArray());case 5:return a=e.sent,r.dc=!0,e.next=9,Km(r.remoteStore,!0);case 9:o=ze(a);try{for(o.s();!(u=o.n()).done;)s=u.value,hm(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.dc){e.next=25;break}return c=[],l=Promise.resolve(),r.rc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Uy(r,t),_v(r.localStore,t,!0)})),dm(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,ag(r,c);case 21:return function(e){var t=Ks(e);t.cc.forEach((function(e,n){dm(t.remoteStore,n)})),t.ac.fs(),t.cc=new Map,t.uc=new Gc(pc.comparator)}(r),r.dc=!1,e.next=25,Km(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function ag(e,t,n){return og.apply(this,arguments)}function og(){return og=Me(Re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ks(t),a=[],o=[],u=ze(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.rc.get(c))||0===f.length){e.next=34;break}return e.next=11,Iv(i.localStore,ff(f[0]));case 11:l=e.sent,h=ze(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ic.get(p),e.next=20,Zy(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Nv(i.localStore,c);case 36:return y=e.sent,e.next=39,Iv(i.localStore,y);case 39:return l=e.sent,e.next=42,xy(i,ug(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sc.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),og.apply(this,arguments)}function ug(e){return rf(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function sg(e){var t=Ks(e);return Ks(Ks(t.localStore).persistence).vi()}function cg(e,t,n,r){return lg.apply(this,arguments)}function lg(){return lg=Me(Re().mark((function e(t,n,r,i){var a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ks(t)).dc){e.next=3;break}return e.abrupt("return",void Vs("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.rc.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Dv(a.localStore,yf(o[0]));case 10:return u=e.sent,s=yh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Zc.EMPTY_BYTE_STRING),e.next=14,Qy(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,_v(a.localStore,n,!0);case 17:return Uy(a,n,i),e.abrupt("break",20);case 19:qs();case 20:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t,n){return hg.apply(this,arguments)}function hg(){return hg=Me(Re().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=dg(t)).dc){e.next=45;break}a=ze(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.rc.has(u)){e.next=10;break}return Vs("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Nv(i.localStore,u);case 12:return s=e.sent,e.next=15,Iv(i.localStore,s);case 15:return c=e.sent,e.next=18,xy(i,ug(s),c.targetId,!1,c.resumeToken);case 18:hm(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ze(r),e.prev=30,h=Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.rc.has(t),!e.t0){e.next=5;break}return e.next=5,_v(i.localStore,t,!1).then((function(){dm(i.remoteStore,t),Uy(i,t)})).catch(Ic);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),hg.apply(this,arguments)}function dg(e){var t=Ks(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dy.bind(null,t),t.sc.zo=oy.bind(null,t.eventManager),t.sc.wc=uy.bind(null,t.eventManager),t}function pg(e){var t=Ks(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ly.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ry.bind(null,t),t}function vg(e,t,n){var r=Ks(e);(function(){var e=Me(Re().mark((function e(t,n,r){var i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ks(e),r=Oh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(dy(i)),a=new hy(i,t.localStore,n.It),e.next=15,n.mc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.mc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Qy(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Ks(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Us("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var mg=function(){function e(){bn(this,e),this.synchronizeTabs=!1}return wn(e,[{key:"initialize",value:function(){var e=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=em(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Tc",value:function(e,t){return null}},{key:"Ec",value:function(e,t){return null}},{key:"Ic",value:function(e){return gv(this.persistence,new mv,e.initialUser,this.It)}},{key:"yc",value:function(e){return new av(uv.Bs,this.It)}},{key:"gc",value:function(e){return new Qv}},{key:"terminate",value:function(){var e=Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),yg=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).Ac=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return wn(n,[{key:"initialize",value:function(){var e=Me(Re().mark((function e(t){var r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i(En(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ac.initialize(this,t);case 4:return e.next=6,pg(this.Ac.syncEngine);case 6:return e.next=8,Tm(this.Ac.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e){return gv(this.persistence,new mv,e.initialUser,this.It)}},{key:"Tc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Fp(n,e.asyncQueue,t)}},{key:"Ec",value:function(e,t){var n=new Vc(t,this.persistence);return new Bc(e.asyncQueue,n)}},{key:"yc",value:function(e){var t=pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?wp.withCacheSize(this.cacheSizeBytes):wp.DEFAULT;return new fv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Jv(),$v(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"gc",value:function(e){return new Qv}}]),n}(mg),gg=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r,!1)).Ac=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return wn(n,[{key:"initialize",value:function(){var e=Me(Re().mark((function e(t){var r,i=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i(En(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ac.syncEngine,e.t0=this.sharedClientState instanceof Kv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:tg.bind(null,r),$r:cg.bind(null,r),Br:fg.bind(null,r),vi:sg.bind(null,r),Mr:$y.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rg(i.Ac.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gc",value:function(e){var t=Jv();if(!Kv.C(t))throw new Hs(Qs.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(yg),bg=function(){function e(){bn(this,e)}return wn(e,[{key:"initialize",value:function(){var e=Me(Re().mark((function e(t,n){var r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Ny(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Wy.bind(null,this.syncEngine),e.next=12,Km(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new ty}},{key:"createDatastore",value:function(e){var t,n=em(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Zv(t));return function(e,t,n,r){return new am(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Ny(o.syncEngine,e,0)},a=Wv.C()?new Wv:new Hv,new um(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new by(e,t,n,r,i,a);return o&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Me(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ks(t),Vs("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,lm(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function kg(e,t,n){if(!n)throw new Hs(Qs.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wg(e,t,n,r){if(!0===t&&!0===r)throw new Hs(Qs.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function xg(e){if(!pc.isDocumentKey(e))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sg(e){if(pc.isDocumentKey(e))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ag(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":qs()}function Eg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hs(Qs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ag(e);throw new Hs(Qs.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ig(e,t){if(t<=0)throw new Hs(Qs.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var _g=new Map,Cg=function(){function e(t){var n;if(bn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Hs(Qs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Hs(Qs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,wg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return wn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Tg=function(){function e(t,n,r,i){bn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1}return wn(e,[{key:"app",get:function(){if(!this._app)throw new Hs(Qs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Hs(Qs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xs;switch(e.type){case"gapi":var t=e.client;return new ec(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Hs(Qs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_g.get(e);t&&(Vs("ComponentProvider","Removing Datastore"),_g.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ng(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Eg(e,Tg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Us("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Rs.MOCK_USER;else{o=Gn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Hs(Qs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rs(s)}e._authCredentials=new Zs(new Ys(o,u))}}var Dg=function(){function e(t,n,r){bn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return wn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Lg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Og=function(){function e(t,n,r){bn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return wn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Lg=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this,e,r,af(i)))._path=i,a.type="collection",a}return wn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dg(this.firestore,null,new pc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Og);function Pg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tr(e),kg("collection","path",t),e instanceof Tg){var a=fc.fromString.apply(fc,[t].concat(r));return Sg(a),new Lg(e,null,a)}if(!(e instanceof Dg||e instanceof Lg))throw new Hs(Qs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fc.fromString.apply(fc,[t].concat(r)));return Sg(o),new Lg(e.firestore,null,o)}function Rg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tr(e),1===arguments.length&&(t=ic.R()),kg("doc","path",t),e instanceof Tg){var a=fc.fromString.apply(fc,[t].concat(r));return xg(a),new Dg(e,null,new pc(a))}if(!(e instanceof Dg||e instanceof Lg))throw new Hs(Qs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(fc.fromString.apply(fc,[t].concat(r)));return xg(o),new Dg(e.firestore,e instanceof Lg?e.converter:null,new pc(o))}function Fg(e,t){return e=tr(e),t=tr(t),(e instanceof Dg||e instanceof Lg)&&(t instanceof Dg||t instanceof Lg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Mg(e,t){return e=tr(e),t=tr(t),e instanceof Og&&t instanceof Og&&e.firestore===t.firestore&&df(e._query,t._query)&&e.converter===t.converter}function Bg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Me(Re().mark((function r(){var i;return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Vg=function(){function e(t){bn(this,e),this.observer=t,this.muted=!1}return wn(e,[{key:"next",value:function(e){this.observer.next&&this.Rc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Rc(this.observer.error,e):js("Uncaught Error in snapshot listener:",e)}},{key:"bc",value:function(){this.muted=!0}},{key:"Rc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),jg=function(){function e(t,n){var r=this;bn(this,e),this.Pc=t,this.It=n,this.metadata=new Ws,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then((function(e){e&&e.Ou()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return wn(e,[{key:"close",value:function(){return this.Pc.cancel()}},{key:"getMetadata",value:function(){var e=Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"mc",value:function(){var e=Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){var e=Me(Re().mark((function e(){var t,n,r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Sc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.vc.decode(t),r=Number(n),isNaN(r)&&this.Dc("length string (".concat(n,") is not valid number")),e.next=9,this.Cc(r);case 9:return i=e.sent,e.abrupt("return",new ly(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Sc",value:function(){var e=Me(Re().mark((function e(){var t,n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.xc()<0)){e.next=7;break}return e.next=3,this.Nc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.xc())<0&&this.Dc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){var e=Me(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Nc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Dc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.vc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){throw this.Pc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Nc",value:function(){var e=Me(Re().mark((function e(){var t,n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Pc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ug=function(){function e(t){bn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return wn(e,[{key:"lookup",value:function(){var e=Me(Re().mark((function e(t){var n,r=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Hs(Qs.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Me(Re().mark((function e(t,n){var r,i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),i=Vh(r.It)+"/documents",a={documents:n.map((function(e){return Rh(r.It,e)}))},e.next=5,r._o("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=qh(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Gs(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Jf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Me(Re().mark((function e(){var t,n=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=pc.fromPath(t);n.mutations.push(new $f(r,n.precondition(r)))})),e.next=7,function(){var e=Me(Re().mark((function e(t,n){var r,i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ks(t),i=Vh(r.It)+"/documents",a={writes:n.map((function(e){return Gh(r.It,e)}))},e.next=3,r.ao("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qs();t=cc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hs(Qs.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(cc.min())?Mf.exists(!1):Mf.updateTime(t):Mf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(cc.min()))throw new Hs(Qs.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mf.updateTime(t)}return Mf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),zg=function(){function e(t,n,r,i,a){bn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new tm(this.asyncQueue,"transaction_retry")}return wn(e,[{key:"run",value:function(){this.kc-=1,this.Oc()}},{key:"Oc",value:function(){var e=this;this.No.Ro(Me(Re().mark((function t(){var n,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Ug(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Fc(t)}))}))})).catch((function(t){e.Fc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!ul(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Fc",value:function(e){var t=this;this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Oc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"$c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!th(t)}return!1}}]),e}(),qg=function(){function e(t,n,r,i){var a=this;bn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rs.UNAUTHENTICATED,this.clientId=ic.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vs("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Vs("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return wn(e,[{key:"getConfiguration",value:function(){var e=Me(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Hs(Qs.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Me(Re().mark((function n(){var r;return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Xm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Gg(e,t){return Kg.apply(this,arguments)}function Kg(){return Kg=Me(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Vs("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,bv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Qg(e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=Me(Re().mark((function e(t,n){var r,i;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Wg(t);case 3:return r=e.sent,Vs("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return qm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return qm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}function Wg(e){return Yg.apply(this,arguments)}function Yg(){return Yg=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Vs("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Gg(t,new mg);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Xg(e){return Zg.apply(this,arguments)}function Zg(){return Zg=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Vs("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Qg(t,new bg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function Jg(e){return Wg(e).then((function(e){return e.persistence}))}function $g(e){return Wg(e).then((function(e){return e.localStore}))}function eb(e){return Xg(e).then((function(e){return e.remoteStore}))}function tb(e){return Xg(e).then((function(e){return e.syncEngine}))}function nb(e){return Xg(e).then((function(e){return e.datastore}))}function rb(e){return ib.apply(this,arguments)}function ib(){return ib=Me(Re().mark((function e(t){var n,r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ky.bind(null,n.syncEngine),r.onUnlisten=Ay.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}function ab(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ws;return e.asyncQueue.enqueueAndForget(Me(Re().mark((function i(){return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vg({next:function(a){t.enqueueAndForget((function(){return iy(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Hs(Qs.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Hs(Qs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new cy(af(n.path),a,{includeMetadataChanges:!0,ku:!0});return ny(e,o)},i.next=3,rb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function ob(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ws;return e.asyncQueue.enqueueAndForget(Me(Re().mark((function i(){return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Vg({next:function(n){t.enqueueAndForget((function(){return iy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Hs(Qs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new cy(n,a,{includeMetadataChanges:!0,ku:!0});return ny(e,o)},i.next=3,rb(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ub=function(){function e(){var t=this;bn(this,e),this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new tm(this,"async_queue_retry"),this.Wc=function(){var e=$v();e&&Vs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=$v();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Wc)}return wn(e,[{key:"isShuttingDown",get:function(){return this.Uc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.zc(),this.Hc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;var t=$v();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}},{key:"enqueue",value:function(e){var t=this;if(this.zc(),this.Uc)return new Promise((function(){}));var n=new Ws;return this.Hc((function(){return t.Uc&&t.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Lc.push(e),t.Jc()}))}},{key:"Jc",value:function(){var e=Me(Re().mark((function e(){var t=this;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Lc.length){e.next=14;break}return e.prev=1,e.next=4,this.Lc[0]();case 4:this.Lc.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Lc(e.t0)){e.next=12;break}throw e.t0;case 12:Vs("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Lc.length>0&&this.No.Ro((function(){return t.Jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t=this,n=this.Bc.then((function(){return t.Gc=!0,e().catch((function(e){t.Kc=e,t.Gc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw js("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Gc=!1,e}))}));return this.Bc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.zc(),this.jc.indexOf(e)>-1&&(t=0);var i=Ym.createAndSchedule(this,e,t,n,(function(e){return r.Yc(e)}));return this.qc.push(i),i}},{key:"zc",value:function(){this.Kc&&qs()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Xc",value:function(){var e=Me(Re().mark((function e(){var t;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Bc,e.next=3,t;case 3:if(t!==this.Bc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t,n=ze(this.qc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ta",value:function(e){var t=this;return this.Xc().then((function(){t.qc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ze(t.qc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Xc()}))}},{key:"ea",value:function(e){this.jc.push(e)}},{key:"Yc",value:function(e){var t=this.qc.indexOf(e);this.qc.splice(t,1)}}]),e}();function sb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ze(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var cb=function(){function e(){bn(this,e),this._progressObserver={},this._taskCompletionResolver=new Ws,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return wn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),lb=function(e){An(n,e);var t=Cn(n);function n(e,r,i,a){var o;return bn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new ub,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return wn(n,[{key:"_terminate",value:function(){return this._firestoreClient||hb(this),this._firestoreClient.terminate()}}]),n}(Tg);function fb(e){return e._firestoreClient||hb(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hb(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new al(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new qg(e._authCredentials,e._appCheckCredentials,e._queue,r)}function db(e,t,n){var r=new Ws;return e.asyncQueue.enqueue(Me(Re().mark((function i(){var a;return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Gg(e,n);case 3:return i.next=5,Qg(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Qs.FAILED_PRECONDITION||e.code===Qs.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Us("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function pb(e){return function(e){return e.asyncQueue.enqueue(Me(Re().mark((function t(){var n,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jg(e);case 2:return n=t.sent,t.next=5,eb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ks(e);return t.wu.delete(0),sm(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(fb(e=Eg(e,lb)))}function vb(e){return function(e){return e.asyncQueue.enqueue(Me(Re().mark((function t(){var n,r;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jg(e);case 2:return n=t.sent,t.next=5,eb(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Me(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ks(t)).wu.add(0),e.next=4,lm(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(fb(e=Eg(e,lb)))}function mb(e,t){var n=fb(e=Eg(e,lb)),r=new cb;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new jg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Bg(e,t);if(e instanceof ArrayBuffer)return Bg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,em(t));e.asyncQueue.enqueueAndForget(Me(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=vg,t.next=3,tb(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function yb(e,t){return function(e,t){return e.asyncQueue.enqueue(Me(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ks(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,$g(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(fb(e=Eg(e,lb)),t).then((function(t){return t?new Og(e,null,t.query):null}))}function gb(e){if(e._initialized||e._terminated)throw new Hs(Qs.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var bb=function(){function e(t){bn(this,e),this._byteString=t}return wn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Zc.fromBase64String(t))}catch(t){throw new Hs(Qs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Zc.fromUint8Array(t))}}]),e}(),kb=function(){function e(){bn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dc(n)}return wn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var wb=wn((function e(t){bn(this,e),this._methodName=t})),xb=function(){function e(t,n){if(bn(this,e),!isFinite(t)||t<-90||t>90)throw new Hs(Qs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Hs(Qs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return wn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ac(this._lat,e._lat)||ac(this._long,e._long)}}]),e}(),Sb=/^__.*__$/,Ab=function(){function e(t,n,r){bn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return wn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Qf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kf(e,this.data,t,this.fieldTransforms)}}]),e}(),Eb=function(){function e(t,n,r){bn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return wn(e,[{key:"toMutation",value:function(e,t){return new Qf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Ib(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qs()}}var _b=function(){function e(t,n,r,i,a,o){bn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return wn(e,[{key:"path",get:function(){return this.settings.path}},{key:"sa",get:function(){return this.settings.sa}},{key:"ia",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ra",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.ua(e),r}},{key:"ca",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:n,oa:!1});return r.na(),r}},{key:"aa",value:function(e){return this.ia({path:void 0,oa:!0})}},{key:"ha",value:function(e){return Hb(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"na",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ua(this.path.get(e))}},{key:"ua",value:function(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Ib(this.sa)&&Sb.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}]),e}(),Cb=function(){function e(t,n,r){bn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||em(t)}return wn(e,[{key:"da",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _b({sa:e,methodName:t,fa:n,path:dc.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function Tb(e){var t=e._freezeSettings(),n=em(e._databaseId);return new Cb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Nb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.da(a.merge||a.mergeFields?2:0,t,n,i);qb("Data must be an object, but it was:",o,r);var u,s,c=Ub(r,o);if(a.merge)u=new Xc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ze(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Gb(t,d,n);if(!o.contains(p))throw new Hs(Qs.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Wb(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Xc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Ab(new Dl(c),u,s)}var Db=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.sa)throw 1===e.sa?e.ha("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ha("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(wb);function Ob(e,t,n){return new _b({sa:3,fa:t.settings.fa,methodName:e._methodName,oa:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var Lb=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n,[{key:"_toFieldTransform",value:function(e){return new Rf(e.path,new _f)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(wb),Pb=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e))._a=r,i}return wn(n,[{key:"_toFieldTransform",value:function(e){var t=Ob(this,e,!0),n=this._a.map((function(e){return jb(e,t)})),r=new Cf(n);return new Rf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(wb),Rb=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e))._a=r,i}return wn(n,[{key:"_toFieldTransform",value:function(e){var t=Ob(this,e,!0),n=this._a.map((function(e){return jb(e,t)})),r=new Nf(n);return new Rf(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(wb),Fb=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e)).wa=r,i}return wn(n,[{key:"_toFieldTransform",value:function(e){var t=new Of(e.It,xf(e.It,this.wa));return new Rf(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(wb);function Mb(e,t,n,r){var i=e.da(1,t,n);qb("Data must be an object, but it was:",i,r);var a=[],o=Dl.empty();zc(r,(function(e,r){var u=Qb(t,e,n);r=tr(r);var s=i.ca(u);if(r instanceof Db)a.push(u);else{var c=jb(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Xc(a);return new Eb(o,u,i.fieldTransforms)}function Bb(e,t,n,r,i,a){var o=e.da(1,t,n),u=[Gb(t,r,n)],s=[i];if(a.length%2!=0)throw new Hs(Qs.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(Gb(t,a[c])),s.push(a[c+1]);for(var l=[],f=Dl.empty(),h=u.length-1;h>=0;--h)if(!Wb(l,u[h])){var d=u[h],p=s[h];p=tr(p);var v=o.ca(d);if(p instanceof Db)l.push(d);else{var m=jb(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Xc(l);return new Eb(f,y,o.fieldTransforms)}function Vb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jb(n,e.da(r?4:3,t))}function jb(e,t){if(zb(e=tr(e)))return qb("Unsupported field value:",t,e),Ub(e,t);if(e instanceof wb)return function(e,t){if(!Ib(t.sa))throw t.ha("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ha("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ze(e);try{for(a.s();!(n=a.n()).done;){var o=jb(n.value,t.aa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=tr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xf(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=sc.fromDate(e);return{timestampValue:Th(t.It,n)}}if(e instanceof sc){var r=new sc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Th(t.It,r)}}if(e instanceof xb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bb)return{bytesValue:Nh(t.It,e._byteString)};if(e instanceof Dg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ha("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Lh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ha("Unsupported field value: ".concat(Ag(e)))}(e,t)}function Ub(e,t){var n={};return qc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zc(e,(function(e,r){var i=jb(r,t.ra(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function zb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sc||e instanceof xb||e instanceof bb||e instanceof Dg||e instanceof wb)}function qb(e,t,n){if(!zb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ag(n);throw"an object"===r?t.ha(e+" a custom object"):t.ha(e+" "+r)}}function Gb(e,t,n){if((t=tr(t))instanceof kb)return t._internalPath;if("string"==typeof t)return Qb(e,t);throw Hb("Field path arguments must be of type string or ",e,!1,void 0,n)}var Kb=new RegExp("[~\\*/\\[\\]]");function Qb(e,t,n){if(t.search(Kb)>=0)throw Hb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Tn(kb,(0,qe.Z)(t.split(".")))._internalPath}catch(r){throw Hb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Hb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Hs(Qs.INVALID_ARGUMENT,u+e+s)}function Wb(e,t){return e.some((function(e){return e.isEqual(t)}))}var Yb=function(){function e(t,n,r,i,a){bn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return wn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Dg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Zb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Xb=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n,[{key:"data",value:function(){return _i(En(n.prototype),"data",this).call(this)}}]),n}(Yb);function Zb(e,t){return"string"==typeof t?Qb(e,t):t instanceof kb?t._internalPath:t._delegate._internalPath}function Jb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Hs(Qs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $b=wn((function e(){bn(this,e)}));function ek(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var tk=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).ma=e,a.ga=r,a.ya=i,a.type="where",a}return wn(n,[{key:"_apply",value:function(e){var t=Tb(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){hk(o,a);var s,c=[],l=ze(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(fk(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=fk(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||hk(o,a),u=Vb(n,"where",o,"in"===a||"not-in"===a);var h=zl.create(i,a,u);return function(e,t){if(t.dt()){var n=sf(e);if(null!==n&&!n.isEqual(t.field))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=uf(e);null!==r&&dk(e,t.field,r)}var i=function(e,t){var n,r=ze(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Hs(Qs.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Hs(Qs.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Og(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new nf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}($b);var nk=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this)).ma=e,i.pa=r,i.type="orderBy",i}return wn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Jl(t,n);return function(e,t){if(null===uf(e)){var n=sf(e);null!==n&&dk(e,n,t.field)}}(e,r),r}(e._query,this.ma,this.pa);return new Og(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new nf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}($b);var rk=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).type=e,a.Ia=r,a.Ta=i,a}return wn(n,[{key:"_apply",value:function(e){return new Og(e.firestore,e.converter,hf(e._query,this.Ia,this.Ta))}}]),n}($b);var ik=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return wn(n,[{key:"_apply",value:function(e){var t=lk(e,this.type,this.Ea,this.Aa);return new Og(e.firestore,e.converter,function(e,t){return new nf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}($b);function ak(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ik("startAt",t,!0)}function ok(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ik("startAfter",t,!1)}var uk=function(e){An(n,e);var t=Cn(n);function n(e,r,i){var a;return bn(this,n),(a=t.call(this)).type=e,a.Ea=r,a.Aa=i,a}return wn(n,[{key:"_apply",value:function(e){var t=lk(e,this.type,this.Ea,this.Aa);return new Og(e.firestore,e.converter,function(e,t){return new nf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}($b);function sk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uk("endBefore",t,!1)}function ck(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new uk("endAt",t,!0)}function lk(e,t,n,r){if(n[0]=tr(n[0]),n[0]instanceof Yb)return function(e,t,n,r,i){if(!r)throw new Hs(Qs.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ze(lf(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(bl(t,r.key));else{var c=r.data.field(s.field);if(nl(c))throw new Hs(Qs.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Zl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Tb(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Hs(Qs.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!cf(e)&&-1!==c.indexOf("/"))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(fc.fromString(c));if(!pc.isDocumentKey(l))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new pc(l);u.push(bl(t,f))}else{var h=Vb(n,r,c);u.push(h)}}return new Zl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function fk(e,t,n){if("string"==typeof(n=tr(n))){if(""===n)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cf(t)&&-1!==n.indexOf("/"))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(fc.fromString(n));if(!pc.isDocumentKey(r))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return bl(e,new pc(r))}if(n instanceof Dg)return bl(e,n._key);throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ag(n),"."))}function hk(e,t){if(!Array.isArray(e)||0===e.length)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function dk(e,t,n){if(!n.isEqual(t))throw new Hs(Qs.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var pk=function(){function e(){bn(this,e)}return wn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return el(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qs()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new xb(el(e.latitude),el(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=rl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(il(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=$c(e);return new sc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=fc.fromString(e);Gs(rd(n));var r=new ol(n.get(1),n.get(3)),i=new pc(n.popFirst(5));return r.isEqual(t)||js("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function vk(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var mk=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).firestore=e,r}return wn(n,[{key:"convertBytes",value:function(e){return new bb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dg(this.firestore,null,t)}}]),n}(pk),yk=function(){function e(t,n){bn(this,e),this.hasPendingWrites=t,this.fromCache=n}return wn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),gk=function(e){An(n,e);var t=Cn(n);function n(e,r,i,a,o,u){var s;return bn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return wn(n,[{key:"exists",value:function(){return _i(En(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Zb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Yb),bk=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _i(En(n.prototype),"data",this).call(this,e)}}]),n}(gk),kk=function(){function e(t,n,r,i){bn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new yk(i.hasPendingWrites,i.fromCache),this.query=r}return wn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bk(n._firestore,n._userDataWriter,r.key,r,new yk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hs(Qs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new bk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:wk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function wk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qs()}}function xk(e,t){return e instanceof gk&&t instanceof gk?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof kk&&t instanceof kk&&e._firestore===t._firestore&&Mg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var Sk=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).firestore=e,r}return wn(n,[{key:"convertBytes",value:function(e){return new bb(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dg(this.firestore,null,t)}}]),n}(pk);function Ak(e){e=Eg(e,Dg);var t=Eg(e.firestore,lb),n=fb(t),r=new Sk(t);return function(e,t){var n=new Ws;return e.asyncQueue.enqueueAndForget(Me(Re().mark((function r(){return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Me(Re().mark((function e(t,n,r){var i,a;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ks(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Hs(Qs.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Xm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$g(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new gk(t,r,e._key,n,new yk(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Ek(e){e=Eg(e,Og);var t=Eg(e.firestore,lb),n=fb(t),r=new Sk(t);return function(e,t){var n=new Ws;return e.asyncQueue.enqueueAndForget(Me(Re().mark((function r(){return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Me(Re().mark((function e(t,n,r){var i,a,o,u,s;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Tv(t,n,!0);case 3:i=e.sent,a=new my(n,i.Hi),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Xm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$g(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new kk(t,r,e,n)}))}function Ik(e,t,n){e=Eg(e,Dg);var r=Eg(e.firestore,lb),i=vk(e.converter,t,n);return Dk(r,[Nb(Tb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mf.none())])}function _k(e,t,n){e=Eg(e,Dg);for(var r=Eg(e.firestore,lb),i=Tb(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Dk(r,[("string"==typeof(t=tr(t))||t instanceof kb?Bb(i,"updateDoc",e._key,t,n,o):Mb(i,"updateDoc",e._key,t)).toMutation(e._key,Mf.exists(!0))])}function Ck(e,t){var n=Eg(e.firestore,lb),r=Rg(e),i=vk(e.converter,t);return Dk(n,[Nb(Tb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mf.exists(!1))]).then((function(){return r}))}function Tk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=tr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||sb(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(sb(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Dg)l=Eg(e.firestore,lb),f=af(e._key.path),c={next:function(t){n[s]&&n[s](Ok(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Eg(e,Og);l=Eg(p.firestore,lb),f=p._query;var v=new Sk(l);c={next:function(e){n[s]&&n[s](new kk(l,v,p,e))},error:n[s+1],complete:n[s+2]},Jb(e._query)}return function(e,t,n,r){var i=new Vg(r),a=new cy(t,i,n);return e.asyncQueue.enqueueAndForget(Me(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ny,t.next=3,rb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.bc(),e.asyncQueue.enqueueAndForget(Me(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=iy,t.next=3,rb(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(fb(l),f,h,c)}function Nk(e,t){return function(e,t){var n=new Vg(t);return e.asyncQueue.enqueueAndForget(Me(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ks(e).bu.add(t),t.next()},t.next=3,rb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.bc(),e.asyncQueue.enqueueAndForget(Me(Re().mark((function t(){return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ks(e).bu.delete(t)},t.next=3,rb(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(fb(e=Eg(e,lb)),sb(t)?t:{next:t})}function Dk(e,t){return function(e,t){var n=new Ws;return e.asyncQueue.enqueueAndForget(Me(Re().mark((function r(){return Re().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Iy,r.next=3,tb(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(fb(e),t)}function Ok(e,t,n){var r=n.docs.get(t._key),i=new Sk(e);return new gk(e,i,t._key,r,new yk(n.hasPendingWrites,n.fromCache),t.converter)}var Lk={maxAttempts:5},Pk=function(){function e(t,n){bn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tb(t)}return wn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Rk(e,this._firestore),i=vk(r.converter,t,n),a=Nb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Mf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Rk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=tr(t))||t instanceof kb?Bb(this._dataReader,"WriteBatch.update",i._key,t,n,o):Mb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Mf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Rk(e,this._firestore);return this._mutations=this._mutations.concat(new Jf(t._key,Mf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Hs(Qs.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Rk(e,t){if((e=tr(e)).firestore!==t)throw new Hs(Qs.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Fk=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r))._firestore=e,i}return wn(n,[{key:"get",value:function(e){var t=this,r=Rk(e,this._firestore),i=new Sk(this._firestore);return _i(En(n.prototype),"get",this).call(this,e).then((function(e){return new gk(t._firestore,i,r._key,e._document,new yk(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){bn(this,e),this._firestore=t,this._transaction=n,this._dataReader=Tb(t)}return wn(e,[{key:"get",value:function(e){var t=this,n=Rk(e,this._firestore),r=new mk(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return qs();var i=e[0];if(i.isFoundDocument())return new Yb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Yb(t._firestore,r,n._key,null,n.converter);throw qs()}))}},{key:"set",value:function(e,t,n){var r=Rk(e,this._firestore),i=vk(r.converter,t,n),a=Nb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Rk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=tr(t))||t instanceof kb?Bb(this._dataReader,"Transaction.update",i._key,t,n,o):Mb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Rk(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Mk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Pb("arrayUnion",t)}function Bk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Rb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fs=e}(Yr),zr(new nr("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new lb(new Js(e.getProvider("auth-internal")),new nc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hs(Qs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ti(Ps,"3.7.1",e),ti(Ps,"3.7.1","esm2017")}();function Vk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hs("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function jk(){if("undefined"===typeof Uint8Array)throw new Hs("unimplemented","Uint8Arrays are not available in this environment.")}function Uk(){if("undefined"==typeof atob)throw new Hs("unimplemented","Blobs are unavailable in Firestore in this environment.")}var zk=function(){function e(t){bn(this,e),this._delegate=t}return wn(e,[{key:"toBase64",value:function(){return Uk(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return jk(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Uk(),new e(bb.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return jk(),new e(bb.fromUint8Array(t))}}]),e}();function qk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ze(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Gk=function(){function e(){bn(this,e)}return wn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){gb(e=Eg(e,lb));var n=fb(e),r=e._freezeSettings(),i=new bg;return db(n,i,new yg(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){gb(e=Eg(e,lb));var t=fb(e),n=e._freezeSettings(),r=new bg;return db(t,r,new gg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Hs(Qs.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ws;return e._queue.enqueueAndForgetEvenWhileRestricted(Me(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Me(Re().mark((function e(t){var n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nc.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Nc.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(pv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Kk=function(){function e(t,n,r){var i=this;bn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ol||(this._appCompat=t)}return wn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Us("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ng(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return pb(this._delegate)}},{key:"disableNetwork",value:function(){return vb(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&wg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ws;return e.asyncQueue.enqueueAndForget(Me(Re().mark((function n(){return Re().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=My,n.next=3,tb(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(fb(e=Eg(e,lb)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Nk(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Hs("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new aw(this,Pg(this._delegate,e))}catch(t){throw Zk(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Xk(this,Rg(this._delegate,e))}catch(t){throw Zk(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new nw(this,function(e,t){if(e=Eg(e,Tg),kg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hs(Qs.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Og(e,null,function(e){return new nf(fc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Zk(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Eg(e,lb);var r=Object.assign(Object.assign({},Lk),n);return function(e){if(e.maxAttempts<1)throw new Hs(Qs.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ws;return e.asyncQueue.enqueueAndForget(Me(Re().mark((function i(){var a;return Re().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,nb(e);case 2:a=i.sent,new zg(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(fb(e),(function(n){return t(new Fk(e,n))}),r)}(this._delegate,(function(n){return e(new Hk(t,n))}))}},{key:"batch",value:function(){var e=this;return fb(this._delegate),new Wk(new Pk(this._delegate,(function(t){return Dk(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return mb(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return yb(this._delegate,e).then((function(e){return e?new nw(t,e):null}))}}]),e}(),Qk=function(e){An(n,e);var t=Cn(n);function n(e){var r;return bn(this,n),(r=t.call(this)).firestore=e,r}return wn(n,[{key:"convertBytes",value:function(e){return new zk(new bb(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Xk.forKey(t,this.firestore,null)}}]),n}(pk);var Hk=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Qk(t)}return wn(e,[{key:"get",value:function(e){var t=this,n=ow(e);return this._delegate.get(n).then((function(e){return new ew(t._firestore,new gk(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ow(e);return n?(Vk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ow(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ow(e);return this._delegate.delete(t),this}}]),e}(),Wk=function(){function e(t){bn(this,e),this._delegate=t}return wn(e,[{key:"set",value:function(e,t,n){var r=ow(e);return n?(Vk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=ow(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ow(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Yk=function(){function e(t,n,r){bn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return wn(e,[{key:"fromFirestore",value:function(e,t){var n=new bk(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Qk(t),n),i.set(n,a)),a}}]),e}();Yk.INSTANCES=new WeakMap;var Xk=function(){function e(t,n){bn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Qk(t)}return wn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new aw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new aw(this.firestore,Pg(this._delegate,e))}catch(t){throw Zk(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=tr(e))instanceof Dg&&Fg(this._delegate,e)}},{key:"set",value:function(e,t){t=Vk("DocumentReference.set",t);try{return t?Ik(this._delegate,e,t):Ik(this._delegate,e)}catch(n){throw Zk(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?_k(this._delegate,e):_k.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Zk(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Dk(Eg(e.firestore,lb),[new Jf(e._key,Mf.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Jk(n),a=$k(n,(function(t){return new ew(e.firestore,new gk(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Tk(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ak(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Eg(e,Dg);var t=Eg(e.firestore,lb);return ab(fb(t),e._key,{source:"server"}).then((function(n){return Ok(t,e,n)}))}(this._delegate):function(e){e=Eg(e,Dg);var t=Eg(e.firestore,lb);return ab(fb(t),e._key).then((function(n){return Ok(t,e,n)}))}(this._delegate),t.then((function(e){return new ew(n.firestore,new gk(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Yk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Hs("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Dg(n._delegate,r,new pc(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Dg(n._delegate,r,t))}}]),e}();function Zk(e,t,n){return e.message=e.message.replace(t,n),e}function Jk(e){var t,n=ze(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!qk(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function $k(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=qk(e[0])?e[0]:qk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ew=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n}return wn(e,[{key:"ref",get:function(){return new Xk(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return xk(this._delegate,e._delegate)}}]),e}(),tw=function(e){An(n,e);var t=Cn(n);function n(){return bn(this,n),t.apply(this,arguments)}return wn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||qs()}(void 0!==t),t}}]),n}(ew),nw=function(){function e(t,n){bn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Qk(t)}return wn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ek(this._delegate,function(e,t,n){var r=t,i=Zb("where",e);return new tk(i,r,n)}(t,n,r)))}catch(i){throw Zk(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ek(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Zb("orderBy",e);return new nk(n,t)}(t,n)))}catch(r){throw Zk(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ek(this._delegate,function(e){return Ig("limit",e),new rk("limit",e,"F")}(t)))}catch(n){throw Zk(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ek(this._delegate,function(e){return Ig("limitToLast",e),new rk("limitToLast",e,"L")}(t)))}catch(n){throw Zk(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ek(this._delegate,ak.apply(void 0,arguments)))}catch(t){throw Zk(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ek(this._delegate,ok.apply(void 0,arguments)))}catch(t){throw Zk(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ek(this._delegate,sk.apply(void 0,arguments)))}catch(t){throw Zk(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ek(this._delegate,ck.apply(void 0,arguments)))}catch(t){throw Zk(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Mg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Ek(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Eg(e,Og);var t=Eg(e.firestore,lb),n=fb(t),r=new Sk(t);return ob(n,e._query,{source:"server"}).then((function(n){return new kk(t,r,e,n)}))}(this._delegate):function(e){e=Eg(e,Og);var t=Eg(e.firestore,lb),n=fb(t),r=new Sk(t);return Jb(e._query),ob(n,e._query).then((function(n){return new kk(t,r,e,n)}))}(this._delegate),t.then((function(e){return new iw(n.firestore,new kk(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Jk(n),a=$k(n,(function(t){return new iw(e.firestore,new kk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Tk(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Yk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),rw=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n}return wn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new tw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),iw=function(){function e(t,n){bn(this,e),this._firestore=t,this._delegate=n}return wn(e,[{key:"query",get:function(){return new nw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new tw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new rw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new tw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return xk(this._delegate,e._delegate)}}]),e}(),aw=function(e){An(n,e);var t=Cn(n);function n(e,r){var i;return bn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return wn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Xk(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Xk(this.firestore,void 0===e?Rg(this._delegate):Rg(this._delegate,e))}catch(t){throw Zk(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Ck(this._delegate,e).then((function(e){return new Xk(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Fg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Yk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(nw);function ow(e){return Eg(e,Dg)}var uw,sw=function(){function e(){bn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Tn(kb,n)}return wn(e,[{key:"isEqual",value:function(e){return(e=tr(e))instanceof kb&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(dc.keyField().canonicalString())}}]),e}(),cw=function(){function e(t){bn(this,e),this._delegate=t}return wn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Lb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Db("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=Mk.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Bk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new Fb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),lw={Firestore:Kk,GeoPoint:xb,Timestamp:sc,Blob:zk,Transaction:Hk,WriteBatch:Wk,DocumentReference:Xk,DocumentSnapshot:ew,Query:nw,QueryDocumentSnapshot:tw,QuerySnapshot:iw,CollectionReference:aw,FieldPath:sw,FieldValue:cw,setLogLevel:function(e){!function(e){Ms.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new nr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},lw)))})(uw=Ei,(function(e,t){return new Kk(e,t,new Gk)})),uw.registerVersion("@firebase/firestore-compat","0.2.1");ti("firebase","9.12.1","app");var fw=function(e,t){var n="string"==typeof e?e:t||"(default)",r=qr("object"==typeof e?e:Zr(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Un("firestore");i&&Ng.apply(void 0,[r].concat((0,qe.Z)(i)))}return r}(Xr({apiKey:"AIzaSyCEn_P5nWdBvgNLS4goGbuvE0w0PKBh32M",authDomain:"coffee-shop-app-a3c67.firebaseapp.com",projectId:"coffee-shop-app-a3c67",storageBucket:"coffee-shop-app-a3c67.appspot.com",messagingSenderId:"74247753047",appId:"1:74247753047:web:4bf63cf444bed07526c212",measurementId:"G-3NQ14BLZ8M"}));var hw=function(e){var t=R(),n=(0,r.useContext)(G.J).setShoppingCartItems,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:e.defaultValues}),i=(0,a.Z)(n,2),o=i[0],u=i[1];t.current||(t.current=Le(Le({},gn(e)),{},{formState:o}));var s=t.current.control;return s._options=e,xt({subject:s._subjects.state,callback:r.useCallback((function(e){kt(e,s._proxyFormState,!0)&&(s._formState=Le(Le({},s._formState),e),u(Le({},s._formState)))}),[s])}),r.useEffect((function(){s._stateFlags.mount||(s._proxyFormState.isValid&&s._updateValid(),s._stateFlags.mount=!0),s._stateFlags.watch&&(s._stateFlags.watch=!1,s._subjects.state.next({})),s._removeUnmounted()})),t.current.formState=gt(o,s),t.current}(),o=i.register,u=i.handleSubmit,s=function(){var e=Me(Re().mark((function e(t){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ck(Pg(fw,"orders"),t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Y.jsxs)("form",{className:Be,onSubmit:u((function(e){var r=localStorage.getItem("shoppingCartItems")?JSON.parse(localStorage.getItem("shoppingCartItems")):[],i=ie();s({fullName:e.fullName,email:e.email,address:e.address,phoneNumber:e.phoneNumber,itemsOrdered:r,totalAmountPaid:r.map((function(e){return parseFloat(e.price.replace("$",""))})).reduce((function(e,t){return e+t}),0).toFixed(2),timestamp:new Date,orderNumber:i}),t("/products/checkout/orderDetails/confirmation",{state:{orderNumber:i}}),localStorage.clear(),n([])})),children:[(0,Y.jsx)("div",{className:Ve,children:(0,Y.jsx)("h1",{children:"Shipping & Payment Details"})}),(0,Y.jsx)("div",{className:je,children:(0,Y.jsx)("input",Le(Le({},o("fullName",{required:!0})),{},{placeholder:"Full Name",type:"text"}))}),(0,Y.jsx)("div",{className:je,children:(0,Y.jsx)("input",Le(Le({},o("address",{required:!0})),{},{placeholder:"Address",type:"text"}))}),(0,Y.jsx)("div",{className:je,children:(0,Y.jsx)("input",Le(Le({},o("city",{required:!0})),{},{placeholder:"City",type:"text"}))}),(0,Y.jsx)("div",{className:je,children:(0,Y.jsx)("input",Le(Le({},o("state",{required:!0})),{},{placeholder:"State",type:"text"}))}),(0,Y.jsx)("div",{className:je,children:(0,Y.jsx)("input",Le(Le({},o("zipCode",{required:!0})),{},{placeholder:"Zip Code",type:"text"}))}),(0,Y.jsx)("div",{className:je,children:(0,Y.jsx)("input",Le(Le({},o("phoneNumber",{required:!0})),{},{placeholder:"Phone Number",type:"text"}))}),(0,Y.jsx)("div",{className:je,children:(0,Y.jsx)("input",Le(Le({},o("email",{required:!0})),{},{placeholder:"Email",type:"text"}))}),(0,Y.jsx)("div",{className:je,id:"payment",children:(0,Y.jsx)("input",{value:"Payment on Delivery - Online Payments Unavailable At This Time ",type:"text",disabled:!0})}),(0,Y.jsx)(X,{type:"submit",label:"Complete Purchase",width:"90%",margin:"15px auto 30px auto",backgroundColor:"darkgray"})]})};var dw=function(e){return(0,Y.jsx)("div",{className:Ne,children:(0,Y.jsx)(hw,{fields:["Full Name","Address","City","State","Zip Code","Phone Number","Email"]})})},pw="OrderConfirmation_OrderConfirmation__XhfhE",vw="OrderConfirmation_OrderConfirmation__content__v6Ha-";var mw=function(e){var t=P();return(0,Y.jsx)("div",{className:pw,children:(0,Y.jsxs)("div",{className:vw,children:[(0,Y.jsx)("h1",{children:"Thank you for your order!"}),(0,Y.jsxs)("p",{children:["Your order number is: ",t.state.orderNumber]})]})})},yw="NotFound_NotFound__jfbp4",gw="NotFound_NotFound__content__aEHux";var bw=function(e){return(0,Y.jsx)("div",{className:yw,children:(0,Y.jsxs)("div",{className:gw,children:[(0,Y.jsx)("h1",{children:"404 - Page Not Found"}),(0,Y.jsx)("p",{children:" Please use the navigation bar on top of the page..."})]})})};var kw=function(){return(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)(G.p,{children:[(0,Y.jsx)(Se,{}),(0,Y.jsx)(K.ReactNotifications,{}),(0,Y.jsxs)(z,{children:[(0,Y.jsx)(j,{path:"/",element:(0,Y.jsx)(Z,{})}),(0,Y.jsx)(j,{path:"/home",element:(0,Y.jsx)(Z,{})}),(0,Y.jsxs)(j,{path:"/products",children:[(0,Y.jsx)(j,{index:!0,element:(0,Y.jsx)(ue,{})}),(0,Y.jsx)(j,{path:"checkout",element:(0,Y.jsx)(Te,{})}),(0,Y.jsx)(j,{path:"checkout/orderDetails",element:(0,Y.jsx)(dw,{})}),(0,Y.jsx)(j,{path:"checkout/orderDetails/confirmation",element:(0,Y.jsx)(mw,{})})]}),(0,Y.jsx)(j,{path:"/about",element:(0,Y.jsx)(ee,{})}),(0,Y.jsx)(j,{path:"*",element:(0,Y.jsx)(bw,{})})]})]})})},ww=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Y.jsx)(ge,{children:(0,Y.jsx)(G.p,{children:(0,Y.jsx)(r.StrictMode,{children:(0,Y.jsx)(kw,{})})})})),ww()}()}();
//# sourceMappingURL=main.5379cfb3.js.map